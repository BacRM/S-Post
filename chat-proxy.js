try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},o=(new e.Error).stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="932f0e0e-d307-47ec-a9e2-bb35c035145b",e._sentryDebugIdIdentifier="sentry-dbid-932f0e0e-d307-47ec-a9e2-bb35c035145b")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"25.11.20-edge"},(()=>{"use strict";var e,o={135:(e,o,n)=>{n.d(o,{E$:()=>i,jq:()=>t}),parseInt("28",10);const t="https://app.perfectpost.fr",i="WARN"}},n={};function t(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}};return o[e](s,s.exports,t),s.exports}t.d=(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"}(e||(e={}));const i={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class s{constructor(o,n=e.WARN){this.name=o,this.level=n,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){const e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e?(this._config=e,this._config):this._config}_log(o,...n){let t=this.level;if(s.LOG_LEVEL&&(t=s.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(t=window.LOG_LEVEL),!(i[o]>=i[t]))return;let r=console.log.bind(console);o===e.ERROR&&console.error&&(r=console.error.bind(console)),o===e.WARN&&console.warn&&(r=console.warn.bind(console)),s.BIND_ALL_LOG_LEVELS&&(o===e.INFO&&console.info&&(r=console.info.bind(console)),o===e.DEBUG&&console.debug&&(r=console.debug.bind(console)));const d=`[${o}] ${this._ts()} ${this.name}`;let a="";if(1===n.length&&"string"==typeof n[0])a=`${d} - ${n[0]}`,r(a);else if(1===n.length)a=`${d} ${n[0]}`,r(d,n[0]);else if("string"==typeof n[0]){let e=n.slice(1);1===e.length&&(e=e[0]),a=`${d} - ${n[0]} ${e}`,r(`${d} - ${n[0]}`,e)}else a=`${d} ${n}`,r(d,n);for(const e of this._pluggables){const o={message:a,timestamp:Date.now()};e.pushLogs([o])}}log(...o){this._log(e.INFO,...o)}info(...o){this._log(e.INFO,...o)}warn(...o){this._log(e.WARN,...o)}error(...o){this._log(e.ERROR,...o)}debug(...o){this._log(e.DEBUG,...o)}verbose(...o){this._log(e.VERBOSE,...o)}addPluggable(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}s.LOG_LEVEL=null,s.BIND_ALL_LOG_LEVELS=!1;var r=t(135);const d="PP_CHATKIT";s.LOG_LEVEL=r.E$;const a=new s("ChatProxy"),l=new URL(r.jq).origin,g=document.referrer?new URL(document.referrer).origin:"https://www.linkedin.com";function c(e){window.parent.postMessage(e,g)}const f=(...e)=>c({ns:d,type:"LOG",level:"error",args:e});window.addEventListener("message",e=>(a.debug("Received message:",{origin:e.origin,data:e.data}),e.source===window.parent&&e.origin===g&&function(e){if(!e||"object"!=typeof e)return!1;const o=e;return o.ns===d&&"string"==typeof o.cmd}(e.data)?(a.debug("Relaying command from extension to SAAS:",e.data),void function(e){const o=document.getElementById("saas-chat-iframe");o&&o.contentWindow&&o.contentWindow.postMessage(e,l)}(e.data)):e.origin===l&&function(e){if(!e||"object"!=typeof e)return!1;const o=e;return o.ns===d&&"string"==typeof o.type}(e.data)?(a.debug("Relaying event from SAAS to extension:",e.data),void c(e.data)):void a.debug("Ignored message:",{origin:e.origin,source:e.source===window.parent?"parent":"other",reason:"Invalid origin or source"}))),document.addEventListener("DOMContentLoaded",()=>{a.info("Chat proxy initialized"),function(){const e=document.getElementById("saas-chat-iframe");e?(e.src=`${r.jq}/chat`,e.onload=()=>{a.info("SAAS iframe loaded, ready for communication"),c({ns:d,type:"READY"})},e.onerror=()=>{f("Failed to load SAAS iframe"),c({ns:d,type:"ERROR",message:"Failed to load SAAS chat"})}):f("SAAS iframe not found")}()}),a.info("Chat proxy script loaded")})();
//# sourceMappingURL=chat-proxy.js.map