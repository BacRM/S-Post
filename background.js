/*! For license information please see background.js.LICENSE.txt */
try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="61a4a34e-ccab-4a25-8d7f-7bea75daf8e6",e._sentryDebugIdIdentifier="sentry-dbid-61a4a34e-ccab-4a25-8d7f-7bea75daf8e6")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"25.11.20-edge"},(()=>{var e={12:(e,t,n)=>{"use strict";n.d(t,{H:()=>u});var o=n(9280);const i=e=>{const t=Reflect.ownKeys(e);for(const n of t){const t=e[n];(t&&"object"==typeof t||"function"==typeof t)&&i(t)}return Object.freeze(e)},s=Symbol("oauth-listener");var r=n(4216);n(8532),n(4424);const a=new(n(1414).C)("Auth");class c{configure(e,t){this.authConfig=e,this.authOptions=t,e&&e.Cognito?.userPoolEndpoint&&a.warn(d("Amazon Cognito User Pool")),e&&e.Cognito?.identityPoolEndpoint&&a.warn(d("Amazon Cognito Identity Pool"))}async fetchAuthSession(e={}){let t,n;const o=await this.getTokens(e);return o?(n=o.accessToken?.payload?.sub,t=await(this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:o,authenticated:!0,forceRefresh:e.forceRefresh}))):t=await(this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh})),{tokens:o,credentials:t?.credentials,identityId:t?.identityId,userSub:n}}async clearCredentials(){await(this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId())}async getTokens(e){return await(this.authOptions?.tokenProvider?.getTokens(e))??void 0}}const d=e=>`You are using a custom Amazon ${e} endpoint, ensure the endpoint is correct.`,u=new class{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new c}configure(e,t){const n=(0,r.M)(e);this.resourcesConfig=n,t&&(this.libraryOptions=t),this.resourcesConfig=i(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),o.YZ.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",o.U9),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[s](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth&&this.oAuthListener&&(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}}},135:(e,t,n)=>{"use strict";n.d(t,{Cz:()=>c,Do:()=>p,E$:()=>s,FZ:()=>u,V7:()=>a,ZF:()=>l,jq:()=>i,js:()=>o,s6:()=>r,xE:()=>d});const o=parseInt("28",10),i="https://app.perfectpost.fr",s="WARN",r="eu-west-3:04a35e2b-7012-4920-b0bd-7531884f5dc2",a="eu-west-3_NGpvCFT29",c="6ms6fnt2imiugtk1m72iv8bn42",d="https://api.perfectpost.fr/v1",u="perfect-post-api",l="4258fd0662441212e44d8ab268b1e1be",p="https://chat.perfectpost.social"},149:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){const t={designId:e.designId,...void 0!==e.export_format?{export_format:e.export_format}:{}};super(o.bE,{path:"/canva/create-export-job",options:{body:t}})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},249:(e,t,n)=>{"use strict";n.d(t,{O:()=>d});var o=n(8221),i=n(1414),s=n(5036),r=n(6154),a=n(5933);const c=new i.C("DeleteDraftMessageHandler");class d extends o.kY{validate(e){return super.validate(e)&&"delete_draft"===e.type}async handle(e){c.info(e);try{return await a.c.send(new r.B(e.draftId)),await a.c.send(new s.L)}catch(e){return c.error(e),[]}}}},435:(e,t,n)=>{"use strict";n.d(t,{L:()=>g});var o=n(7563),i=n(1030),s=n(2062),r=(n(8532),n(9821)),a=n(6209),c=n(456),d=n(1018),u=n(7286),l=n(8379),p=n(7796);async function g({username:e,password:t,clientMetadata:n,config:g,tokenOrchestrator:h,authFlow:m,preferredChallenge:f}){const{userPoolId:y,userPoolClientId:w,userPoolEndpoint:v}=g,E=y?.split("_")[1]||"",A=await(0,s.H)(E),I={USERNAME:e,SRP_A:A.A.toString(16)};"USER_AUTH"===m&&f&&(I.PREFERRED_CHALLENGE=f);const x={AuthFlow:m,AuthParameters:I,ClientMetadata:n,ClientId:w,UserContextData:(0,i.d)({username:e,userPoolId:y,userPoolClientId:w})},S=(0,r.R)({endpointResolver:(0,a.o)({endpointOverride:v})}),C=await S({region:(0,c.J)(y),userAgentValue:(0,d.A)(o.BM.SignIn)},x),{ChallengeParameters:b,Session:P}=C,_=b?.USERNAME??e;return(0,p.d)(_),"PASSWORD_VERIFIER"===C.ChallengeName?(0,l.i)(u.f,[t,b,n,P,A,g,h],_,h):C}},439:(e,t,n)=>{"use strict";n.d(t,{Cg:()=>o,_P:()=>s,s0:()=>i}),Math.pow(10,8);const o=6e4,i=36e5,s=Symbol.for("constructDateFrom")},456:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,J:()=>i});var o=n(5811);function i(e){const t=e?.split("_")[0];if(!e||e.indexOf("_")<0||!t||"string"!=typeof t)throw new o.l({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function s(e){if(!e||!e.includes(":"))throw new o.l({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}},550:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var o=n(8221),i=n(5933),s=n(6507),r=n(3339);class a extends o.kY{validate(e){return super.validate(e)&&"list_canva_designs"===e.type}async handle(e){if(void 0===(await i.c.send(new r.s)).canva)return{error:"Canva not configured",authenticated:!1};const t=new s.O({continuation:e.continuation,sort_by:"modified_descending"}),n=await i.c.send(t);return{items:n.items,continuation:n.continuation}}}},582:(e,t,n)=>{"use strict";var o;n.d(t,{P:()=>o}),function(e){e.EmptySignInUsername="EmptySignInUsername",e.EmptySignInPassword="EmptySignInPassword",e.CustomAuthSignInPassword="CustomAuthSignInPassword",e.EmptySignUpUsername="EmptySignUpUsername",e.EmptySignUpPassword="EmptySignUpPassword",e.EmptyConfirmSignUpUsername="EmptyConfirmSignUpUsername",e.EmptyConfirmSignUpCode="EmptyConfirmSignUpCode",e.EmptyResendSignUpCodeUsername="EmptyresendSignUpCodeUsername",e.EmptyChallengeResponse="EmptyChallengeResponse",e.EmptyConfirmResetPasswordUsername="EmptyConfirmResetPasswordUsername",e.EmptyConfirmResetPasswordNewPassword="EmptyConfirmResetPasswordNewPassword",e.EmptyConfirmResetPasswordConfirmationCode="EmptyConfirmResetPasswordConfirmationCode",e.EmptyResetPasswordUsername="EmptyResetPasswordUsername",e.EmptyVerifyTOTPSetupCode="EmptyVerifyTOTPSetupCode",e.EmptyConfirmUserAttributeCode="EmptyConfirmUserAttributeCode",e.IncorrectMFAMethod="IncorrectMFAMethod",e.EmptyUpdatePassword="EmptyUpdatePassword"}(o||(o={}))},591:(e,t,n)=>{"use strict";n.d(t,{u:()=>d});var o=n(8221),i=n(1414),s=n(8260),r=n(5933),a=n(4432);const c=new i.C("EditListMessageHandler");class d extends o.kY{validate(e){return super.validate(e)&&"edit_list"===e.type}async handle(e){c.info(e);const t=await s.a.get();void 0!==t&&(await r.c.send(new a.w({id:e.id,name:e.name})),t.lists=t.lists.map(t=>(t._id===e.id&&(t.name=e.name),t)),await s.a.setLists(t.lists))}}},627:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var o=n(2441),i=n(757),s=n(4627);async function r(e){if(!e.AccessToken)throw new i.x({message:"Invalid tokens",name:"InvalidTokens",recoverySuggestion:"Check Cognito UserPool settings"});{const t=(0,o.Cq)(e.AccessToken),n=1e3*(t.payload.iat||0),i=(new Date).getTime(),r=n>0?n-i:0;let a,c,d;e.RefreshToken&&(c=e.RefreshToken),e.IdToken&&(a=(0,o.Cq)(e.IdToken)),e?.NewDeviceMetadata&&(d=e.NewDeviceMetadata);const u={accessToken:t,idToken:a,refreshToken:c,clockDrift:r,deviceMetadata:d,username:e.username};e?.signInDetails&&(u.signInDetails=e.signInDetails),await s.o.setTokens({tokens:u})}}},631:(e,t,n)=>{"use strict";n.d(t,{i:()=>m});var o=n(9495);const i=async()=>{const{userAgentData:e}=navigator;if(!e)return navigator.userAgent;const{platform:t="",platformVersion:n="",model:o="",architecture:i="",fullVersionList:s=[]}=await e.getHighEntropyValues(["platform","platformVersion","architecture","model","fullVersionList"]);return[t,n,i,o,t,s.map(e=>`${e.brand}/${e.version}`).join(";")].filter(e=>e).join(" ")||navigator.userAgent};var s=n(914),r=n(4337),a=n(8106),c=n(915),d=n(2250);const u=e=>(0,s.A)(r.e,(0,a._)("ConfirmDevice"),(0,c.T)(),{...d.C,...e});var l=n(6209),p=n(456),g=n(2062),h=n(6636);async function m({userPoolId:e,userPoolEndpoint:t,newDeviceMetadata:n,accessToken:s}){if(!n)return;const r=e.split("_")[1]||"",a=await(0,g.H)(r),c=n?.DeviceKey,d=n?.DeviceGroupKey;try{await a.generateHashDevice(d??"",c??"")}catch(e){return}const m={Salt:o.Y.convert((0,h.d)(a.getSaltToHashDevices())),PasswordVerifier:o.Y.convert((0,h.d)(a.getVerifierDevices()))},f=a.getRandomPassword();try{const o=u({endpointResolver:(0,l.o)({endpointOverride:t})});return await o({region:(0,p.J)(e)},{AccessToken:s,DeviceName:await i(),DeviceKey:n?.DeviceKey,DeviceSecretVerifierConfig:m}),{deviceKey:c,deviceGroupKey:d,randomPassword:f}}catch(e){return}}n(8532)},632:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor({name:e,description:t,private:n}){const i={name:e};void 0!==t&&(i.description=t),void 0!==n&&(i.private=n),super(o.bE,{path:"/list",options:{body:i}})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},757:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});class o extends Error{constructor({message:e,name:t,recoverySuggestion:n,underlyingError:i,metadata:s}){if(super(e),this.name=t,this.underlyingError=i,this.recoverySuggestion=n,s){const{extendedRequestId:e,httpStatusCode:t,requestId:n}=s;this.metadata={extendedRequestId:e,httpStatusCode:t,requestId:n}}this.constructor=o,Object.setPrototypeOf(this,o.prototype)}}},879:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){super(o.Jt,{path:"/activity/today",options:{queryParams:{timeZone:e}}})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},914:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o=(e,t,n,o)=>async(i,s)=>{const r={...o,...i},a=await r.endpointResolver(r,s),c=await t(s,a),d=await e(c,{...r});return n(d)}},915:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var o=n(1007),i=n(4520),s=n(5811);const r=()=>async e=>{if(e.statusCode>=300){const t=await(0,o.F)(e);throw(0,i.e)(t),new s.l({name:t.name,message:t.message,metadata:t.$metadata})}return(0,o.Y)(e)}},1007:(e,t,n)=>{"use strict";n.d(t,{F:()=>i,Y:()=>s});var o=n(4780);const i=async e=>{if(!e||e.statusCode<300)return;const t=await s(e),n=(e=>{const[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError"),i=t.message??t.Message??"Unknown error",r=new Error(i);return Object.assign(r,{name:n,$metadata:(0,o.j)(e)})},s=async e=>{if(!e.body)throw new Error("Missing response payload");const t=await e.body.json();return Object.assign(t,{$metadata:(0,o.j)(e)})}},1017:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var o=n(5999),i=n(1496),s=n(1288);class r extends i.u{constructor(e){const t={_internalName:e._internalName};void 0!==e._id&&(t._id=e._id),t.data=e.data,void 0!==e.error&&(t.error=e.error),super(s.bE,{path:"/extension/next-command",options:{body:t}})}async deserialize(e){const{body:t,statusCode:n}=await e.response;if(204===n)return;const i=await t.json();return null===i||"object"!=typeof i||Array.isArray(i)?void 0:Object.assign(new o.es("GET",""),i)}}},1018:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(3939),i=n(7563);const s=(e,t)=>(0,o.fE)({category:i.b7.Auth,action:e,...t})},1030:(e,t,n)=>{"use strict";function o({username:e,userPoolId:t,userPoolClientId:n}){if("undefined"==typeof window)return;const o=window.AmazonCognitoAdvancedSecurityData;if(void 0===o)return;const i=o.getData(e,t,n);return i?{EncodedData:i}:{}}n.d(t,{d:()=>o})},1048:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor({id:e}){super(o.yH,{path:`/list/${e}`})}async deserialize(e){await e.response}}},1083:(e,t,n)=>{"use strict";n.d(t,{OU:()=>o,d1:()=>i});const o="Logging",i="NoHubcallbackProvidedException"},1226:(e,t,n)=>{"use strict";var o;n.d(t,{F:()=>o}),function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"}(o||(o={}))},1243:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var o=n(5999);class i{constructor(e){this.clientParameters=e}async send(e){const t=fetch(e.url,{headers:{accept:"application/vnd.linkedin.normalized+json+2.1","cache-control":"no-cache","csrf-token":this.clientParameters.csrf,pragma:"no-cache","x-li-lang":"fr"===this.clientParameters.locale?"fr_FR":"en"===this.clientParameters.locale?"en_US":"es"===this.clientParameters.locale?"es_ES":this.clientParameters.locale,"x-li-deco-include-micro-schema":"true","x-restli-protocol-version":"2.0.0","sec-fetch-site":"same-origin",origin:"https://www.linkedin.com",...e.headers},referrer:e.referrer??"https://www.linkedin.com/feed/",referrerPolicy:"strict-origin-when-cross-origin",body:e.body instanceof Blob?e.body:"object"==typeof e.body?JSON.stringify(e.body):void 0,method:e.method,mode:"cors",credentials:"include"}),n=await t;let i=new o.bd(void 0);return i=n.ok?new o.bd(await e.deserialize(n)):401===n.status?new o.bd(void 0,new o.tm):403===n.status?new o.bd(void 0,new o.Vv(await n.text())):500===n.status?new o.bd(void 0,new o.lo):new o.bd(void 0,new Error(await n.text())),i}}},1288:(e,t,n)=>{"use strict";n.d(t,{yH:()=>Y,Jt:()=>W,bE:()=>G});var o=n(7835),i=n(12),s=n(4923),r=n(1007),a=n(2694);const c=async e=>{if(!e)return;const t=await(0,r.F)(d(e));if(t){const n=await(e.body?.text());return u(t,{statusCode:e.statusCode,headers:e.headers,body:n})}},d=e=>{let t;const n=new Proxy(e.body,{get:(e,n,o)=>"json"===n?async()=>{t||(t=e.text());try{return JSON.parse(await t)}catch(e){return{}}}:"text"===n?async()=>(t||(t=e.text()),t):Reflect.get(e,n,o)});return new Proxy(e,{get:(e,t,o)=>"body"===t?n:Reflect.get(e,t,o)})},u=(e,t)=>{const n=new a.v({name:e?.name,message:e.message,underlyingError:e,response:t});return Object.assign(n,{$metadata:e.$metadata})},l=new(n(1414).C)("RestApis"),p="execute-api",g="us-east-1",h=/^.+\.([a-z0-9-]+)\.([a-z0-9-]+)\.amazonaws\.com/,m=(e,t)=>{const{service:n=p,region:o=g}=t?.amplify.getConfig()?.API?.REST?.[t?.apiName]??{},{hostname:i}=e,[,s,r]=h.exec(i)??[];return s===p?{service:s,region:r??o}:"appsync-api"===s?{service:"appsync",region:r??o}:{service:n,region:o}};var f=n(5368),y=n(5164);const w=({headers:e},t)=>!e.authorization&&!!t;var v=n(4665),E=n(6301),A=n(9593),I=n(5713),x=n(5107);const S=e=>Object.keys(e).map(e=>e.toLowerCase()).sort().join(";"),C="X-Amz-Date".toLowerCase(),b="X-Amz-Security-Token".toLowerCase(),P="aws4_request",_="AWS4-HMAC-SHA256";var T=n(8532),R=n(4424);const N=(e,t)=>{const n=new T.I(e??void 0);return n.update(t),n.digestSync()},k=(e,t)=>{const n=N(e,t);return(0,R.n)(n)},U=e=>Object.entries(e).map(([e,t])=>({key:e.toLowerCase(),value:t?.trim().replace(/\s+/g," ")??""})).sort((e,t)=>e.key<t.key?-1:1).map(e=>`${e.key}:${e.value}\n`).join(""),M=e=>encodeURIComponent(e).replace(/[!'()*]/g,D),D=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,O=(e,t=!0)=>e?t?encodeURIComponent(e).replace(/%2F/g,"/"):e:"/",F=e=>null==e?"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855":L(e)?k(null,e):"UNSIGNED-PAYLOAD",L=e=>"string"==typeof e||ArrayBuffer.isView(e)||$(e),$=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),q=e=>new Date(Date.now()+e);var j=n(7884);const V=(0,j.q)(A.Q,[I.L,x.b,({credentials:e,region:t,service:n,uriEscapePath:o=!0})=>{let i;return(s,r)=>async function(a){i=i??0;const c={credentials:"function"==typeof e?await e({forceRefresh:!!r?.isCredentialsExpired}):e,signingDate:q(i),signingRegion:t,signingService:n,uriEscapePath:o},d=await((e,t)=>{const n=(({credentials:e,signingDate:t=new Date,signingRegion:n,signingService:o,uriEscapePath:i=!0})=>{const{accessKeyId:s,secretAccessKey:r,sessionToken:a}=e,{longDate:c,shortDate:d}=(e=>{const t=e.toISOString().replace(/[:-]|\.\d{3}/g,"");return{longDate:t,shortDate:t.slice(0,8)}})(t);return{accessKeyId:s,credentialScope:`${d}/${n}/${o}/${P}`,longDate:c,secretAccessKey:r,sessionToken:a,shortDate:d,signingRegion:n,signingService:o,uriEscapePath:i}})(t),{accessKeyId:o,credentialScope:i,longDate:s,sessionToken:r}=n,a={...e.headers};a.host=e.url.host,a[C]=s,r&&(a[b]=r);const c={...e,headers:a},d=((e,{credentialScope:t,longDate:n,secretAccessKey:o,shortDate:i,signingRegion:s,signingService:r,uriEscapePath:a})=>{const c=(({body:e,headers:t,method:n,url:o},i=!0)=>{return[n,O(o.pathname,i),(s=o.searchParams,Array.from(s).sort(([e,t],[n,o])=>e===n?t<o?-1:1:e<n?-1:1).map(([e,t])=>`${M(e)}=${M(t)}`).join("&")),U(t),S(t),F(e)].join("\n");var s})(e,a),d=((e,t,n)=>[_,e,t,n].join("\n"))(n,t,k(null,c)),u=k(((e,t,n,o)=>{const i=N(`AWS4${e}`,t),s=N(i,n),r=N(s,o);return N(r,P)})(o,i,s,r),d);return u})(c,n),u=`Credential=${o}/${i}`,l=`SignedHeaders=${S(a)}`,p=`Signature=${d}`;return a.authorization=`${_} ${u}, ${l}, ${p}`,c})(a,c),u=await s(d),l=(({headers:e}={})=>e?.date??e?.Date??e?.["x-amz-date"])(u);return l&&(i=((e,t)=>((e,t)=>Math.abs(q(t).getTime()-e)>=3e5)(e,t)?e-Date.now():t)(Date.parse(l),i)),u}}]),B=(0,j.q)(A.Q,[I.L,x.b]),H=e=>{const t=e?.strategy;return"no-retry"===t?()=>Promise.resolve({retryable:!1}):(0,E.D)(c)},K=async e=>{try{const{credentials:t}=await e.Auth.fetchAuthSession();if(t)return t}catch(e){l.debug("No credentials available, the request will be unsigned.")}return null},z=(e,t,n)=>function(e){const t=new AbortController,n=t.signal;let i;const s=async()=>{try{const t=await e(n);if(t.statusCode>=300)throw await c(t);return t}catch(e){const t=n,s=i??t.reason;if("AbortError"===e.name||!0===t?.aborted){const t=new o.k({...s&&{message:s},underlyingError:e,recoverySuggestion:"The API request was explicitly canceled. If this is not intended, validate if you called the `cancel()` function on the API request erroneously."});throw l.debug(e),t}throw l.debug(e),e}};{const e=e=>{!0!==n.aborted&&(t.abort(e),e&&n.reason!==e&&(i=e))};return{response:s(),cancel:e}}}(async o=>{const{apiName:i,options:r={},path:c}=t,d=((e,t,n,o)=>{const i=e.getConfig()?.API?.REST?.[t]?.endpoint;(0,y.M)(!!i,s.x.InvalidApiName);try{let e;if(e=f.o.canParse(i+n)?new f.o(i+n):new f.o(i+n,location?.origin),o){const t=new f.g(e.searchParams);Object.entries(o).forEach(([e,n])=>{t.set(e,n)}),e.search=new f.g(t).toString()}return e}catch(e){throw new a.v({name:s.x.InvalidApiName,...s.u[s.x.InvalidApiName],recoverySuggestion:`Please make sure the REST endpoint URL is a valid URL string. Got ${i}`})}})(e,i,c,r?.queryParams),u=await(e.libraryOptions?.API?.REST?.headers?.({apiName:i})),{headers:p={}}=r,g={...u,...p},h=m(d,{amplify:e,apiName:i});return l.debug(n,d,g,`IAM signing options: ${JSON.stringify(h)}`),(async(e,t,n,o)=>{const{url:i,method:s,headers:r,body:a,withCredentials:c,abortSignal:d,retryStrategy:u}=t,l=a?a instanceof FormData?a:JSON.stringify(a??""):void 0,p=((e,t)=>{const n={};for(const t in e)n[t.toLowerCase()]=e[t];if(t){const e=n["content-type"];e&&(e.startsWith("application/json")||e.startsWith("application/")&&e.includes("+json"))||(n["content-type"]="application/json; charset=UTF-8"),t instanceof FormData&&delete n["content-type"]}return n})(r,a),g={url:i,headers:p,method:s,body:l},h={retryDecider:H(u??e?.libraryOptions?.API?.REST?.retryStrategy),computeDelay:v.y,withCrossDomainCredentials:c,abortSignal:d},f=n(g,o);let y;const w=await K(e);if(f&&w){const e=m(i),t=o?.service??e.service,n=o?.region??e.region;y=await V(g,{...h,credentials:w,region:n,service:t})}else y=await B(g,{...h});return{statusCode:y.statusCode,headers:y.headers,body:y.body}})(e,{...r,url:d,method:n,headers:g,abortSignal:o},w,h)}),W=e=>((e,t)=>z(e,t,"GET"))(i.H,e),G=e=>((e,t)=>z(e,t,"POST"))(i.H,e),Y=e=>((e,t)=>z(e,t,"DELETE"))(i.H,e)},1398:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var o=n(8221),i=n(1414),s=n(7737),r=n(5933);const a=new i.C("GetCanvaExportJobStatusMessageHandler");class c extends o.kY{validate(e){return super.validate(e)&&"get_canva_export_job_status"===e.type&&"string"==typeof e.exportId}async handle(e){a.info(e);const t=new s.o({exportId:e.exportId});return r.c.send(t)}}},1414:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});var o=n(1083),i=n(1226);const s={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class r{constructor(e,t=i.F.WARN){this.name=e,this.level=t,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){const e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e?(this._config=e,this._config):this._config}_log(e,...t){let n=this.level;if(r.LOG_LEVEL&&(n=r.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(n=window.LOG_LEVEL),!(s[e]>=s[n]))return;let o=console.log.bind(console);e===i.F.ERROR&&console.error&&(o=console.error.bind(console)),e===i.F.WARN&&console.warn&&(o=console.warn.bind(console)),r.BIND_ALL_LOG_LEVELS&&(e===i.F.INFO&&console.info&&(o=console.info.bind(console)),e===i.F.DEBUG&&console.debug&&(o=console.debug.bind(console)));const a=`[${e}] ${this._ts()} ${this.name}`;let c="";if(1===t.length&&"string"==typeof t[0])c=`${a} - ${t[0]}`,o(c);else if(1===t.length)c=`${a} ${t[0]}`,o(a,t[0]);else if("string"==typeof t[0]){let e=t.slice(1);1===e.length&&(e=e[0]),c=`${a} - ${t[0]} ${e}`,o(`${a} - ${t[0]}`,e)}else c=`${a} ${t}`,o(a,t);for(const e of this._pluggables){const t={message:c,timestamp:Date.now()};e.pushLogs([t])}}log(...e){this._log(i.F.INFO,...e)}info(...e){this._log(i.F.INFO,...e)}warn(...e){this._log(i.F.WARN,...e)}error(...e){this._log(i.F.ERROR,...e)}debug(...e){this._log(i.F.DEBUG,...e)}verbose(...e){this._log(i.F.VERBOSE,...e)}addPluggable(e){e&&e.getCategoryName()===o.OU&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}r.LOG_LEVEL=null,r.BIND_ALL_LOG_LEVELS=!1},1425:(e,t,n)=>{"use strict";n.d(t,{z:()=>d});var o=n(3131),i=n.n(o),s=n(3391),r=n(1414);const a=new s.Ay(1),c=new r.C("TabManager"),d=new class{async isPptab(e){try{const t=await this.getPerfectPostTab();return void 0!==t&&(void 0!==e.id&&t.id===e.id)}catch(e){return c.error(e),!1}}async open(e){c.info("open",{url:e});const t=await a.acquire();c.info("mutex acquired with open");const n=await this.getPerfectPostTab();if(void 0===n?.id){c.info("create new tab");const n=i().tabs.create({url:e,active:!1,pinned:!0});return await n.then(async e=>this.setPerfectPostTab(e),e=>{c.error(e)}),t(),n}c.info("reload tab");const o=await i().tabs.update(n.id,{url:e});return c.info("mutex released",{updated:o}),t(),o}async closeTab(){c.info("closeTab");const e=await a.acquire();c.info("mutex acquired with closeTab");const t=await this.getPerfectPostTab();if(void 0===t?.id)return await this.setPerfectPostTab(void 0),c.info("no tab found"),void e();const n=t.id;c.info("close PP tab"),await this.setPerfectPostTab(void 0),await i().tabs.remove(n),c.info("tab cleaned, mutex released"),e()}async getPerfectPostTab(){c.info("getPerfectPostTab");const e=await i().storage.local.get(["tabId"]),t="tabId"in e&&"number"==typeof e.tabId?e.tabId:void 0;if(c.info({tabId:t}),void 0!==t)try{const e=await i().tabs.get(t);return c.info({tab:e}),e}catch(e){return c.error({error:e}),void await i().storage.local.remove(["tabId"])}}async setPerfectPostTab(e){return c.info("setPerfectPostTab",{ptab:e}),void 0!==e?i().storage.local.set({tabId:e.id}):i().storage.local.remove(["tabId"])}}},1496:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});class o{constructor(e,t){this.method=e,this.input=t}}},1527:(e,t,n)=>{"use strict";n.d(t,{F:()=>g});var o=n(5107);const i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let s;const r=new Uint8Array(16),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));const c=function(e,t,n){if(i.randomUUID&&!t&&!e)return i.randomUUID();const o=(e=e||{}).random??e.rng?.()??function(){if(!s){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");s=crypto.getRandomValues.bind(crypto)}return s(r)}();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=o[e];return t}return function(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}(o)};n(8532),n(4424);var d=n(4774),u=n(5713),l=n(7884),p=n(9593);const g=(0,l.q)(p.Q,[u.L,()=>e=>async function(t){return t.headers[d.jy]||(t.headers[d.jy]=c()),e(t)},o.b,({maxAttempts:e=d.K7})=>(t,n)=>async function(o){const i=n.attemptsCount??0;return o.headers[d.Q8]=`attempt=${i+1}; max=${e}`,t(o)}])},1642:(e,t,n)=>{"use strict";n.d(t,{C:()=>N});var o=n(1414),i=n(12),s=n(3541);function r(){return i.H.Auth.clearCredentials()}var a=n(9280),c=n(2441),d=n(7563),u=n(1018),l=n(5811),p=n(5957),g=n(4627),h=n(456),m=n(2331);n(8532);var f=n(2632);const y=e=>e.startsWith(String(window.location.origin+(window.location.pathname||"/"))),w=e=>e.includes(String(window.location.hostname)),v=e=>e.startsWith("http://"),E=e=>e.startsWith("https://"),A=async(e,t,n,o)=>{const{isOAuthSignIn:i}=await t.loadOAuthSignIn(),s=await n.getOAuthMetadata();if(await(async e=>{await e.clearOAuthData(),g.o.clearTokens(),await r(),a.YZ.dispatch("auth",{event:"signedOut"},"Auth",a.U9)})(t),i||s?.oauthSignIn)return(async(e,t=!1,n)=>{(0,c.G6)(e);const{loginWith:o,userPoolClientId:i}=e,{domain:s,redirectSignOut:r}=o.oauth,a=function(e,t){if(t){const n=e?.find(e=>e===t);if(!n)throw f.jK;return n}{const t=e?.find(y)??e?.find(w),n=e?.find(E)??e?.find(v);if(t)return t;if(n)throw f.$6;throw f.RW}}(r,n);return(async e=>{window?.location&&(window.location.href=e.replace("http://","https://"))})(`https://${s}/logout?${Object.entries({client_id:i,logout_uri:encodeURIComponent(a)}).map(([e,t])=>`${e}=${t}`).join("&")}`)})(e,!1,o)};var I=n(914),x=n(4337),S=n(8106),C=n(915),b=n(2250);const P=e=>(0,I.A)(x.e,(0,S._)("RevokeToken"),(0,C.T)(),{...b.C,...e}),_=e=>(0,I.A)(x.e,(0,S._)("GlobalSignOut"),(0,C.T)(),{...b.C,...e});var T=n(6209);const R=new o.C("Auth");async function N(e){const t=i.H.getConfig().Auth?.Cognito;let n;(0,c.$y)(t),e?.global?await async function(e){try{const{userPoolEndpoint:t,userPoolId:n}=e,o=await g.o.getTokenStore().loadTokens();(0,m.H0)(o);const i=_({endpointResolver:(0,T.o)({endpointOverride:t})});await i({region:(0,h.J)(n),userAgentValue:(0,u.A)(d.BM.SignOut)},{AccessToken:o.accessToken.toString()})}catch(e){R.debug("Global signOut error caught but will proceed with token removal")}}(t):await async function(e){try{const{userPoolEndpoint:t,userPoolId:n,userPoolClientId:o}=e,i=await g.o.getTokenStore().loadTokens();if((0,m.X4)(i),k(i.accessToken)){const e=P({endpointResolver:(0,T.o)({endpointOverride:t})});await e({region:(0,h.J)(n),userAgentValue:(0,u.A)(d.BM.SignOut)},{ClientId:o,Token:i.refreshToken})}}catch(e){R.debug("Client signOut error caught but will proceed with token removal")}}(t);try{(0,c.G6)(t),n=!0}catch(e){n=!1}if(n){const n=new p.S(s.ZL);n.setAuthConfig(t);const{type:o}=await A(t,n,g.o,e?.oauth?.redirectUrl)??{};if("error"===o)throw new l.l({name:f.mh,message:"An error occurred when attempting to log out from OAuth provider."})}else g.o.clearTokens(),await r(),a.YZ.dispatch("auth",{event:"signedOut"},"Auth",a.U9)}const k=e=>!!e?.payload?.origin_jti},1670:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var o=n(757);class i extends o.x{get response(){return this._response?s(this._response):void 0}constructor(e){super(e),this.constructor=i,Object.setPrototypeOf(this,i.prototype),e.response&&(this._response=e.response)}}const s=e=>({...e,headers:{...e.headers}})},1731:(e,t,n)=>{"use strict";n.d(t,{M:()=>c});var o=n(8221),i=n(1414),s=n(5620),r=n(8260);const a=new i.C("ReloadActivityMessageHandler");class c extends o.kY{validate(e){return super.validate(e)&&"reload_activity"===e.type}async handle(e){a.info(e),void 0!==await r.a.getCsrfToken()&&await s.T.getInstance().reloadActivity()}}},1734:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n(3131),i=n.n(o),s=n(8221),r=n(1414),a=n(3818),c=n(5036),d=n(5933),u=n(5049);const l=new r.C("CreateDraftMessageHandler");class p extends s.kY{validate(e){return super.validate(e)&&"create_draft"===e.type}async handle(e,t){if(l.info(e),void 0===t.tab?.id)return{error:"no tab id"};const n=t.tab.id,o=e.video??e.image??e.document,s=new u.Cw("currentDraftId",{maxAge:{minutes:30}});if(void 0===o){const{draft:t}=await d.c.send(new a.P({content:e.content,programmingDate:e.programmingDate,organization:e.organization,firstComment:e.firstComment,sharing:e.poll?{poll:e.poll}:void 0})),n=await d.c.send(new c.L);return s.set(t._id),{draftId:t._id,drafts:n}}try{const t=await fetch(o).then(async e=>e.blob()),{url:r,draft:u}=await d.c.send(new a.P({content:e.content,programmingDate:e.programmingDate,organization:e.organization,sharing:{video:e.video?t.type:void 0,image:e.image?t.type:void 0,pdf:e.document?t.type:void 0},firstComment:e.firstComment}));void 0!==r&&fetch(r,{method:"PUT",body:t,headers:{"Content-Type":t.type}}).then(()=>{i().tabs.sendMessage(n,{type:"upload_progress",progressEvent:{loaded:100,total:100}})});const l=await d.c.send(new c.L);return s.set(u._id),{draftId:u._id,drafts:l}}catch(e){return l.error(e),{error:"could not save media"}}}}},1746:(e,t,n)=>{"use strict";n.d(t,{c$:()=>c,jN:()=>r,wr:()=>d});var o=n(3541);const i="CognitoSignInState",s={username:`${i}.username`,challengeName:`${i}.challengeName`,signInSession:`${i}.signInSession`,expiry:`${i}.expiry`},r=()=>{c.dispatch({type:"RESET_STATE"})},a=()=>{for(const e of Object.values(s))o.pR.removeItem(e)},c=(e=>{let t=e({username:void 0,challengeName:void 0,signInSession:void 0},{type:"SET_INITIAL_STATE"});return{getState:()=>t,dispatch:n=>{t=e(t,n)}}})((e,t)=>{switch(t.type){case"SET_SIGN_IN_SESSION":return u({signInSession:t.value}),{...e,signInSession:t.value};case"SET_SIGN_IN_STATE":return u(t.value),{...t.value};case"SET_CHALLENGE_NAME":return u({challengeName:t.value}),{...e,challengeName:t.value};case"SET_USERNAME":return u({username:t.value}),{...e,username:t.value};case"SET_INITIAL_STATE":return(()=>{const e=o.pR.getItem(s.expiry);return!e||Number(e)<=Date.now()?(a(),{username:void 0,challengeName:void 0,signInSession:void 0}):{username:o.pR.getItem(s.username)??void 0,challengeName:o.pR.getItem(s.challengeName)??void 0,signInSession:o.pR.getItem(s.signInSession)??void 0}})();case"RESET_STATE":return a(),{username:void 0,challengeName:void 0,signInSession:void 0};default:return e}});function d(e){c.dispatch({type:"SET_SIGN_IN_STATE",value:e})}const u=({challengeName:e,signInSession:t,username:n})=>{n&&o.pR.setItem(s.username,n),e&&o.pR.setItem(s.challengeName,e),t&&(o.pR.setItem(s.signInSession,t),o.pR.setItem(s.expiry,String(Date.now()+18e4)))}},1816:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var o=n(9280),i=n(9217),s=n(2632),r=n(5811);const a=async()=>{try{o.YZ.dispatch("auth",{event:"signedIn",data:await(0,i.H)()},"Auth",o.U9)}catch(e){if(e.name===s.zz)throw new r.l({name:s.yA,message:"Unable to get user session following successful sign-in.",recoverySuggestion:"This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server."});throw e}}},1963:(e,t,n)=>{"use strict";n.d(t,{MY:()=>i,nW:()=>r,xA:()=>s});var o=n(757);const i=()=>{if("object"==typeof window&&"object"==typeof window.crypto)return window.crypto;if("object"==typeof crypto)return crypto;throw new o.x({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},s=()=>{if("undefined"!=typeof window&&"function"==typeof window.btoa)return window.btoa;if("function"==typeof btoa)return btoa;throw new o.x({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},r=()=>{if("undefined"!=typeof window&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new o.x({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})}},1971:(e,t,n)=>{"use strict";n.d(t,{J:()=>T});var o=n(6863),i=n(12),s=n(2441),r=n(582),a=n(6794),c=n(4520),d=n(1746),u=n(627),l=n(4627),p=n(1816),g=n(8379),h=n(631);const m=(e=>{let t=e({active:!1},{type:"RESET"});return{getState:()=>t,dispatch:n=>{t=e(t,n)}}})((e,t)=>{switch(t.type){case"SET_USERNAME":return{...e,username:t.value};case"SET_SESSION":return{...e,session:t.value};case"START":return{...e,active:!0};case"RESET":return{active:!1};default:return e}});var f=n(5811),y=n(2632);const w=async()=>{throw new f.l({name:y.A0,message:"The autoSignIn flow has not started, or has been cancelled/completed.",recoverySuggestion:"Please try to use the signIn API or log out before starting a new autoSignIn flow."})};let v=null;function E(e=!0){e&&(v=w),m.dispatch({type:"RESET"})}var A=n(7563),I=n(1030),x=n(9821),S=n(6209),C=n(456),b=n(1018),P=n(435),_=n(7796);async function T(e){E(!1);const t=e.options?.authFlowType;switch(await(0,o.AR)(),t){case"USER_SRP_AUTH":default:return async function(e){const{username:t,password:n}=e,g=i.H.getConfig().Auth?.Cognito,m={loginId:t,authFlowType:"USER_SRP_AUTH"};(0,s.$y)(g);const f=e.options?.clientMetadata;(0,a.M)(!!t,r.P.EmptySignInUsername),(0,a.M)(!!n,r.P.EmptySignInPassword);try{const{ChallengeName:e,ChallengeParameters:i,AuthenticationResult:s,Session:r}=await(0,o.Zw)(t,n,f,g,l.o),a=(0,o.ni)(t);return(0,d.wr)({signInSession:r,username:a,challengeName:e,signInDetails:m}),s?(await(0,u.i)({username:a,...s,NewDeviceMetadata:await(0,h.i)({userPoolId:g.userPoolId,userPoolEndpoint:g.userPoolEndpoint,newDeviceMetadata:s.NewDeviceMetadata,accessToken:s.AccessToken}),signInDetails:m}),(0,d.jN)(),await(0,p.Q)(),E(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):(0,o.q2)({challengeName:e,challengeParameters:i})}catch(e){(0,d.jN)(),E(),(0,c.e)(e);const t=(0,o.m$)(e.name);if(t)return t;throw e}}(e);case"USER_PASSWORD_AUTH":return async function(e){const{username:t,password:n,options:m}=e,f=i.H.getConfig().Auth?.Cognito,y={loginId:t,authFlowType:"USER_PASSWORD_AUTH"};(0,s.$y)(f);const w=m?.clientMetadata;(0,a.M)(!!t,r.P.EmptySignInUsername),(0,a.M)(!!n,r.P.EmptySignInPassword);try{const{ChallengeName:e,ChallengeParameters:i,AuthenticationResult:s,Session:r}=await(0,g.i)(o.h5,[t,n,w,f,l.o],t,l.o),a=(0,o.ni)(t);return(0,d.wr)({signInSession:r,username:a,challengeName:e,signInDetails:y}),s?(await(0,u.i)({...s,username:a,NewDeviceMetadata:await(0,h.i)({userPoolId:f.userPoolId,userPoolEndpoint:f.userPoolEndpoint,newDeviceMetadata:s.NewDeviceMetadata,accessToken:s.AccessToken}),signInDetails:y}),(0,d.jN)(),await(0,p.Q)(),E(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):(0,o.q2)({challengeName:e,challengeParameters:i})}catch(e){(0,d.jN)(),E(),(0,c.e)(e);const t=(0,o.m$)(e.name);if(t)return t;throw e}}(e);case"CUSTOM_WITHOUT_SRP":return async function(e){const t=i.H.getConfig().Auth?.Cognito;(0,s.$y)(t);const{username:n,password:m,options:f}=e,y={loginId:n,authFlowType:"CUSTOM_WITHOUT_SRP"},w=f?.clientMetadata;(0,a.M)(!!n,r.P.EmptySignInUsername),(0,a.M)(!m,r.P.CustomAuthSignInPassword);try{const{ChallengeName:e,ChallengeParameters:i,AuthenticationResult:s,Session:r}=await(0,g.i)(o.ty,[n,w,t,l.o],n,l.o),a=(0,o.ni)(n);return(0,d.wr)({signInSession:r,username:a,challengeName:e,signInDetails:y}),s?(await(0,u.i)({username:a,...s,NewDeviceMetadata:await(0,h.i)({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:s.NewDeviceMetadata,accessToken:s.AccessToken}),signInDetails:y}),(0,d.jN)(),await(0,p.Q)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):(0,o.q2)({challengeName:e,challengeParameters:i})}catch(e){(0,d.jN)(),(0,c.e)(e);const t=(0,o.m$)(e.name);if(t)return t;throw e}}(e);case"CUSTOM_WITH_SRP":return async function(e){const{username:t,password:n,options:g}=e,m={loginId:t,authFlowType:"CUSTOM_WITH_SRP"},f=i.H.getConfig().Auth?.Cognito;(0,s.$y)(f);const y=g?.clientMetadata;(0,a.M)(!!t,r.P.EmptySignInUsername),(0,a.M)(!!n,r.P.EmptySignInPassword);try{const{ChallengeName:e,ChallengeParameters:i,AuthenticationResult:s,Session:r}=await(0,o.tE)(t,n,y,f,l.o),a=(0,o.ni)(t);return(0,d.wr)({signInSession:r,username:a,challengeName:e,signInDetails:m}),s?(await(0,u.i)({username:a,...s,NewDeviceMetadata:await(0,h.i)({userPoolId:f.userPoolId,userPoolEndpoint:f.userPoolEndpoint,newDeviceMetadata:s.NewDeviceMetadata,accessToken:s.AccessToken}),signInDetails:m}),(0,d.jN)(),await(0,p.Q)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):(0,o.q2)({challengeName:e,challengeParameters:i})}catch(e){(0,d.jN)(),(0,c.e)(e);const t=(0,o.m$)(e.name);if(t)return t;throw e}}(e);case"USER_AUTH":return async function(e){const{username:t,password:n,options:g}=e,f=i.H.getConfig().Auth?.Cognito,y={loginId:t,authFlowType:"USER_AUTH"};(0,s.$y)(f);const w=g?.clientMetadata,v=g?.preferredChallenge;(0,a.M)(!!t,r.P.EmptySignInUsername);try{const e={username:t,config:f,tokenOrchestrator:l.o,clientMetadata:w,preferredChallenge:v,password:n},i=m.getState();i.active&&i.username===t&&(e.session=i.session);const s=await async function({username:e,clientMetadata:t,config:n,tokenOrchestrator:o,preferredChallenge:i,password:s,session:c}){const{userPoolId:d,userPoolClientId:u,userPoolEndpoint:l}=n,p=(0,I.d)({username:e,userPoolId:d,userPoolClientId:u}),g={USERNAME:e};if(i){if("PASSWORD_SRP"===i)return(0,a.M)(!!s,r.P.EmptySignInPassword),(0,P.L)({username:e,password:s,clientMetadata:t,config:n,tokenOrchestrator:o,authFlow:"USER_AUTH",preferredChallenge:i});"PASSWORD"===i&&((0,a.M)(!!s,r.P.EmptySignInPassword),g.PASSWORD=s),g.PREFERRED_CHALLENGE=i}const h={AuthFlow:"USER_AUTH",AuthParameters:g,ClientMetadata:t,ClientId:u,UserContextData:p};c&&(h.Session=c);const m=(0,x.R)({endpointResolver:(0,S.o)({endpointOverride:l})}),f=await m({region:(0,C.J)(d),userAgentValue:(0,b.A)(A.BM.SignIn)},h);return(0,_.d)(e),f}(e),c=(0,o.ni)(t);return(0,d.wr)({signInSession:s.Session,username:c,challengeName:s.ChallengeName,signInDetails:y}),s.AuthenticationResult?(await(0,u.i)({username:c,...s.AuthenticationResult,NewDeviceMetadata:await(0,h.i)({userPoolId:f.userPoolId,userPoolEndpoint:f.userPoolEndpoint,newDeviceMetadata:s.AuthenticationResult.NewDeviceMetadata,accessToken:s.AuthenticationResult.AccessToken}),signInDetails:y}),(0,d.jN)(),await(0,p.Q)(),E(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):(0,o.q2)({challengeName:s.ChallengeName,challengeParameters:s.ChallengeParameters,availableChallenges:"AvailableChallenges"in s?s.AvailableChallenges:void 0})}catch(e){(0,d.jN)(),E(),(0,c.e)(e);const t=(0,o.m$)(e.name);if(t)return t;throw e}}(e)}}},1978:(e,t,n)=>{"use strict";n.d(t,{nC:()=>r,ut:()=>i});var o=n(582);const i={[o.P.EmptyChallengeResponse]:{message:"challengeResponse is required to confirmSignIn"},[o.P.EmptyConfirmResetPasswordUsername]:{message:"username is required to confirmResetPassword"},[o.P.EmptyConfirmSignUpCode]:{message:"code is required to confirmSignUp"},[o.P.EmptyConfirmSignUpUsername]:{message:"username is required to confirmSignUp"},[o.P.EmptyConfirmResetPasswordConfirmationCode]:{message:"confirmationCode is required to confirmResetPassword"},[o.P.EmptyConfirmResetPasswordNewPassword]:{message:"newPassword is required to confirmResetPassword"},[o.P.EmptyResendSignUpCodeUsername]:{message:"username is required to confirmSignUp"},[o.P.EmptyResetPasswordUsername]:{message:"username is required to resetPassword"},[o.P.EmptySignInPassword]:{message:"password is required to signIn"},[o.P.EmptySignInUsername]:{message:"username is required to signIn"},[o.P.EmptySignUpPassword]:{message:"password is required to signUp"},[o.P.EmptySignUpUsername]:{message:"username is required to signUp"},[o.P.CustomAuthSignInPassword]:{message:"A password is not needed when signing in with CUSTOM_WITHOUT_SRP",recoverySuggestion:"Do not include a password in your signIn call."},[o.P.IncorrectMFAMethod]:{message:"Incorrect MFA method was chosen. It should be either SMS, TOTP, or EMAIL",recoverySuggestion:"Try to pass SMS, TOTP, or EMAIL as the challengeResponse"},[o.P.EmptyVerifyTOTPSetupCode]:{message:"code is required to verifyTotpSetup"},[o.P.EmptyUpdatePassword]:{message:"oldPassword and newPassword are required to changePassword"},[o.P.EmptyConfirmUserAttributeCode]:{message:"confirmation code is required to confirmUserAttribute"}};var s,r;!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in",e.OAUTH_ERROR="Couldn't finish OAuth flow, check your User Pool HostedUI settings"}(s||(s={})),function(e){e.SignInException="SignInException",e.OAuthSignInError="OAuthSignInException"}(r||(r={}))},1989:(e,t,n)=>{"use strict";n.d(t,{H:()=>l});var o=n(5049),i=n(1414),s=n(3131),r=n.n(s),a=n(8260),c=n(3339),d=n(5933);const u=new i.C("DebugInfoService");class l{static calculateNextUpdate(e){if(!e)return;const t="string"==typeof e?new Date(e):e,n=new Date(t.getTime()+864e5);return n.getTime()>Date.now()?n:new Date}static async getDebugInfo(){try{const e=r().runtime.getManifest().version,t=new o.Cw("csrf"),n=new o.Cw("session"),[i,s]=await Promise.all([t.get().then(e=>void 0!==e).catch(()=>!1),n.get().catch(()=>null)]),l=null!=s;let p=null;try{l&&(p=await d.c.send(new c.s(e)),p&&s&&(await a.a.setUser(p),u.debug("Cache de session mis à jour avec les données fraîches de l'API")))}catch(e){u.warn("Impossible de récupérer les informations utilisateur depuis l'API:",e)}const g=p||s?.user,h=g?.email,m=g?._id,f=g?.vanityName,y=g?.entityUrn;let w="no_session",v=!1,E=!1;const A=void 0;return g&&(void 0===g.vanityName?(w="missing_association",E=!0):(w="ok",v=!1)),{extensionVersion:e,csrfTokenExists:i,isAuthenticated:l,perfectPostEmail:h,perfectPostId:m,linkedInVanity:f,linkedInEntityUrn:y,accountMismatch:v,missingAccountAssociation:E,accountStatus:w,accountMismatchDetails:A,lastVueUpdateAt:g?.lastVueUpdateAt?new Date(g.lastVueUpdateAt):void 0,lastCommentFetch:g?.lastCommentFetch?new Date(g.lastCommentFetch):void 0,lastFollowerUpdateAt:g?.lastFollowerUpdateAt?new Date(g.lastFollowerUpdateAt):void 0,lastRelationUpdateAt:g?.lastRelationUpdateAt?new Date(g.lastRelationUpdateAt):void 0,lastScheduledPostUpdateAt:g?.lastScheduledPostUpdateAt?new Date(g.lastScheduledPostUpdateAt):void 0,lastActivityUpdateAt:g?.lastActivityUpdateAt?new Date(g.lastActivityUpdateAt):void 0,lastPostUpdateAt:g?.lastPostUpdateAt?new Date(g.lastPostUpdateAt):void 0,lastExtensionPingAt:g?.lastExtensionPingAt?new Date(g.lastExtensionPingAt):void 0,nextVueUpdateAt:this.calculateNextUpdate(g?.lastVueUpdateAt),nextFollowerUpdateAt:this.calculateNextUpdate(g?.lastFollowerUpdateAt),nextRelationUpdateAt:this.calculateNextUpdate(g?.lastRelationUpdateAt),nextScheduledPostUpdateAt:this.calculateNextUpdate(g?.lastScheduledPostUpdateAt),nextActivityUpdateAt:this.calculateNextUpdate(g?.lastActivityUpdateAt),nextPostUpdateAt:this.calculateNextUpdate(g?.lastPostUpdateAt)}}catch(e){return u.error("Erreur lors de la récupération des informations de debug:",e),{extensionVersion:r().runtime.getManifest().version,csrfTokenExists:!1,isAuthenticated:!1,perfectPostEmail:void 0,linkedInVanity:void 0,linkedInEntityUrn:void 0,accountMismatch:!1,missingAccountAssociation:!1,accountStatus:"no_session",accountMismatchDetails:void 0,lastVueUpdateAt:void 0,lastCommentFetch:void 0,lastFollowerUpdateAt:void 0,lastRelationUpdateAt:void 0,lastScheduledPostUpdateAt:void 0,lastActivityUpdateAt:void 0,lastPostUpdateAt:void 0,lastExtensionPingAt:void 0,nextVueUpdateAt:void 0,nextFollowerUpdateAt:void 0,nextRelationUpdateAt:void 0,nextScheduledPostUpdateAt:void 0,nextActivityUpdateAt:void 0,nextPostUpdateAt:void 0}}}}},2015:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var o=n(439);function i(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&o._P in e?e[o._P](t):e instanceof Date?new e.constructor(t):new Date(t)}},2020:(e,t,n)=>{"use strict";n.d(t,{d:()=>f});var o=n(6160),i=n(3339),s=n(5933),r=n(6040),a=n(3131),c=n.n(a),d=n(8260),u=n(1414),l=n(6166),p=n(9251),g=n(3634),h=n(7032);const m=new u.C("onStartup");async function f(){if(m.info("onStartup"),g.N.updateBadge(),await(0,p.$)({forceRefresh:!0}).then(e=>void 0!==e.userSub).catch(()=>!1)){const[e,t]=await Promise.all([s.c.send(new i.s(c().runtime.getManifest().version)),s.c.send(new o.S)]);await d.a.login(e,t),void 0!==await d.a.getCsrfToken()&&l.F.start(),await h.o.track("background-initialized")}else{if(await h.o.track("background-initialized"),r.n)return;if(await c().permissions.contains({permissions:["notifications"]})){const e=-1!==navigator.userAgent.indexOf("Firefox");let t;t=e||"undefined"==typeof chrome||!chrome.notifications||"function"!=typeof chrome.notifications.create?await c().notifications.create({type:"basic",title:"PerfectPost",message:c().i18n.getMessage("noAuthenticated"),iconUrl:"images/pp_icon128.png",isClickable:!0}):await new Promise(e=>chrome.notifications.create({type:"basic",title:"PerfectPost",message:c().i18n.getMessage("noAuthenticated"),iconUrl:"images/pp_icon128.png",buttons:[{title:"Login"}]},e)),c().notifications.onButtonClicked.addListener((e,n)=>{m.info({notificationId:t,id:e,index:n}),t===e&&0===n&&c().tabs.create({url:"https://www.linkedin.com/feed/?shareActive=true"})})}}}},2062:(e,t,n)=>{"use strict";n.d(t,{H:()=>E});var o=n(5811),i=n(2098),s=n(9427),r=n(6636),a=n(8532),c=n(4712);const d=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=c.pU[e[n]];return t},u=e=>{const t=new a.I;t.update(e);const n=t.digestSync(),o=d(n);return new Array(64-o.length).join("0")+o},l=e=>u((0,r.d)(e)),p=/^[89a-f]/i,g=e=>{if(!(e instanceof s.A))throw new Error("Not a BigInteger");const t=e.compareTo(s.A.ZERO)<0;let n=e.abs().toString(16);if(n=n.length%2!=0?`0${n}`:n,n=p.test(n)?`00${n}`:n,t){const e=n.split("").map(e=>{const t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)}).join("");n=new s.A(e,16).add(s.A.ONE).toString(16),n.toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n};var h=n(1963);function m(){return(0,h.MY)().getRandomValues(new Uint32Array(1))[0]}class f{constructor(e,t){this.words=[];let n=e;n=this.words=n||[],this.sigBytes=void 0!==t?t:4*n.length}random(e){const t=[];for(let n=0;n<e;n+=4)t.push(m());return new f(t,e)}toString(){return function(e){const{words:t}=e,{sigBytes:n}=e,o=[];for(let e=0;e<n;e++){const n=t[e>>>2]>>>24-e%4*8&255;o.push((n>>>4).toString(16)),o.push((15&n).toString(16))}return o.join("")}(this)}}const y=e=>{const t=(new f).random(e).toString();return(0,r.d)(t)};var w=n(9495);class v{constructor({userPoolName:e,a:t,g:n,A:o,N:r}){this.encoder=i.U,this.userPoolName=e,this.a=t,this.g=n,this.A=o,this.N=r,this.k=new s.A(l(`${g(r)}${g(n)}`),16)}getRandomPassword(){if(!this.randomPassword)throw new o.l({name:"EmptyBigIntegerRandomPassword",message:"random password is empty"});return this.randomPassword}getSaltToHashDevices(){if(!this.saltToHashDevices)throw new o.l({name:"EmptyBigIntegersaltToHashDevices",message:"saltToHashDevices is empty"});return this.saltToHashDevices}getVerifierDevices(){if(!this.verifierDevices)throw new o.l({name:"EmptyBigIntegerVerifierDevices",message:"verifyDevices is empty"});return this.verifierDevices}async generateHashDevice(e,t){this.randomPassword=w.Y.convert(y(40));const n=`${e}${t}:${this.randomPassword}`,o=u(n),i=d(y(16));return this.saltToHashDevices=g(new s.A(i,16)),new Promise((e,t)=>{this.g.modPow(new s.A(l(this.saltToHashDevices+o),16),this.N,(n,o)=>{n?t(n):(this.verifierDevices=g(o),e())})})}async getPasswordAuthenticationKey({username:e,password:t,serverBValue:n,salt:o}){if(n.mod(this.N).equals(s.A.ZERO))throw new Error("B cannot be zero.");const i=(({A:e,B:t})=>{const n=new s.A(l(g(e)+g(t)),16);if(n.equals(s.A.ZERO))throw new Error("U cannot be zero.");return n})({A:this.A,B:n}),c=`${this.userPoolName}${e}:${t}`,d=u(c),p=new s.A(l(g(o)+d),16),h=await(async({a:e,g:t,k:n,x:o,B:i,N:s,U:r})=>new Promise((a,c)=>{t.modPow(o,s,(t,d)=>{t?c(t):i.subtract(n.multiply(d)).modPow(e.add(r.multiply(o)),s,(e,t)=>{e?c(e):a(t.mod(s))})})}))({a:this.a,g:this.g,k:this.k,x:p,B:n,N:this.N,U:i}),m=this.encoder.convert("Caldera Derived Key"),f=this.encoder.convert(String.fromCharCode(1)),y=new Uint8Array(m.byteLength+f.byteLength);y.set(m,0),y.set(f,m.byteLength);const w=((e,t,n)=>{const o=new a.I(t);o.update(e);const i=o.digestSync(),s=new a.I(i);return s.update(n),s.digestSync().slice(0,16)})((0,r.d)(g(h)),(0,r.d)(g(i)),y);return w}}const E=async e=>{const t=new s.A(c.oA,16),n=new s.A("2",16),o=A(),i=await(async({a:e,g:t,N:n})=>new Promise((o,i)=>{t.modPow(e,n,(e,t)=>{e?i(e):t.mod(n).equals(s.A.ZERO)?i(new Error("Illegal parameter. A mod N cannot be 0.")):o(t)})}))({a:o,g:n,N:t});return new v({userPoolName:e,a:o,g:n,A:i,N:t})},A=()=>{const e=d(y(128));return new s.A(e,16)}},2098:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});const o={convert:e=>(new TextEncoder).encode(e)}},2142:(e,t,n)=>{"use strict";n.d(t,{h:()=>p});var o=n(3131),i=n.n(o),s=n(8221),r=n(1414),a=n(5036),c=n(7488),d=n(5933),u=n(5049);const l=new r.C("EditDraftMessageHandler");class p extends s.kY{validate(e){return super.validate(e)&&"edit_draft"===e.type}async handle(e,t){if(l.info(e),void 0===t.tab?.id)return{error:"no tab id"};const n=e.video??e.image??e.document;if(new u.Cw("currentDraftId",{maxAge:{minutes:30}}).set(e.draftId),void 0===n){const{draft:t}=await d.c.send(new c.E({draftId:e.draftId,content:e.content,programmingDate:e.programmingDate,organization:e.organization,firstComment:e.firstComment,sharing:e.poll?{poll:e.poll}:void 0})),n=await d.c.send(new a.L);return{draftId:t._id,drafts:n}}try{const o=await fetch(n).then(async e=>e.blob()),{url:s,draft:r}=await d.c.send(new c.E({draftId:e.draftId,content:e.content,programmingDate:e.programmingDate,organization:e.organization,sharing:{video:e.video&&void 0!==o?o.type:void 0,image:e.image&&void 0!==o?o.type:void 0,pdf:e.document&&void 0!==o?o.type:void 0},firstComment:e.firstComment}));"string"==typeof s&&fetch(s,{method:"PUT",body:o,headers:{"Content-Type":o.type}}).then(()=>{t.tab?.id&&i().tabs.sendMessage(t.tab.id,{type:"upload_progress",progressEvent:{loaded:100,total:100}})});const u=await d.c.send(new a.L);return{draftId:r._id,drafts:u}}catch(e){return l.error(e),{error:"could not save media"}}}}},2146:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(){super(o.Jt,{path:"/cta"})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},2170:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});var o=n(8221),i=n(1414),s=n(8260);const r=new i.C("CatchErrorMessageHandler");class a extends o.kY{validate(e){return super.validate(e)&&"catch_error"===e.type}async handle(e){return r.error(e),e.cause instanceof Error&&"LinkedInUnauthorizedError"===e.cause.name&&await s.a.setCsrfToken(void 0),Promise.resolve()}}},2224:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor({page:e,locale:t}){super(o.Jt,{path:"/hook/example",options:{queryParams:{page:`${e??1}`,locale:t,v:"5"}}})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},2250:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var o=n(4665),i=n(6301),s=n(1007),r=n(3939);const a={service:n(2970).M,retryDecider:(0,i.D)(s.F),computeDelay:o.y,get userAgentValue(){return(0,r.fE)()},cache:"no-store"}},2267:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){super(o.Jt,{path:`/draft/${e}/sharing`,options:{withCredentials:!1}})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},2272:(e,t,n)=>{"use strict";function o(e){return"object"==typeof e&&null!==e&&"variables"in e&&"object"==typeof e.variables&&null!==e.variables&&"entity"in e.variables&&"object"==typeof e.variables.entity&&null!==e.variables.entity&&"reactionType"in e.variables.entity&&"threadUrn"in e.variables&&"string"==typeof e.variables.threadUrn}n.d(t,{I:()=>o})},2331:(e,t,n)=>{"use strict";n.d(t,{H0:()=>s,OW:()=>r,O_:()=>u,X4:()=>d,f3:()=>l});var o=n(5811),i=n(2632);function s(e){if(!e||!e.accessToken)throw new o.l({name:i.zz,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function r(e){if(!e||!e.idToken)throw new o.l({name:i.zz,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}const a=new o.l({name:i.Cs,message:"Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. \n\tPlease change your oauth configuration to use 'code grant' flow.",recoverySuggestion:"Please logout and change your Amplify configuration to use \"code grant\" flow. \n\tE.g { responseType: 'code' }"}),c=new o.l({name:i.zz,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function d(e){if(function(e){return p(e)&&!e?.refreshToken}(e))throw a;if(!function(e){return p(e)&&e?.refreshToken}(e))throw c}function u(e){if(!(e&&e.deviceKey&&e.deviceGroupKey&&e.randomPassword))throw new o.l({name:i.kM,message:"Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",recoverySuggestion:"Make sure to not clear storage after calling the signIn API."})}const l={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function p(e){return e?.accessToken||e?.idToken}},2441:(e,t,n)=>{"use strict";n.d(t,{Eh:()=>u,G6:()=>d,$y:()=>c,Cq:()=>l});var o,i=n(4473),s=n(3612);!function(e){e.AuthTokenConfigException="AuthTokenConfigException",e.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",e.AuthUserPoolException="AuthUserPoolException",e.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",e.OAuthNotConfigureException="OAuthNotConfigureException"}(o||(o={}));const r={[o.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[o.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[o.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[o.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[o.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},a=(0,s.p)(r);function c(e){let t=!0;t=!!e&&!!e.userPoolId&&!!e.userPoolClientId,a(t,o.AuthUserPoolException)}function d(e){a(!!(e?.loginWith?.oauth?.domain&&e?.loginWith?.oauth?.redirectSignOut&&e?.loginWith?.oauth?.redirectSignIn&&e?.loginWith?.oauth?.responseType),o.OAuthNotConfigureException)}function u(e){a(!!e?.identityPoolId,o.InvalidIdentityPoolIdException)}function l(e){const t=e.split(".");if(3!==t.length)throw new Error("Invalid token");try{const n=t[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(i.m.convert(n).split("").map(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));return{toString:()=>e,payload:JSON.parse(o)}}catch(e){throw new Error("Invalid token payload")}}},2520:(e,t,n)=>{"use strict";n.d(t,{R:()=>p});var o=n(8221),i=n(1414),s=n(5049),r=n(6114),a=n(8376),c=n(5933),d=n(8260),u=n(6491);const l=new i.C("GetTipsActionsMessageHandler");class p extends o.kY{validate(e){return super.validate(e)&&"get_tips_actions"===e.type}async handle(e){l.info(e);const t=new s.Cw("tips"),n=new s.Cw("teams");let o;const i=new s.Cw("hideTipsActions");if(!0===await i.get())return o={tips:void 0,hidden:!0,teams:[]},o;const[p,g]=await Promise.all([t.get(),n.get()]);if(l.info({tips:p,teams:g}),void 0!==g&&null!=p&&"string"!=typeof p)return o={tips:p,hidden:void 0,teams:g},o;const h=await d.a.get(),m=h?.user.locale??(0,u.B)(),f=["de","en","es","fr","it","pt"],y=(e=>f.includes(e))(m)?m:"en";m!==y&&l.info(`Locale "${m}" not supported, fallback to "${y}"`),l.info("Using locale for tips:",y);const{today:w,teams:v}=await c.c.send(new r.A(y));if(l.info({today:w,newTeams:v}),void 0===w)await t.delete(),await n.delete(),o={tips:void 0,hidden:!0,teams:v};else{const e=new s.Cw("tips",{maxAge:{milliseconds:(0,a.o)().getTime()-Date.now()}});await e.set(w),await n.set(v),o={tips:w,hidden:void 0,teams:v}}return o}}},2594:(e,t,n)=>{"use strict";n.d(t,{l:()=>E});var o=n(8221),i=n(1414),s=n(1971),r=n(1642),a=n(5933),c=n(1425),d=n(6160),u=n(3339),l=n(8260),p=n(6166),g=n(3188),h=n(3131),m=n.n(h),f=n(3634),y=n(7032),w=n(3385);const v=new i.C("LoginOnlyMessageHandler");class E extends o.kY{validate(e){return super.validate(e)&&"login_only"===e.type}async handle(e){v.info(e);const{email:t,password:n}=e.payload;let o,i;await(0,r.C)();try{({nextStep:i}=await(0,s.J)({username:t,password:n}))}catch(e){if(v.error("Login only failed",e),(0,w.$)(e))throw new Error((0,w.u)(e));throw e}if("CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED"===i.signInStep)return o={challengeName:"NEW_PASSWORD_REQUIRED"},{source:"perfectpost",type:"login_only_response",payload:o};const h=await a.c.send(new u.s(m().runtime.getManifest().version)),E=await a.c.send(new d.S),A=await l.a.login(h,E);return void 0===h.vanityName?(v.warn("LinkedIn account not associated with an vanityName"),o={authenticated:!0,error:"MISSING_ACCOUNT_ASSOCIATION"},{source:"perfectpost",type:"login_only_response",payload:o}):(await c.z.open("https://www.linkedin.com/feed/?shareActive=true"),p.F.start(),o=await(0,g.v)(A.user),y.o.track("login",{source:"extension"}),f.N.updateBadge(),{source:"perfectpost",type:"login_only_response",payload:o})}}},2632:(e,t,n)=>{"use strict";n.d(t,{$6:()=>u,A0:()=>a,Cs:()=>p,RW:()=>c,jK:()=>d,kM:()=>r,mh:()=>l,yA:()=>g,z0:()=>s,zz:()=>i});var o=n(5811);const i="UserUnAuthenticatedException",s="UserAlreadyAuthenticatedException",r="DeviceMetadataNotFoundException",a="AutoSignInException",c=new o.l({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),d=(new o.l({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."}),new o.l({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."})),u=new o.l({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),l="OAuthSignOutException",p="TokenRefreshException",g="UnexpectedSignInInterruptionException"},2643:(e,t,n)=>{"use strict";function o(e){return"object"==typeof e&&null!==e&&"variables"in e&&"object"==typeof e.variables&&null!==e.variables&&"post"in e.variables&&"object"==typeof e.variables.post&&null!==e.variables.post&&"allowedCommentersScope"in e.variables.post&&"intendedShareLifeCycleState"in e.variables.post&&("SCHEDULED"===e.variables.post.intendedShareLifeCycleState||"PUBLISHED"===e.variables.post.intendedShareLifeCycleState)&&"visibilityDataUnion"in e.variables.post&&"object"==typeof e.variables.post.visibilityDataUnion&&null!==e.variables.post.visibilityDataUnion&&("visibilityType"in e.variables.post.visibilityDataUnion||"containerVisibility"in e.variables.post.visibilityDataUnion&&"object"==typeof e.variables.post.visibilityDataUnion.containerVisibility&&null!==e.variables.post.visibilityDataUnion.containerVisibility&&"variant"in e.variables.post.visibilityDataUnion.containerVisibility&&"GROUP"===e.variables.post.visibilityDataUnion.containerVisibility.variant&&"containerV2"in e.variables.post.visibilityDataUnion.containerVisibility&&"object"==typeof e.variables.post.visibilityDataUnion.containerVisibility.containerV2&&null!==e.variables.post.visibilityDataUnion.containerVisibility.containerV2&&"containerEntityUrn"in e.variables.post.visibilityDataUnion.containerVisibility.containerV2&&"string"==typeof e.variables.post.visibilityDataUnion.containerVisibility.containerV2.containerEntityUrn)&&"commentary"in e.variables.post&&"object"==typeof e.variables.post.commentary&&null!==e.variables.post.commentary&&"text"in e.variables.post.commentary&&"string"==typeof e.variables.post.commentary.text}n.d(t,{R:()=>o})},2694:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var o=n(1670);class i extends o.h{constructor(e){super(e),this.constructor=i,Object.setPrototypeOf(this,i.prototype)}}},2735:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var o=n(7303),i=n(6209),s=n(456),r=n(2331),a=n(2062),c=n(4311),d=n(7229),u=n(9427),l=n(1030);async function p({username:e,config:t,clientMetadata:n,session:p,tokenOrchestrator:g}){const{userPoolId:h,userPoolEndpoint:m}=t,f=t.userPoolClientId,y=await(g?.getDeviceMetadata(e));(0,r.O_)(y);const w=await(0,a.H)(y.deviceGroupKey),v={ChallengeName:"DEVICE_SRP_AUTH",ClientId:f,ChallengeResponses:{USERNAME:e,SRP_A:w.A.toString(16),DEVICE_KEY:y.deviceKey},ClientMetadata:n,Session:p},E=(0,o.H)({endpointResolver:(0,i.o)({endpointOverride:m})}),{ChallengeParameters:A,Session:I}=await E({region:(0,s.J)(h)},v);return async function(e,t,n,a,p,{userPoolId:g,userPoolClientId:h,userPoolEndpoint:m},f){const y=await(f?.getDeviceMetadata(e));(0,r.O_)(y);const w=new u.A(t?.SRP_B,16),v=new u.A(t?.SALT,16),{deviceKey:E}=y,{deviceGroupKey:A}=y,I=await p.getPasswordAuthenticationKey({username:y.deviceKey,password:y.randomPassword,serverBValue:w,salt:v}),x=(0,c.q)(),S={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:h,ChallengeResponses:{USERNAME:t?.USERNAME??e,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:x,PASSWORD_CLAIM_SIGNATURE:(0,d.I)({username:E,userPoolName:A,challengeParameters:t,dateNow:x,hkdf:I}),DEVICE_KEY:E},Session:a,ClientMetadata:n,UserContextData:(0,l.d)({username:e,userPoolId:g,userPoolClientId:h})};return(0,o.H)({endpointResolver:(0,i.o)({endpointOverride:m})})({region:(0,s.J)(g)},S)}(e,A,n,I,w,t,g)}},2788:(e,t,n)=>{"use strict";n.d(t,{P:()=>c});var o=n(8221),i=n(1414),s=n(5933),r=n(2267);const a=new i.C("FetchDraftSharingMessageHandler");class c extends o.kY{validate(e){return super.validate(e)&&"fetch_draft_sharing"===e.type}async handle(e){a.info(e);try{const{url:t}=await s.c.send(new r.y(e.draftId)),n=await fetch(t);return{blob:await n.blob(),contentType:n.headers.get("content-type")||void 0}}catch(e){return void a.error(e)}}}},2829:(e,t,n)=>{"use strict";n.d(t,{I:()=>u});var o=n(8221),i=n(1414),s=n(8260),r=n(135),a=n(5933),c=n(7954);const d=new i.C("AddToListMessageHandler");class u extends o.kY{validate(e){return super.validate(e)&&"add_to_list"===e.type&&"id"in e&&"urn"in e&&"name"in e&&"picture"in e&&"string"==typeof e.id&&"string"==typeof e.urn&&"string"==typeof e.name&&"string"==typeof e.picture}async handle(e){d.info(e);const t=await s.a.get();if(void 0===t)return;const n=t.lists.find(t=>t._id===e.id);void 0===n||n.members.length+n.organizations.length>r.js||(await a.c.send(new c.Q({id:e.id,urn:e.urn,name:e.name,picture:e.picture,isOrganization:e.isOrganization})),t.lists=t.lists.map(t=>(t._id===e.id&&(e.isOrganization?t.organizations.push({name:e.name,picture:e.picture,urn:e.urn}):t.members.push({name:e.name,picture:e.picture,urn:e.urn})),t)),await s.a.setLists(t.lists))}}},2856:(e,t,n)=>{"use strict";n.d(t,{l:()=>d});var o=n(8221),i=n(1414),s=n(5933),r=n(2224),a=n(6491);const c=new i.C("GetHookMessageHandler");class d extends o.kY{validate(e){return super.validate(e)&&"get_hook"===e.type}async handle(e){return c.info(e),s.c.send(new r.h({page:e.page,locale:(0,a.B)()}))}}},2970:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});const o="cognito-idp"},3023:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var o=n(3131),i=n.n(o),s=n(2020);const r=new(n(1414).C)("onInstalled");async function a(e){return r.info("onInstalled",e),"install"===e.reason&&i().tabs.create({url:"https://www.linkedin.com/feed/?shareActive=true"}),(0,s.d)()}},3131:function(e,t){var n,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)e.exports=globalThis.browser;else{const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class o extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,n)=>(...o)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||o.length<=1&&!1!==n.singleCallbackArg?t.resolve(o[0]):t.resolve(o)},s=e=>1==e?"argument":"arguments",r=(e,t,n)=>new Proxy(t,{apply:(t,o,i)=>n.call(o,e,...i)});let a=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,t={},n={})=>{let o=Object.create(null),d={has:(t,n)=>n in e||n in o,get(d,u,l){if(u in o)return o[u];if(!(u in e))return;let p=e[u];if("function"==typeof p)if("function"==typeof t[u])p=r(e,e[u],t[u]);else if(a(n,u)){let t=((e,t)=>function(n,...o){if(o.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${o.length}`);if(o.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${o.length}`);return new Promise((s,r)=>{if(t.fallbackToNoCallback)try{n[e](...o,i({resolve:s,reject:r},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...o),t.fallbackToNoCallback=!1,t.noCallback=!0,s()}else t.noCallback?(n[e](...o),s()):n[e](...o,i({resolve:s,reject:r},t))})})(u,n[u]);p=r(e,e[u],t)}else p=p.bind(e);else if("object"==typeof p&&null!==p&&(a(t,u)||a(n,u)))p=c(p,t[u],n[u]);else{if(!a(n,"*"))return Object.defineProperty(o,u,{configurable:!0,enumerable:!0,get:()=>e[u],set(t){e[u]=t}}),p;p=c(p,t[u],n["*"])}return o[u]=p,p},set:(t,n,i,s)=>(n in o?o[n]=i:e[n]=i,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(o,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(o,t)},u=Object.create(e);return new Proxy(u,d)},d=e=>({addListener(t,n,...o){t.addListener(e.get(n),...o)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),u=new o(e=>"function"!=typeof e?e:function(t){const n=c(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)}),l=new o(e=>"function"!=typeof e?e:function(t,n,o){let i,s,r=!1,a=new Promise(e=>{i=function(t){r=!0,e(t)}});try{s=e(t,n,i)}catch(e){s=Promise.reject(e)}const c=!0!==s&&((d=s)&&"object"==typeof d&&"function"==typeof d.then);var d;if(!0!==s&&!c&&!r)return!1;return(c?s:a).then(e=>{o(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",o({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)}),!0}),p=({reject:n,resolve:o},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?o():n(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?n(new Error(i.message)):o(i)},g=(e,t,n,...o)=>{if(o.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${o.length}`);if(o.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${o.length}`);return new Promise((e,t)=>{const i=p.bind(null,{resolve:e,reject:t});o.push(i),n.sendMessage(...o)})},h={devtools:{network:{onRequestFinished:d(u)}},runtime:{onMessage:d(l),onMessageExternal:d(l),sendMessage:g.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:g.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},m={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":m},services:{"*":m},websites:{"*":m}},c(e,h,n)};e.exports=n(chrome)}},void 0===(o=n.apply(t,[e]))||(e.exports=o)},3188:(e,t,n)=>{"use strict";n.d(t,{v:()=>a});var o=n(9251),i=n(4963),s=n(5216),r=n(5620);async function a(e){let t=!1,n=!1,a=3,c=10;const[d,u]=await new Promise(e=>(0,o.$)().then(t=>{const n=t.tokens?.idToken,o=n?.payload["cognito:groups"]?.toString();e([o?.includes("CUSTOMER")??!1,o?.includes("BETA")??!1])})),l=void 0!==e.earlyAdoptersPremiumExpireAt&&(0,i.G)((0,s.H)(e.earlyAdoptersPremiumExpireAt));t=d||l,n=u;const p=await r.T.getInstance().getActivity();return void 0===p?r.T.getInstance().reloadActivity():(a=p.objectifComment,c=p.objectifLike),{ppTab:!1,authenticated:!0,premium:t,beta:n,objectifComment:a,objectifLike:c,trialEndAt:l?e.earlyAdoptersPremiumExpireAt:void 0,lnAccessTokenValid:e.lnAccessTokenValid??!1}}},3324:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var o=n(8221),i=n(1414),s=n(5933),r=n(2267);const a=new i.C("GetDraftSharingMessageHandler");class c extends o.kY{validate(e){return super.validate(e)&&"get_draft_sharing"===e.type}async handle(e){a.info(e);try{const{url:t,thumbnail:n}=await s.c.send(new r.y(e.draftId));return{url:t,thumbnail:n}}catch(e){return void a.error(e)}}}},3331:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var o=n(3131),i=n.n(o);const s=new class{async setItem(e,t){return i().storage.local.set({[e]:t})}async getItem(e){const t=(await i().storage.local.get(e))[e];return"string"==typeof t?t:null}async removeItem(e){return i().storage.local.remove(e)}async clear(){return i().storage.local.clear()}}},3339:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){const t=function(){try{const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return"string"==typeof e&&e.length>0?e:void 0}catch{return}}();super(o.Jt,{path:"/me",options:{queryParams:{...void 0!==e?{extensionVersion:e}:void 0,...void 0!==t?{timeZone:t}:void 0}}})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},3385:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,u:()=>i});const o=e=>"object"==typeof e&&null!==e&&"name"in e&&"string"==typeof e.name&&("NotAuthorizedException"===e.name||"UserNotFoundException"===e.name),i=e=>"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?e.message:"Incorrect username or password."},3387:(e,t,n)=>{"use strict";n.d(t,{k:()=>d});var o=n(8221),i=n(1414),s=n(8260),r=n(5933),a=n(8508);const c=new i.C("RemoveFromListMessageHandler");class d extends o.kY{validate(e){return super.validate(e)&&"remove_from_list"===e.type}async handle(e){c.info(e);const t=await s.a.get();void 0!==t&&(await r.c.send(new a.g({id:e.id,urn:e.urn})),t.lists=t.lists.map(t=>(t._id===e.id&&(t.members=t.members.filter(t=>t.urn!==e.urn),t.organizations=t.organizations.filter(t=>t.urn!==e.urn)),t)),await s.a.setLists(t.lists))}}},3391:(e,t)=>{"use strict";let n=0;t.Ay=class{constructor(e=1,t){var o;this._nextSemaphoreId=0,this._maxSemaphores=e,this.name=null!==(o=null==t?void 0:t.name)&&void 0!==o?o:"anonymous "+n++,this._loggedName=`“${this.name}”`,this._logger=null==t?void 0:t.logger,this._currentSemaphores=new Set,this._waitingCallers=[]}tryAcquire(e){var t,n;const o=this.nextSemaphoreId();if(null===(t=this._logger)||void 0===t||t.trace(`Trying acquire for semaphore ${this._loggedName} #${o}${e?` (reason: ${e})`:""} …`),this.hasAvailableSemaphores)return null===(n=this._logger)||void 0===n||n.trace(`tryAcquire() successful for semaphore ${this._loggedName} #${o}`),this._currentSemaphores.add(o),this.createReleaseFunction(o);throw new Error("No semaphore available.")}acquire(e){var t;const n=this.nextSemaphoreId();null===(t=this._logger)||void 0===t||t.trace(`Starting acquire for semaphore ${this._loggedName} #${n}${e?` (reason: ${e})`:""} …`);const o=new Promise(e=>{const t=this.createReleaseFunction(n);this._waitingCallers.push(()=>{var o;return null===(o=this._logger)||void 0===o||o.trace(`acquire() successful for semaphore ${this._loggedName} #${n}`),e(t),n})});return setTimeout(()=>this.treatPendingCallers(),0),o}release(e){var t;null===(t=this._logger)||void 0===t||t.trace(`Releasing semaphore ${this._loggedName} #${e}`),this._currentSemaphores.has(e)&&this._currentSemaphores.delete(e),setTimeout(()=>this.treatPendingCallers(),0)}nextSemaphoreId(){return this._nextSemaphoreId++}get hasAvailableSemaphores(){return this._currentSemaphores.size<this._maxSemaphores}createReleaseFunction(e){return()=>this.release(e)}treatPendingCallers(){var e,t;for(null===(e=this._logger)||void 0===e||e.trace(`Checking for free semaphore ${this._loggedName}: ${this._waitingCallers.length} waiting`);this._waitingCallers.length>0&&this.hasAvailableSemaphores;){const e=this._waitingCallers.shift();if(void 0!==e){null===(t=this._logger)||void 0===t||t.trace(`Free semaphore ${this._loggedName} found, assigning.`);const n=e();this._currentSemaphores.add(n)}}}}},3394:(e,t)=>{"use strict";function n(e){return"object"!=typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var o="object"==typeof process&&!0;function i(e,t){if(!e){if(o)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=i;var s=Object.prototype.hasOwnProperty,r=Array.prototype.splice,a=Object.prototype.toString;function c(e){return a.call(e).slice(8,-1)}var d=Object.assign||function(e,t){return u(t).forEach(function(n){s.call(t,n)&&(e[n]=t[n])}),e},u="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function l(e){return Array.isArray(e)?d(e.constructor(e.length),e):"Map"===c(e)?new Map(e):"Set"===c(e)?new Set(e):e&&"object"==typeof e?d(Object.create(Object.getPrototypeOf(e)),e):e}var p=function(){function e(){this.commands=d({},g),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,o="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(o)||i(!Array.isArray(o),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),i("object"==typeof o&&null!==o,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."});var r=e;return u(o).forEach(function(t){if(s.call(n.commands,t)){var i=e===r;r=n.commands[t](o[t],r,o,e),i&&n.isEquals(r,e)&&(r=e)}else{var a="Map"===c(e)?n.update(e.get(t),o[t]):n.update(e[t],o[t]),d="Map"===c(r)?r.get(t):r[t];n.isEquals(a,d)&&(void 0!==a||s.call(e,t))||(r===e&&(r=l(e)),"Map"===c(r)?r.set(t,a):r[t]=a)}}),r},e}();t.Context=p;var g={$push:function(e,t,n){return m(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return m(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,o,s){return function(e,t){i(Array.isArray(e),function(){return"Expected $splice target to be an array; got "+n(e)}),y(t.$splice)}(t,o),e.forEach(function(e){y(e),t===s&&e.length&&(t=l(s)),r.apply(t,e)}),t},$set:function(e,t,n){return function(e){i(1===Object.keys(e).length,function(){return"Cannot have more than one key in an object with $set"})}(n),e},$toggle:function(e,t){f(e,"$toggle");var n=e.length?l(t):t;return e.forEach(function(e){n[e]=!t[e]}),n},$unset:function(e,t,n,o){return f(e,"$unset"),e.forEach(function(e){Object.hasOwnProperty.call(t,e)&&(t===o&&(t=l(o)),delete t[e])}),t},$add:function(e,t,n,o){return w(t,"$add"),f(e,"$add"),"Map"===c(t)?e.forEach(function(e){var n=e[0],i=e[1];t===o&&t.get(n)!==i&&(t=l(o)),t.set(n,i)}):e.forEach(function(e){t!==o||t.has(e)||(t=l(o)),t.add(e)}),t},$remove:function(e,t,n,o){return w(t,"$remove"),f(e,"$remove"),e.forEach(function(e){t===o&&t.has(e)&&(t=l(o)),t.delete(e)}),t},$merge:function(e,t,o,s){var r,a;return r=t,i((a=e)&&"object"==typeof a,function(){return"update(): $merge expects a spec of type 'object'; got "+n(a)}),i(r&&"object"==typeof r,function(){return"update(): $merge expects a target of type 'object'; got "+n(r)}),u(e).forEach(function(n){e[n]!==t[n]&&(t===s&&(t=l(s)),t[n]=e[n])}),t},$apply:function(e,t){var o;return i("function"==typeof(o=e),function(){return"update(): expected spec of $apply to be a function; got "+n(o)+"."}),e(t)}},h=new p;function m(e,t,o){i(Array.isArray(e),function(){return"update(): expected target of "+n(o)+" to be an array; got "+n(e)+"."}),f(t[o],o)}function f(e,t){i(Array.isArray(e),function(){return"update(): expected spec of "+n(t)+" to be an array; got "+n(e)+". Did you forget to wrap your parameter in an array?"})}function y(e){i(Array.isArray(e),function(){return"update(): expected spec of $splice to be an array of arrays; got "+n(e)+". Did you forget to wrap your parameters in an array?"})}function w(e,t){var o=c(e);i("Map"===o||"Set"===o,function(){return"update(): "+n(t)+" expects a target of type Set or Map; got "+n(o)})}t.isEquals=h.update.isEquals,t.extend=h.extend,t.default=h.update,t.default.default=e.exports=d(t.default,t)},3428:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor({vue:e,entityUrn:t,plainId:n,backgroundImage:i,linkedinPremium:s,vanityName:r,creator:a,influencer:c}){const d={};void 0!==e&&(d.vue=e),void 0!==t&&(d.entityUrn=t),void 0!==n&&(d.plainId=n),void 0!==i&&(d.backgroundImage=i),void 0!==s&&(d.linkedinPremium=s),void 0!==r&&(d.vanityName=r),void 0!==a&&(d.creator=a),void 0!==c&&(d.influencer=c),super(o.bE,{path:"/me/update",options:{body:d}})}async deserialize(e){await e.response}}},3537:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(){super(o.Jt,{path:"/activity/reload"})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},3541:(e,t,n)=>{"use strict";n.d(t,{ZL:()=>p,pR:()=>g});var o=n(4435),i=n(757);class s extends i.x{constructor(){super({name:o.m.PlatformNotSupported,message:"Function not supported on current platform"})}}class r{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new s;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new s;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new s;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new s;this.storage.clear()}}var a=n(1414);class c{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}const d=new a.C("CoreStorageUtils"),u=()=>{try{if("undefined"!=typeof window&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch(e){return d.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new c}};class l{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new s;return this._storage}setItem(e,t){this.storage.setItem(e,t)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}}const p=new class extends r{constructor(){super((()=>{try{if("undefined"!=typeof window&&window.localStorage)return window.localStorage}catch(e){d.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new c})())}},g=(new class extends r{constructor(){super(u())}},new class extends l{constructor(){super(u())}});new r(new c)},3612:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var o=n(757);const i=(e,t=o.x)=>(n,o,i)=>{const{message:s,recoverySuggestion:r}=e[o];if(!n)throw new t({name:o,message:i?`${s} ${i}`:s,recoverySuggestion:r})}},3614:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(){super(o.bE,{path:"/posts/refreshscheduled"})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},3634:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var o=n(3131),i=n.n(o),s=n(8260);const r=new(n(1414).C)("BadgeManager");class a{static async updateBadge(){try{const e=await s.a.get();e?.user?(await i().action.setBadgeText({text:""}),await i().action.setTitle({title:i().i18n.getMessage("badge_default_title")})):(await i().action.setBadgeText({text:"!"}),await i().action.setBadgeBackgroundColor({color:"#FF5F5F"}),await i().action.setTitle({title:i().i18n.getMessage("badge_login_required_title")}))}catch(e){r.error("Erreur lors de la mise à jour du badge:",e),await i().action.setBadgeText({text:"!"}),await i().action.setBadgeBackgroundColor({color:"#FF5F5F"}),await i().action.setTitle({title:i().i18n.getMessage("badge_status_unknown_title")})}}static async init(){await this.updateBadge()}}},3818:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){const{content:t,title:n,programmingDate:i,sharing:s,organization:r,firstComment:a,person:c,objective:d,categories:u}=e,l={content:t};void 0!==n&&(l.title=n),void 0!==i&&(l.programmingDate=i),void 0!==s&&(l.sharing=s),void 0!==r&&(l.organization=r),void 0!==a&&(l.firstComment=a),void 0!==c&&(l.person=c),void 0!==d&&(l.objective=d),void 0!==u&&(l.categories=u),super(o.bE,{path:"/draft/create",options:{body:l}})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},3911:(e,t,n)=>{"use strict";n.d(t,{a:()=>d});var o=n(8221),i=n(1414),s=n(8260),r=n(5933),a=n(632);const c=new i.C("CreateListMessageHandler");class d extends o.kY{validate(e){return super.validate(e)&&"create_list"===e.type}async handle(e){c.info(e);const t=await s.a.get();if(void 0===t)return;const n=await r.c.send(new a.U({name:e.name}));t.lists.push(n),await s.a.setLists(t.lists)}}},3939:(e,t,n)=>{"use strict";n.d(t,{fE:()=>v});var o=n(7563);const i="6.15.7",s=()=>"undefined"!=typeof global,r=()=>"undefined"!=typeof window,a=()=>"undefined"!=typeof document,c=()=>"undefined"!=typeof process,d=(e,t)=>!!Object.keys(e).find(e=>e.startsWith(t)),u=[{platform:o.dT.Expo,detectionMethod:function(){return s()&&void 0!==global.expo}},{platform:o.dT.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:o.dT.NextJs,detectionMethod:function(){return r()&&window.next&&"object"==typeof window.next}},{platform:o.dT.Nuxt,detectionMethod:function(){return r()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:o.dT.Angular,detectionMethod:function(){const e=Boolean(a()&&document.querySelector("[ng-version]")),t=Boolean(r()&&void 0!==window.ng);return e||t}},{platform:o.dT.React,detectionMethod:function(){const e=e=>e.startsWith("_react")||e.startsWith("__react");return a()&&Array.from(document.querySelectorAll("[id]")).some(t=>Object.keys(t).find(e))}},{platform:o.dT.VueJs,detectionMethod:function(){return r()&&d(window,"__VUE")}},{platform:o.dT.Svelte,detectionMethod:function(){return r()&&d(window,"__SVELTE")}},{platform:o.dT.WebUnknown,detectionMethod:function(){return r()}},{platform:o.dT.NextJsSSR,detectionMethod:function(){return s()&&(d(global,"__next")||d(global,"__NEXT"))}},{platform:o.dT.NuxtSSR,detectionMethod:function(){return s()&&void 0!==global.__NUXT_PATHS__}},{platform:o.dT.ReactSSR,detectionMethod:function(){return c()&&void 0!==process.env&&!!Object.keys(process.env).find(e=>e.includes("react"))}},{platform:o.dT.VueJsSSR,detectionMethod:function(){return s()&&d(global,"__VUE")}},{platform:o.dT.AngularSSR,detectionMethod:function(){return c()&&"object"==typeof process.env&&process.env.npm_lifecycle_script?.startsWith("ng ")||!1}},{platform:o.dT.SvelteSSR,detectionMethod:function(){return c()&&void 0!==process.env&&!!Object.keys(process.env).find(e=>e.includes("svelte"))}}];let l;const p=[];let g=!1;const h=()=>{if(!l){if(l=u.find(e=>e.detectionMethod())?.platform||o.dT.ServerSideUnknown,g)for(;p.length;)p.pop()?.();else p.forEach(e=>{e()});m(o.dT.ServerSideUnknown,10),m(o.dT.WebUnknown,10)}return l};function m(e,t){l!==e||g||setTimeout(()=>{l=void 0,g=!0,setTimeout(h,1e3)},t)}const f={},y="aws-amplify",w=e=>e.replace(/\+.*/,"");new class{constructor(){this.userAgent=`${y}/${w(i)}`}get framework(){return h()}get isReactNative(){return this.framework===o.dT.ReactNative||this.framework===o.dT.Expo}observeFrameworkChanges(e){(e=>{g||p.push(e)})(e)}};const v=e=>(({category:e,action:t}={})=>{const n=[[y,w(i)]];if(e&&n.push([e,t]),n.push(["framework",h()]),e&&t){const o=((e,t)=>f[e]?.[t]?.additionalDetails)(e,t);o&&o.forEach(e=>{n.push(e)})}return n})(e).map(([e,t])=>e&&t?`${e}/${t}`:e).join(" ")},4112:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor({page:e,locale:t}){super(o.Jt,{path:"/cta/example",options:{queryParams:{page:`${e??1}`,locale:t,v:"5"}}})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},4201:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){const{item:t,mode:n}=e;super(o.bE,{path:"/activity/update",options:{body:{[n]:t}}})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},4216:(e,t,n)=>{"use strict";n.d(t,{M:()=>m});var o=n(1414),i=n(757);const s=new o.C("parseAWSExports"),r={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},a=e=>e?.split(",")??[],c=({domain:e,scope:t,redirectSignIn:n,redirectSignOut:o,responseType:i})=>({domain:e,scopes:t,redirectSignIn:a(n),redirectSignOut:a(o),responseType:i}),d=e=>e.map(e=>{const t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)});const u={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function l(e){return u[e]}const p={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function g(e=[]){return e.reduce((e,t)=>(void 0!==p[t]&&e.push(p[t]),e),[])}function h(e){const t={};return e.forEach(({name:e,bucket_name:n,aws_region:o,paths:i})=>{if(e in t)throw new Error(`Duplicate friendly name found: ${e}. Name must be unique.`);const s=i?Object.entries(i).reduce((e,[t,n])=>(void 0!==n&&(e[t]=n),e),{}):void 0;t[e]={bucketName:n,region:o,paths:s}}),t}const m=e=>Object.keys(e).some(e=>e.startsWith("aws_"))?((e={})=>{if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new i.x({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:t,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:o,aws_appsync_region:a,aws_bots_config:u,aws_cognito_identity_pool_id:l,aws_cognito_sign_up_verification_method:p,aws_cognito_mfa_configuration:g,aws_cognito_mfa_types:h,aws_cognito_password_protection_settings:m,aws_cognito_verification_mechanisms:f,aws_cognito_signup_attributes:y,aws_cognito_social_providers:w,aws_cognito_username_attributes:v,aws_mandatory_sign_in:E,aws_mobile_analytics_app_id:A,aws_mobile_analytics_app_region:I,aws_user_files_s3_bucket:x,aws_user_files_s3_bucket_region:S,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:C,aws_user_pools_id:b,aws_user_pools_web_client_id:P,geo:_,oauth:T,predictions:R,aws_cloud_logic_custom:N,Notifications:k,modelIntrospection:U}=e,M={};A&&(M.Analytics={Pinpoint:{appId:A,region:I}});const{InAppMessaging:D,Push:O}=k??{};if(D?.AWSPinpoint||O?.AWSPinpoint){if(D?.AWSPinpoint){const{appId:e,region:t}=D.AWSPinpoint;M.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(O?.AWSPinpoint){const{appId:e,region:t}=O.AWSPinpoint;M.Notifications={...M.Notifications,PushNotification:{Pinpoint:{appId:e,region:t}}}}}if(Array.isArray(u)&&(M.Interactions={LexV1:Object.fromEntries(u.map(e=>[e.name,e]))}),o){const e=r[n];e||s.debug(`Invalid authentication type ${n}. Falling back to IAM.`),M.API={GraphQL:{endpoint:o,apiKey:t,region:a,defaultAuthMode:e??"iam"}},U&&(M.API.GraphQL.modelIntrospection=U)}const F=g?{status:g&&g.toLowerCase(),totpEnabled:h?.includes("TOTP")??!1,smsEnabled:h?.includes("SMS")??!1}:void 0,L=m?{minLength:m.passwordPolicyMinLength,requireLowercase:m.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:m.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:m.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:m.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,$=Array.from(new Set([...f??[],...y??[]])).reduce((e,t)=>({...e,[t.toLowerCase()]:{required:!0}}),{}),q=v?.includes("EMAIL")??!1,j=v?.includes("PHONE_NUMBER")??!1;(l||b)&&(M.Auth={Cognito:{identityPoolId:l,allowGuestAccess:"enable"!==E,signUpVerificationMethod:p,userAttributes:$,userPoolClientId:P,userPoolId:b,mfa:F,passwordFormat:L,loginWith:{username:!(q||j),email:q,phone:j}}});const V=!!T&&Object.keys(T).length>0,B=!!w&&w.length>0;if(M.Auth&&V&&(M.Auth.Cognito.loginWith={...M.Auth.Cognito.loginWith,oauth:{...c(T),...B&&{providers:d(w)}}}),x&&(M.Storage={S3:{bucket:x,region:S,dangerouslyConnectToHttpEndpointForTesting:C}}),_){const{amazon_location_service:e}=_;M.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(N&&(M.API={...M.API,REST:N.reduce((e,t)=>{const{name:n,endpoint:o,region:i,service:s}=t;return{...e,[n]:{endpoint:o,...s?{service:s}:void 0,...i?{region:i}:void 0}}},{})}),R){const{VoiceId:e}=R?.convert?.speechGenerator?.defaults??{};M.Predictions=e?{...R,convert:{...R.convert,speechGenerator:{...R.convert.speechGenerator,defaults:{voiceId:e}}}}:R}return M})(e):function(e){const{version:t}=e;return!!t&&t.startsWith("1")}(e)?function(e){const t={};if(e.storage&&(t.Storage=function(e){if(!e)return;const{bucket_name:t,aws_region:n,buckets:o}=e;return{S3:{bucket:t,region:n,buckets:o&&h(o)}}}(e.storage)),e.auth&&(t.Auth=function(e){if(!e)return;const{user_pool_id:t,user_pool_client_id:n,identity_pool_id:o,password_policy:i,mfa_configuration:s,mfa_methods:r,unauthenticated_identities_enabled:a,oauth:c,username_attributes:d,standard_required_attributes:u,groups:l}=e,p={Cognito:{userPoolId:t,userPoolClientId:n,groups:l}};return o&&(p.Cognito={...p.Cognito,identityPoolId:o}),i&&(p.Cognito.passwordFormat={requireLowercase:i.require_lowercase,requireNumbers:i.require_numbers,requireUppercase:i.require_uppercase,requireSpecialCharacters:i.require_symbols,minLength:i.min_length??6}),s&&(p.Cognito.mfa={status:(h=s,"OPTIONAL"===h?"optional":"REQUIRED"===h?"on":"off"),smsEnabled:r?.includes("SMS"),totpEnabled:r?.includes("TOTP")}),a&&(p.Cognito.allowGuestAccess=a),c&&(p.Cognito.loginWith={oauth:{domain:c.domain,redirectSignIn:c.redirect_sign_in_uri,redirectSignOut:c.redirect_sign_out_uri,responseType:"token"===c.response_type?"token":"code",scopes:c.scopes,providers:g(c.identity_providers)}}),d&&(p.Cognito.loginWith={...p.Cognito.loginWith,email:d.includes("email"),phone:d.includes("phone_number"),username:d.includes("username")}),u&&(p.Cognito.userAttributes=u.reduce((e,t)=>({...e,[t]:{required:!0}}),{})),p;var h}(e.auth)),e.analytics&&(t.Analytics=function(e){if(!e?.amazon_pinpoint)return;const{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}(e.analytics)),e.geo&&(t.Geo=function(e){if(!e)return;const{aws_region:t,geofence_collections:n,maps:o,search_indices:i}=e;return{LocationService:{region:t,searchIndices:i,geofenceCollections:n,maps:o}}}(e.geo)),e.data&&(t.API=function(e){if(!e)return;const{aws_region:t,default_authorization_type:n,url:o,api_key:i,model_introspection:s}=e;return{GraphQL:{endpoint:o,defaultAuthMode:l(n),region:t,apiKey:i,modelIntrospection:s}}}(e.data)),e.custom){const n=function(e){if(!e?.events)return;const{url:t,aws_region:n,api_key:o,default_authorization_type:i}=e.events;return{Events:{endpoint:t,defaultAuthMode:l(i),region:n,apiKey:o}}}(e.custom);n&&"Events"in n&&(t.API={...t.API,...n})}return e.notifications&&(t.Notifications=function(e){if(!e)return;const{aws_region:t,channels:n,amazon_pinpoint_app_id:o}=e,i=n.includes("IN_APP_MESSAGING"),s=n.includes("APNS")||n.includes("FCM");if(!i&&!s)return;const r={};return i&&(r.InAppMessaging={Pinpoint:{appId:o,region:t}}),s&&(r.PushNotification={Pinpoint:{appId:o,region:t}}),r}(e.notifications)),t}(e):e},4311:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});const o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=()=>{const e=new Date,t=i[e.getUTCDay()],n=o[e.getUTCMonth()],s=e.getUTCDate();let r=e.getUTCHours();r<10&&(r=`0${r}`);let a=e.getUTCMinutes();a<10&&(a=`0${a}`);let c=e.getUTCSeconds();return c<10&&(c=`0${c}`),`${t} ${n} ${s} ${r}:${a}:${c} UTC ${e.getUTCFullYear()}`}},4337:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var o=n(7884),i=n(1527);const s=(0,o.q)(i.F,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}])},4424:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});const o={},i={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),o[e]=t,i[t]=e}function s(e){let t="";for(let n=0;n<e.byteLength;n++)t+=o[e[n]];return t}},4432:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor({id:e,name:t,description:n,private:i}){const s={name:t};void 0!==n&&(s.description=n),void 0!==i&&(s.private=i),super(o.bE,{path:`/list/${e}`,options:{body:s}})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},4435:(e,t,n)=>{"use strict";var o;n.d(t,{m:()=>o}),function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown",e.NetworkError="NetworkError"}(o||(o={}))},4473:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var o=n(1963);const i={convert(e,t){let n=e;return t?.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),(0,o.nW)()(n)}}},4498:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});const o={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},i={partitions:[o,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},s=e=>{const{partitions:t}=i;for(const{regions:n,outputs:o,regionRegex:i}of t){const t=new RegExp(i);if(n.includes(e)||t.test(e))return o.dnsSuffix}return o.outputs.dnsSuffix}},4520:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var o=n(4435),i=n(5811);function s(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new i.l({name:o.m.Unknown,message:"An unknown error has occurred.",underlyingError:e})}},4537:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){const{count:t,start:n,paginationToken:i}=e??{},s={};void 0!==t&&(s.count=t.toString()),void 0!==n&&(s.start=n.toString()),void 0!==i&&(s.paginationToken=i),super(o.bE,{path:"/posts/refresh",options:{queryParams:s}})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},4590:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var o=n(8221),i=n(1425);const s=new(n(1414).C)("PPTabDoneMessageHandler");class r extends o.kY{validate(e){return super.validate(e)&&"pp_tab_done"===e.type}handle(e){return s.info(e),i.z.closeTab()}}},4604:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var o=n(8221),i=n(1414),s=n(149),r=n(5933);const a=new i.C("CreateCanvaExportJobMessageHandler");class c extends o.kY{validate(e){return super.validate(e)&&"create_canva_export_job"===e.type&&"string"==typeof e.designId}async handle(e){a.info(e);const t=new s._({designId:e.designId,export_format:e.export_format||"pdf"});return r.c.send(t)}}},4627:(e,t,n)=>{"use strict";n.d(t,{Q:()=>S,o:()=>C});var o=n(3541),i=n(2441),s=n(456),r=n(2331),a=n(5811),c=n(6209),d=n(914),u=n(8106),l=n(915),p=n(4337),g=n(2250);const h=(e=>{let t;return async(...n)=>t||(t=new Promise((o,i)=>{e(...n).then(e=>{o(e)}).catch(e=>{i(e)}).finally(()=>{t=void 0})}),t)})(async({tokens:e,authConfig:t,username:n})=>{(0,i.$y)(t?.Cognito);const{userPoolId:o,userPoolClientId:h,userPoolEndpoint:m}=t.Cognito,f=(0,s.J)(o);(0,r.X4)(e);const y=(w={endpointResolver:(0,c.o)({endpointOverride:m})},(0,d.A)(p.e,(0,u._)("GetTokensFromRefreshToken"),(0,l.T)(),{...g.C,...w}));var w;const{AuthenticationResult:v}=await y({region:f},{ClientId:h,RefreshToken:e.refreshToken,DeviceKey:e.deviceMetadata?.deviceKey}),E=(0,i.Cq)(v?.AccessToken??""),A=v?.IdToken?(0,i.Cq)(v.IdToken):void 0,{iat:I}=E.payload;if(!I)throw new a.l({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:E,idToken:A,clockDrift:1e3*I-(new Date).getTime(),refreshToken:v?.RefreshToken??e.refreshToken,username:n}});var m=n(5648),f=n(9280),y=n(6594);function w({expiresAt:e,clockDrift:t,tolerance:n=5e3}){return Date.now()+t+n>e}var v=n(4435),E=n(4520);const A=new(n(5957).S)(o.ZL),I=[];class x{constructor(){this.waitForInflightOAuth=(0,y.B)()?async()=>{if(await A.loadOAuthInFlight())return this.inflightPromise||(this.inflightPromise=new Promise((e,t)=>{var n;n=e,I.push(n)})),this.inflightPromise}:async()=>{}}setAuthConfig(e){A.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new a.l({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new a.l({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let t;try{(0,i.$y)(this.authConfig?.Cognito)}catch(e){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,t=await this.getTokenStore().loadTokens();const n=await this.getTokenStore().getLastAuthUser();if(null===t)return null;const o=!!t?.idToken&&w({expiresAt:1e3*(t.idToken?.payload?.exp??0),clockDrift:t.clockDrift??0}),s=w({expiresAt:1e3*(t.accessToken?.payload?.exp??0),clockDrift:t.clockDrift??0});return(e?.forceRefresh||o||s)&&(t=await this.refreshTokens({tokens:t,username:n}),null===t)?null:{accessToken:t?.accessToken,idToken:t?.idToken,signInDetails:t?.signInDetails}}async refreshTokens({tokens:e,username:t}){try{const{signInDetails:n}=e,o=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:t});return o.signInDetails=n,await this.setTokens({tokens:o}),f.YZ.dispatch("auth",{event:"tokenRefresh"},"Auth",f.U9),o}catch(e){return this.handleErrors(e)}}handleErrors(e){if((0,E.e)(e),e.name!==v.m.NetworkError&&this.clearTokens(),f.YZ.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",f.U9),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}const S=new class{constructor(){this.authTokenStore=new m.Uv,this.authTokenStore.setKeyValueStorage(o.ZL),this.tokenOrchestrator=new x,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(h)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}},{tokenOrchestrator:C}=S},4665:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var o=n(4774);const i=e=>{const t=function(e=3e5){return t=>{const n=2**t*100+100*Math.random();return!(n>e)&&n}}(o.mU),n=t(e);return!1===n?o.mU:n}},4712:(e,t,n)=>{"use strict";n.d(t,{hv:()=>s,oA:()=>o,pU:()=>i});const o="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",i={},s={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),i[e]=t,s[t]=e}},4716:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var o=n(8221),i=n(1414),s=n(8260);const r=new i.C("CheckUserInListsMessageHandler");class a extends o.kY{validate(e){return super.validate(e)&&"check_user_in_lists"===e.type&&"userIdentifier"in e&&"string"==typeof e.userIdentifier}async handle(e){r.info("Checking user in lists",{userIdentifier:e.userIdentifier,isOrganization:e.isOrganization});const t=await s.a.get();if(void 0===t)return r.debug("No session found"),{isInLists:!1,userLists:[]};const n=[];for(const o of t.lists)[...o.members,...o.organizations].some(t=>t.urn===e.userIdentifier)&&n.push(o.name);const o=n.length>0;return r.debug("Check user in lists result",{userIdentifier:e.userIdentifier,isOrganization:e.isOrganization,isInLists:o,userLists:n}),{isInLists:o,userLists:n}}}},4721:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var o=n(2015);function i(e,t){return(0,o.w)(t||e,e)}},4729:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){super(o.bE,{path:`/draft/${e}/comment/remove`})}async deserialize(e){await e.response}}},4774:(e,t,n)=>{"use strict";n.d(t,{K7:()=>o,Q8:()=>s,jy:()=>i,mU:()=>r});const o=3,i="amz-sdk-invocation-id",s="amz-sdk-request",r=3e5},4780:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});const o=e=>{const{headers:t,statusCode:n}=e;return{...i(e)?e.$metadata:{},httpStatusCode:n,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},i=e=>"object"==typeof e?.$metadata},4815:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});var o=n(8221),i=n(1414),s=n(8260);const r=new i.C("GetListMessageHandler");class a extends o.kY{validate(e){return super.validate(e)&&"get_list"===e.type}async handle(e){r.info(e);const t=await s.a.get();return void 0===t?[]:t.lists}}},4923:(e,t,n)=>{"use strict";var o;n.d(t,{u:()=>i,x:()=>o}),function(e){e.InvalidApiName="InvalidApiName"}(o||(o={}));const i={[o.InvalidApiName]:{message:"API name is invalid.",recoverySuggestion:"Check if the API name matches the one in your configuration or `aws-exports.js`"}}},4963:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var o=n(4721);function i(e){return+(0,o.a)(e)>Date.now()}},4984:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var o=n(6166);const i=new(n(1414).C)("onAlarm");function s(e){i.info(e.name),e.name===o.F.QueueServiceAlarmName&&o.F.onQueueServiceAlarm()}},5005:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var o=n(3131),i=n.n(o),s=n(8221),r=n(5933),a=n(1425),c=n(1414),d=n(8260),u=n(3188),l=n(6160),p=n(3339),g=n(3428);const h=new c.C("CsrfMessageHandler");class m extends s.kY{validate(e){return super.validate(e)&&"csrf"===e.type}async handle(e,t){let n;h.info(e);const o=await(t.tab?a.z.isPptab(t.tab):Promise.resolve(!1)),s=await d.a.isAuthenticated(),c=await d.a.get(),{csrf:m,me:f,miniProfile:y}=e,w=y?.entityUrn?.replace("urn:li:fs_miniProfile:","");if(h.info(c?.user.entityUrn,w),h.info(c?.user.vanityName,y.publicIdentifier),!1===s)h.warn("Previous session found but not authenticated"),n={ppTab:!1,authenticated:!1};else if(void 0===c){h.info("No local session found but authenticated");const[e,t]=await Promise.all([r.c.send(new p.s(i().runtime.getManifest().version)),r.c.send(new l.S)]);d.a.login(e,t);const s={};e.entityUrn!==w&&void 0!==w&&(s.entityUrn=w),e.vanityName!==y.publicIdentifier&&void 0!==y.publicIdentifier&&(s.vanityName=y.publicIdentifier);const a=y?.backgroundImage,c=a?`${a.rootUrl}${a.artifacts.find(e=>800===e.width)?.fileIdentifyingUrlPathSegment}`:void 0;if(e.lnBackground!==c&&void 0!==c&&(s.backgroundImage=c),e.lnPremium!==f.premiumSubscriber&&void 0!==f.premiumSubscriber&&(s.linkedinPremium=f.premiumSubscriber),e.plainId!==f.plainId&&void 0!==f.plainId&&(s.plainId=f.plainId),Object.keys(s).length>0){const e=await r.c.send(new g.x(s));void 0!==e&&await d.a.setUser(e)}d.a.setCsrfToken(m),n={...await(0,u.v)(e),ppTab:o}}else if(void 0===c.user.vanityName){h.warn("LinkedIn account not associated with an vanityName revalidate");const e=await r.c.send(new p.s(i().runtime.getManifest().version));if(void 0===e.vanityName)n={ppTab:o,authenticated:s,error:"MISSING_ACCOUNT_ASSOCIATION"};else{const t=await r.c.send(new l.S);d.a.login(e,t);const i={};e.entityUrn!==w&&void 0!==w&&(i.entityUrn=w),e.vanityName!==y.publicIdentifier&&void 0!==y.publicIdentifier&&(i.vanityName=y.publicIdentifier);const s=y?.backgroundImage,a=s?`${s.rootUrl}${s.artifacts.find(e=>800===e.width)?.fileIdentifyingUrlPathSegment}`:void 0;if(e.lnBackground!==a&&void 0!==a&&(i.backgroundImage=a),e.lnPremium!==f.premiumSubscriber&&void 0!==f.premiumSubscriber&&(i.linkedinPremium=f.premiumSubscriber),e.plainId!==f.plainId&&void 0!==f.plainId&&(i.plainId=f.plainId),Object.keys(i).length>0){const e=await r.c.send(new g.x(i));void 0!==e&&await d.a.setUser(e)}d.a.setCsrfToken(m),n={...await(0,u.v)(e),ppTab:o}}}else if(void 0!==c.user.entityUrn&&c.user.entityUrn!==w||void 0===c.user.entityUrn&&c.user.vanityName!==y.publicIdentifier)h.warn("LinkedIn account mismatch"),n={ppTab:o,authenticated:s,error:"ACCOUNT_MISMATCH",vanityName:c.user.vanityName};else{const e={};c.user.entityUrn!==w&&void 0!==w&&(e.entityUrn=w),c.user.vanityName!==y.publicIdentifier&&void 0!==y.publicIdentifier&&(e.vanityName=y.publicIdentifier);const t=y?.backgroundImage,i=t?`${t.rootUrl}${t.artifacts.find(e=>800===e.width)?.fileIdentifyingUrlPathSegment}`:void 0;if(c.user.lnBackground!==i&&void 0!==i&&(e.backgroundImage=i),c.user.lnPremium!==f.premiumSubscriber&&void 0!==f.premiumSubscriber&&(e.linkedinPremium=f.premiumSubscriber),c.user.plainId!==f.plainId&&void 0!==f.plainId&&(e.plainId=f.plainId),Object.keys(e).length>0){const t=await r.c.send(new g.x(e));void 0!==t&&await d.a.setUser(t)}d.a.setCsrfToken(m),n={...await(0,u.v)(c.user),ppTab:o}}return h.info("csrf",n),n}}},5036:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(){super(o.Jt,{path:"/draft"})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},5049:(e,t,n)=>{"use strict";n.d(t,{Cw:()=>I,Eb:()=>x});const o=globalThis.chrome&&new function e(t){return new Proxy(t,{get(t,n){if(t[n])return"function"!=typeof t[n]?new e(t[n]):(...e)=>new Promise((o,i)=>{t[n](...e,e=>{chrome.runtime.lastError?i(new Error(chrome.runtime.lastError.message)):o(e)})})}})}(globalThis.chrome);function i(e){if(!e)return!1;try{const{pathname:t}=new URL(e,location.origin);return t===location.pathname}catch{return!1}}function s(e){return globalThis.chrome?.runtime?.getManifest?.()}function r(e){let t;return()=>(void 0!==t||(t=e()),t)}const a=r(()=>["about:","http:","https:"].includes(location.protocol)),c=r(()=>"string"==typeof globalThis.chrome?.runtime?.id),d=r(()=>location.protocol.endsWith("-extension:")&&!c()),u=r(()=>c()&&a()),l=r(()=>{const e=s();return!!e&&(!!i(e.background_page??e.background?.page)||Boolean(e.background?.scripts&&i("/_generated_background_page.html")))}),p=r(()=>i(s()?.background?.service_worker)),g={contentScript:u,background:()=>l()||p(),options:(r(()=>l()&&2===s()?.manifest_version&&!1!==s()?.background?.persistent),r(()=>i(s()?.options_ui?.page??s()?.options_page))),sidePanel:r(()=>i(s()?.side_panel?.default_path)),actionPopup:r(()=>globalThis.outerHeight-globalThis.innerHeight===14||i(s()?.action?.default_popup??s()?.browser_action?.default_popup)),devTools:()=>Boolean(globalThis.chrome?.devtools),devToolsPage:r(()=>c()&&Boolean(chrome.devtools)&&i(s()?.devtools_page)),offscreenDocument:r(()=>c()&&"document"in globalThis&&void 0===globalThis.chrome?.extension),extension:c,sandbox:d,web:a};Object.keys(g);const h={days:e=>864e5*e,hours:e=>36e5*e,minutes:e=>6e4*e,seconds:e=>1e3*e,milliseconds:e=>e,microseconds:e=>e/1e3,nanoseconds:e=>e/1e6},m={days:30};async function f(e,t){const n=`cache:${e}`,i=(await o.storage.local.get(n))[n];if(void 0!==i){if(!(Date.now()>i.maxAge))return i;t&&await o.storage.local.remove(n)}}async function y(e){const t=`cache:${e}`;return o.storage.local.remove(t)}async function w(e){const t=await o.storage.local.get(),n=[];for(const[o,i]of Object.entries(t))o.startsWith("cache:")&&(e?.(i)??1)&&n.push(o);n.length>0&&await o.storage.local.remove(n)}async function v(){await w(e=>Date.now()>e.maxAge)}const E={has:async function(e){return void 0!==await f(e,!1)},get:async function(e){const t=await f(e,!0);return t?.data},set:async function(e,t,n=m){if(arguments.length<2)throw new TypeError("Expected a value as the second argument");if(void 0===t)await y(e);else{const s=`cache:${e}`;await o.storage.local.set({[s]:{data:t,maxAge:(i=n,Date.now()+function(e){let t=0;for(const[n,o]of Object.entries(e)){if("number"!=typeof o)throw new TypeError(`Expected a \`number\` for key \`${n}\`, got \`${o}\` (${typeof o})`);const e=h[n];if(!e)throw new Error(`Unsupported time key: ${n}`);t+=e(o)}return t}(i))}})}var i;return t},clear:async function(){await w()},delete:y};!function(){if(c()&&(globalThis.webextStorageCache=E),l())if(chrome.alarms){chrome.alarms.create("webext-storage-cache",{delayInMinutes:1,periodInMinutes:1440});let e=0;chrome.alarms.onAlarm.addListener(t=>{"webext-storage-cache"===t.name&&e<Date.now()-1e3&&(e=Date.now(),v())})}else setTimeout(v,6e4),setInterval(v,864e5)}();const A=E;class I{name;maxAge;constructor(e,t={}){this.name=e,this.maxAge=t.maxAge??{days:30}}async get(){return A.get(this.name)}async set(e){if(0===arguments.length)throw new TypeError("Expected a value to be stored");return A.set(this.name,e,this.maxAge)}async delete(){return A.delete(this.name)}async isCached(){return void 0!==await this.get()}}const x={clear:A.clear}},5107:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var o=n(4774);const i=({maxAttempts:e=o.K7,retryDecider:t,computeDelay:n,abortSignal:i})=>{if(e<1)throw new Error("maxAttempts must be greater than 0");return(o,a)=>async function(c){let d,u,l=a.attemptsCount??0;const p=()=>{if(u)return r(u,l),u;throw r(d,l),d};for(;!i?.aborted&&l<e;){try{u=await o(c),d=void 0}catch(e){d=e,u=void 0}l=(a.attemptsCount??0)>l?a.attemptsCount??0:l+1,a.attemptsCount=l;const{isCredentialsExpiredError:r,retryable:g}=await t(u,d,a);if(!g)return p();if(a.isCredentialsExpired=!!r,!i?.aborted&&l<e){const e=n(l);await s(e,i)}}if(i?.aborted)throw new Error("Request aborted.");return p()}},s=(e,t)=>{if(t?.aborted)return Promise.resolve();let n,o;const i=new Promise(t=>{o=t,n=setTimeout(t,e)});return t?.addEventListener("abort",function e(i){clearTimeout(n),t?.removeEventListener("abort",e),o()}),i},r=(e,t)=>{"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata={...e.$metadata??{},attempts:t})}},5164:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var o=n(2694),i=n(4923);function s(e,t){const{message:n,recoverySuggestion:s}=i.u[t];if(!e)throw new o.v({name:t,message:n,recoverySuggestion:s})}},5216:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var o=n(439),i=n(2015),s=n(4721);function r(e,t){const n=()=>(0,i.w)(t?.in,NaN),r=t?.additionalDigits??2,m=function(e){const t={},n=e.split(a.dateTimeDelimiter);let o;if(n.length>2)return t;if(/:/.test(n[0])?o=n[0]:(t.date=n[0],o=n[1],a.timeZoneDelimiter.test(t.date)&&(t.date=e.split(a.timeZoneDelimiter)[0],o=e.substr(t.date.length,e.length))),o){const e=a.timezone.exec(o);e?(t.time=o.replace(e[1],""),t.timezone=e[1]):t.time=o}return t}(e);let f;if(m.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=e.match(n);if(!o)return{year:NaN,restDateString:""};const i=o[1]?parseInt(o[1]):null,s=o[2]?parseInt(o[2]):null;return{year:null===s?i:100*s,restDateString:e.slice((o[1]||o[2]).length)}}(m.date,r);f=function(e,t){if(null===t)return new Date(NaN);const n=e.match(c);if(!n)return new Date(NaN);const o=!!n[4],i=l(n[1]),s=l(n[2])-1,r=l(n[3]),a=l(n[4]),d=l(n[5])-1;if(o)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,a,d)?function(e,t,n){const o=new Date(0);o.setUTCFullYear(e,0,4);const i=7*(t-1)+n+1-(o.getUTCDay()||7);return o.setUTCDate(o.getUTCDate()+i),o}(t,a,d):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(g[t]||(h(e)?29:28))}(t,s,r)&&function(e,t){return t>=1&&t<=(h(e)?366:365)}(t,i)?(e.setUTCFullYear(t,s,Math.max(i,r)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!f||isNaN(+f))return n();const y=+f;let w,v=0;if(m.time&&(v=function(e){const t=e.match(d);if(!t)return NaN;const n=p(t[1]),i=p(t[2]),s=p(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,i,s)?n*o.s0+i*o.Cg+1e3*s:NaN}(m.time),isNaN(v)))return n();if(!m.timezone){const e=new Date(y+v),n=(0,s.a)(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return w=function(e){if("Z"===e)return 0;const t=e.match(u);if(!t)return 0;const n="+"===t[1]?-1:1,i=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,s)?n*(i*o.s0+s*o.Cg):NaN}(m.timezone),isNaN(w)?n():(0,s.a)(y+v+w,t?.in)}const a={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,d=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function l(e){return e?parseInt(e):1}function p(e){return e&&parseFloat(e.replace(",","."))||0}const g=[31,null,31,30,31,30,31,31,30,31,30,31];function h(e){return e%400==0||e%4==0&&e%100!=0}},5276:(e,t,n)=>{"use strict";n.d(t,{x:()=>c});var o=n(8221),i=n(1414),s=n(5049),r=n(8376);const a=new i.C("HideTipsActionsMessageHandler");class c extends o.kY{validate(e){return super.validate(e)&&"hide_tips_actions"===e.type}async handle(e){a.info(e);const t=new s.Cw("hideTipsActions",{maxAge:{milliseconds:(0,r.o)().getTime()-Date.now()}});await t.set(!0)}}},5368:(e,t,n)=>{"use strict";n.d(t,{g:()=>i,o:()=>o});const o=URL,i=URLSearchParams},5620:(e,t,n)=>{"use strict";n.d(t,{T:()=>f});var o=n(3537),i=n(879),s=n(8865),r=n(7791),a=n(8376),c=n(5049),d=n(5933),u=n(7114),l=n(3131),p=n.n(l),g=n(1414),h=n(1670);const m=new g.C("ActivityService");class f{static CACHE_KEY="dayActivity";static instance;static getInstance(){return void 0===f.instance&&(f.instance=new f),f.instance}constructor(){}async clearActivityCache(){const e=new c.Cw(f.CACHE_KEY);await e.delete()}async getActivity(){return new c.Cw(f.CACHE_KEY).get()}async setActivity(e){const t=new c.Cw(f.CACHE_KEY,{maxAge:{hours:(0,a.o)().getHours()-(new Date).getHours()}}),n=await t.set(e);return await this.emitActivityChange(n),n}async reloadActivity(){m.debug("Reloading activity");try{await d.c.send(new o.w);const e=await d.c.send(new s.n);if(void 0===e||void 0===e._id)throw new Error("No command available");const t=e._id;return new Promise(n=>{u.V.getInstance().appendToQueue(e,()=>{const e=async()=>{try{const e=await d.c.send(new r.y(t));if(m.debug("checkFunc",{cmd:e}),void 0===e)return clearInterval(o),void n({comment:0,like:0,objectifComment:0,objectifLike:0});if(void 0!==e.result){clearInterval(o);const e=Intl.DateTimeFormat().resolvedOptions().timeZone,t=await d.c.send(new i.m(e)),s={comment:t.comment,like:t.like,objectifComment:t.objectifComment??0,objectifLike:t.objectifLike??0};await this.setActivity(s),n(s)}}catch(e){if(e instanceof h.h&&e.response){const{statusCode:t,body:n}=e.response;m.error(`Received ${t} error response with payload: ${n}`)}return clearInterval(o),void n({comment:0,like:0,objectifComment:0,objectifLike:0})}},o=setInterval(e,2e3);e()})})}catch(e){if(e instanceof h.h&&e.response){const{statusCode:t,body:n}=e.response;m.error(`Received ${t} error response with payload: ${n}`)}return{comment:0,like:0,objectifComment:0,objectifLike:0}}}async emitActivityChange(e){const t=await p().tabs.query({url:["https://www.linkedin.com/*"]});return Promise.allSettled(t.map(e=>e.id).filter(e=>void 0!==e).map(async t=>{const n={type:"activity_change",activity:e};return p().tabs.sendMessage(t,n)})).then(e=>{m.info(`Activity change emitted to ${e.length} 'tabs`)})}}},5648:(e,t,n)=>{"use strict";n.d(t,{Uv:()=>l,Qm:()=>g});var o=n(2441),i=n(5811);const s={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var r,a=n(3612);!function(e){e.InvalidAuthTokens="InvalidAuthTokens"}(r||(r={}));const c={[r.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},d=(0,a.p)(c),u="CognitoIdentityServiceProvider";class l{getKeyValueStorage(){if(!this.keyValueStorage)throw new i.l({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{const e=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e.accessToken);if(!t)throw new i.l({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const n=(0,o.Cq)(t),s=await this.getKeyValueStorage().getItem(e.idToken),r=s?(0,o.Cq)(s):void 0,a=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,c=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",d=Number.parseInt(c),u=await this.getKeyValueStorage().getItem(e.signInDetails),l={accessToken:n,idToken:r,refreshToken:a,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:d,username:await this.getLastAuthUser()};return u&&(l.signInDetails=JSON.parse(u)),l}catch(e){return null}}async storeTokens(e){d(void 0!==e,r.InvalidAuthTokens);const t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);const n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(n.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(n.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(n.signInDetails),await this.getKeyValueStorage().setItem(n.clockDrift,`${e.clockDrift}`)}async clearTokens(){const e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){const t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),o=await this.getKeyValueStorage().getItem(t.deviceGroupKey),i=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return i&&o&&n?{deviceKey:n,deviceGroupKey:o,randomPassword:i}:null}async clearDeviceMetadata(e){const t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){(0,o.$y)(this.authConfig?.Cognito);const t=e??await this.getLastAuthUser();return p(u,`${this.authConfig.Cognito.userPoolClientId}.${t}`)}getLastAuthUserKey(){(0,o.$y)(this.authConfig?.Cognito);const e=this.authConfig.Cognito.userPoolClientId;return`${u}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(e){const{oauthMetadata:t}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(t,JSON.stringify(e))}async getOAuthMetadata(){const{oauthMetadata:e}=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e);return t&&JSON.parse(t)}}const p=(e,t)=>g(s)(`${e}`,t);function g(e){const t=Object.values({...e});return(e,n)=>t.reduce((t,o)=>({...t,[o]:`${e}.${n}.${o}`}),{})}},5713:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});const o=({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>n=>async function(o){if(0===t.trim().length)return await n(o);{const i=e.toLowerCase();return o.headers[i]=o.headers[i]?`${o.headers[i]} ${t}`:t,await n(o)}}},5811:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var o=n(757);class i extends o.x{constructor(e){super(e),this.constructor=i,Object.setPrototypeOf(this,i.prototype)}}},5882:(e,t,n)=>{"use strict";n.d(t,{x:()=>c});var o=n(8221),i=n(1414),s=n(6166),r=n(1989);const a=new i.C("CheckInstallMessageHandler");class c extends o.kY{validate(e){return super.validate(e)&&"check_install"===e.type}async handle(e){a.info(e);const t=await r.H.getDebugInfo();return t.isAuthenticated&&s.F.onQueueServiceAlarm(),{source:"perfectpost",type:"check_install_response",payload:t}}}},5911:(e,t,n)=>{"use strict";n.d(t,{I:()=>g});var o=n(3131),i=n.n(o),s=n(8221),r=n(1414),a=n(3818),c=n(5036),d=n(7258),u=n(2267),l=n(5933);const p=new r.C("CloneDraftMessageHandler");class g extends s.kY{validate(e){return super.validate(e)&&"clone_draft"===e.type}async handle(e,t){p.info(e);const n=await l.c.send(new d.n(e.draftId));if(void 0!==n){let o;if(n.sharing){const{url:s}=await l.c.send(new u.y(e.draftId)),r=await fetch(s).then(async e=>e.blob()),{draft:c,url:d}=await l.c.send(new a.P({content:n.content,programmingDate:n.programmingDate,organization:n.organization,sharing:{video:"video"===n.sharing.type?r.type:void 0,image:"image"===n.sharing.type?r.type:void 0,pdf:"pdf"===n.sharing.type?r.type:void 0},firstComment:n.firstComment}));o=c._id,d&&fetch(d,{method:"PUT",body:r,headers:{"Content-Type":r.type}}).then(()=>{t.tab?.id&&i().tabs.sendMessage(t.tab.id,{type:"upload_progress",progressEvent:{loaded:100,total:100}})})}else{const{draft:e}=await l.c.send(new a.P({content:n.content,programmingDate:n.programmingDate,organization:n.organization,firstComment:n.firstComment}));o=e._id}return{draftId:o,drafts:await l.c.send(new c.L)}}}}},5933:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var o=n(135);const i=new class{constructor(e){this.apiName=e}async send(e){const t=e.method({...e.input,apiName:this.apiName});return await e.deserialize(t)}}(o.FZ)},5957:(e,t,n)=>{"use strict";n.d(t,{S:()=>c});var o=n(2441),i=n(5648),s=n(2331);const r="amplify-signin-with-hostedUI",a="CognitoIdentityServiceProvider";class c{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){(0,o.$y)(this.cognitoConfig);const e=d(a,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){(0,o.$y)(this.cognitoConfig);const e=d(a,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(r),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){(0,o.$y)(this.cognitoConfig);const e=d(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){(0,o.$y)(this.cognitoConfig);const t=d(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){(0,o.$y)(this.cognitoConfig);const e=d(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){(0,o.$y)(this.cognitoConfig);const t=d(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){(0,o.$y)(this.cognitoConfig);const e=d(a,this.cognitoConfig.userPoolClientId);return"true"===await this.keyValueStorage.getItem(e.inflightOAuth)}async storeOAuthInFlight(e){(0,o.$y)(this.cognitoConfig);const t=d(a,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,`${e}`)}async loadOAuthSignIn(){(0,o.$y)(this.cognitoConfig);const e=d(a,this.cognitoConfig.userPoolClientId),t=await this.keyValueStorage.getItem(r),[n,i]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===n||"true"===t,preferPrivateSession:"true"===i}}async storeOAuthSignIn(e,t=!1){(0,o.$y)(this.cognitoConfig);const n=d(a,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${e},${t}`)}}const d=(e,t)=>(0,i.Qm)(s.f3)(e,t)},5999:(e,t,n)=>{"use strict";n.d(t,{Vv:()=>r,bd:()=>a,es:()=>o,lo:()=>s,tm:()=>i});class o{constructor(e,t,n,o,i){this.method=e,this.url=t,this.body=n,this.headers=o,this.referrer=i,this.deserialize=async e=>await e.json()}}class i extends Error{constructor(){super("LinkedInUnauthorizedError")}}class s extends Error{constructor(){super("LinkedInInternalServerError")}}class r extends Error{}class a{constructor(e,t=void 0){this.response=e,this.error=t}}},6040:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});const o=navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome");navigator.userAgent.indexOf("Firefox")},6052:(e,t,n)=>{"use strict";n.d(t,{N:()=>c});var o=n(8221),i=n(1414),s=n(5620),r=n(8260);const a=new i.C("GetActivityMessageHandler");class c extends o.kY{validate(e){return super.validate(e)&&"get_activity"===e.type}async handle(e){a.info(e);const t=await s.T.getInstance().getActivity();return void 0!==t?t:void 0!==await r.a.getCsrfToken()?s.T.getInstance().reloadActivity():{comment:0,like:0,objectifComment:0,objectifLike:0}}}},6114:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){super(o.Jt,{path:"/tips",options:{queryParams:{v:"5",locale:e??"en"}}})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},6154:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){super(o.bE,{path:`/draft/${e}/remove`})}async deserialize(e){await e.response}}},6160:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(){super(o.Jt,{path:"/list"})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},6166:(e,t,n)=>{"use strict";n.d(t,{F:()=>u});var o=n(8865),i=n(9251),s=n(3131),r=n.n(s),a=n(7114),c=n(5933);const d=new(n(1414).C)("QueueService");class u{static QueueServiceAlarmName="pp-main-thread";static start(){d.info("QueueService.start"),r().alarms.get(u.QueueServiceAlarmName).then(e=>{null==e?(d.info("alarm not exists create it"),r().alarms.create(u.QueueServiceAlarmName,{periodInMinutes:15})):d.info("alarm already exists",e.scheduledTime,e.periodInMinutes)}),u.onQueueServiceAlarm()}static stop(){r().alarms.clear(u.QueueServiceAlarmName)}static async onQueueServiceAlarm(){d.info("onQueueServiceAlarm");try{if(!await(0,i.$)().then(e=>void 0!==e.userSub).catch(()=>!1))return d.info("not authenticated, stop queue service"),void u.stop();const e=await c.c.send(new o.n);void 0!==e&&await a.V.getInstance().appendToQueue(e)}catch(e){d.error(e)}return a.V.getInstance().emitQueueState()}}},6209:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var o=n(5368),i=n(4498),s=n(2970);const r=({endpointOverride:e})=>t=>e?{url:new o.o(e)}:(({region:e})=>({url:new o.o(`https://${s.M}.${e}.${(0,i.R)(e)}`)}))(t)},6242:(e,t,n)=>{"use strict";n.d(t,{p:()=>u});var o=n(8221),i=n(1414),s=n(8260),r=n(9251),a=n(4963),c=n(5216);const d=new i.C("PostProcessorOptionMessageHandler");class u extends o.kY{validate(e){return super.validate(e)&&"post_processor_option"===e.type}async handle(e){d.info(e);let t=await s.a.isAuthenticated();const n=await s.a.get();void 0===n&&(t=!1);let o=!1,i=!1;if(t&&void 0!==n){const[e,t]=await new Promise(e=>(0,r.$)().then(t=>{const n=t.tokens?.idToken,o=n?.payload["cognito:groups"]?.toString();e([o?.includes("CUSTOMER")??!1,o?.includes("BETA")??!1])})),{user:s}=n,d=void 0!==s.earlyAdoptersPremiumExpireAt&&(0,a.G)((0,c.H)(s.earlyAdoptersPremiumExpireAt));o=e||d,i=t}return{premium:o,authenticated:t,beta:i}}}},6284:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var o=n(8221),i=n(1425);const s=new(n(1414).C)("InvalidCsrfMessageHandler");class r extends o.kY{validate(e){return super.validate(e)&&"invalid_csrf"===e.type}async handle(e,t){s.info(e),await(t.tab?i.z.isPptab(t.tab):Promise.resolve(!1))&&i.z.closeTab()}}},6301:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var o=n(4435);const i=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],s=e=>async(t,n)=>{const o=n??await e(t)??void 0,s=o?.code||o?.name,r=t?.statusCode;return{retryable:d(n)||c(r,s)||(e=>!!e&&i.includes(e))(s)||u(r,s)}},r=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],a=["TimeoutError","RequestTimeout","RequestTimeoutException"],c=(e,t)=>429===e||!!t&&r.includes(t),d=e=>[o.m.NetworkError,"ERR_NETWORK"].includes(e?.name),u=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&a.includes(t)},6341:(e,t,n)=>{"use strict";var o;n.d(t,{O:()=>o}),function(e){e[e.Idle=0]="Idle",e[e.Processing=1]="Processing"}(o||(o={}))},6370:(e,t,n)=>{"use strict";n.d(t,{x:()=>W});var o=n(8221),i=n(7151),s=n(7522),r=n(6742),a=n(2829),c=n(9484),d=n(5882),u=n(5911),l=n(1734),p=n(3911),g=n(5005),h=n(249),m=n(2142),f=n(591),y=n(6052),w=n(7349),v=n(3324),E=n(2856),A=n(4815),I=n(6986),x=n(9428),S=n(2520),C=n(5276),b=n(6284),P=n(6686),_=n(9056),T=n(8625),R=n(6984),N=n(6242),k=n(4590),U=n(1731),M=n(3387),D=n(6692),O=n(2170),F=n(2788),L=n(2594),$=n(550),q=n(4604),j=n(1398),V=n(9256),B=n(8446),H=n(6917),K=n(4716);const z={add_to_list:a.I,catch_error:O.x,change_password:c.J,check_install:d.x,check_queue:r.D,clone_draft:u.I,create_draft:l.Z,create_list:p.a,csrf:g.A,delete_draft:h.O,delete_first_comment:i.q,edit_draft:m.h,edit_list:f.u,fetch_draft_sharing:F.P,get_activity:y.N,get_cta:w.O,get_custom_cta:s.p,get_draft_sharing:v.J,get_hook:E.l,get_list:A.g,get_list_refresh:I.J,get_profile:x.v,get_tips_actions:S.R,hide_tips_actions:C.x,invalid_csrf:b.V,get_dafts:P.X,login:_.F,login_only:L.l,logout:T.C,on_draft_selected:R.T,post_processor_option:N.p,pp_tab_done:k.T,reload_activity:U.M,remove_from_list:M.k,remove_list:D.K,list_canva_designs:$.w,create_canva_export_job:q.k,get_canva_export_job_status:j.k,tracking:V.j,search_typeahead:B.L,chat_auth_token:H.R,check_user_in_lists:K.p},W=(0,o.Lr)(z)},6491:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var o=n(3131),i=n.n(o);function s(){const e=i().i18n.getUILanguage();return e.indexOf("-")?e.split("-")[0]:e}},6507:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e={}){const t=new URLSearchParams;void 0!==e.query&&t.append("query",e.query),void 0!==e.continuation&&t.append("continuation",e.continuation),void 0!==e.ownership&&t.append("ownership",e.ownership),void 0!==e.sort_by&&t.append("sort_by",e.sort_by),super(o.Jt,{path:"/canva/designs"+(0!==t.toString().length?"?"+t.toString():"")})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},6594:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});const o=()=>"undefined"!=typeof window&&void 0!==window.document},6636:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var o=n(4712);const i=e=>{if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const i=e.slice(n,n+2).toLowerCase();if(!(i in o.hv))throw new Error(`Cannot decode unrecognized sequence ${i} as hexadecimal`);t[n/2]=o.hv[i]}return t}},6686:(e,t,n)=>{"use strict";n.d(t,{X:()=>d});var o=n(8221),i=n(1414),s=n(8260),r=n(5036),a=n(5933);const c=new i.C("ListDraftMessageHandler");class d extends o.kY{validate(e){return super.validate(e)&&"get_dafts"===e.type}async handle(e){return c.info(e),await s.a.isAuthenticated()?a.c.send(new r.L):[]}}},6692:(e,t,n)=>{"use strict";n.d(t,{K:()=>d});var o=n(1414),i=n(8260),s=n(5933),r=n(1048),a=n(8221);const c=new o.C("RemoveListMessageHandler");class d extends a.kY{validate(e){return super.validate(e)&&"remove_list"===e.type}async handle(e){c.info(e);const t=await i.a.get();void 0!==t&&(await s.c.send(new r.k({id:e.id})),t.lists=t.lists.filter(t=>t._id!==e.id),await i.a.setLists(t.lists))}}},6742:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var o=n(8221),i=n(1414),s=n(6166);const r=new i.C("CheckQueueMessageHandler");class a extends o.kY{validate(e){return super.validate(e)&&"check_queue"===e.type}async handle(e){return r.info(e),await s.F.onQueueServiceAlarm(),{source:"perfectpost",type:"check_queue_response"}}}},6794:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var o=n(1978),i=n(5811);function s(e,t){const{message:n,recoverySuggestion:s}=o.ut[t];if(!e)throw new i.l({name:t,message:n,recoverySuggestion:s})}},6863:(e,t,n)=>{"use strict";n.d(t,{AR:()=>$e,ni:()=>qe,q2:()=>Te,m$:()=>Ne,XE:()=>Me,ty:()=>Pe,tE:()=>_e,h5:()=>Ce,Zw:()=>be});var o,i,s,r,a,c,d,u,l,p,g,h,m,f,y,w,v,E,A,I,x,S,C,b,P=n(12),_=n(7563),T=n(2441),R=n(5368),N=n(5811);!function(e){e.ConcurrentModificationException="ConcurrentModificationException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException"}(o||(o={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(i||(i={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UsernameExistsException="UsernameExistsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(s||(s={})),function(e){e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyFailedAttemptsException="TooManyFailedAttemptsException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(r||(r={})),function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyFailedAttemptsException="TooManyFailedAttemptsException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"}(a||(a={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(c||(c={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(d||(d={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(u||(u={})),function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"}(l||(l={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(p||(p={})),function(e){e.ExternalServiceException="ExternalServiceException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceConflictException="ResourceConflictException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException"}(g||(g={})),function(e){e.ExternalServiceException="ExternalServiceException",e.InternalErrorException="InternalErrorException",e.InvalidIdentityPoolConfigurationException="InvalidIdentityPoolConfigurationException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceConflictException="ResourceConflictException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException"}(h||(h={})),function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(m||(m={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException"}(f||(f={})),function(e){e.PasswordResetRequiredException="PasswordResetRequiredException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(y||(y={})),function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"}(w||(w={})),function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.MFAMethodNotFoundException="MFAMethodNotFoundException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(v||(v={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(E||(E={})),function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UsernameExistsException="UsernameExistsException"}(A||(A={})),function(e){e.AliasExistsException="AliasExistsException",e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(I||(I={})),function(e){e.CodeMismatchException="CodeMismatchException",e.EnableSoftwareTokenMFAException="EnableSoftwareTokenMFAException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(x||(x={})),function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(S||(S={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(C||(C={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(b||(b={}));var k=n(1978),U=n(582),M=n(6794),D=n(2632),O=n(9217),F=n(1018),L=n(9821),$=n(7303),q=n(914),j=n(4337),V=n(8106),B=n(915),H=n(2250);const K=e=>(0,q.A)(j.e,(0,V._)("VerifySoftwareToken"),(0,B.T)(),{...H.C,...e}),z=e=>(0,q.A)(j.e,(0,V._)("AssociateSoftwareToken"),(0,B.T)(),{...H.C,...e});var W=n(6209),G=n(456),Y=n(627),J=n(1816),Q=n(1746),Z=n(757),X=n(3612);const ee="Passkeys may not be supported on this device. Ensure your application is running in a secure context (HTTPS) and Web Authentication API is supported.";class te extends Z.x{constructor(e){super(e),this.constructor=te,Object.setPrototypeOf(this,te.prototype)}}var ne,oe;(oe=ne||(ne={})).PasskeyNotSupported="PasskeyNotSupported",oe.PasskeyAlreadyExists="PasskeyAlreadyExists",oe.InvalidPasskeyRegistrationOptions="InvalidPasskeyRegistrationOptions",oe.InvalidPasskeyAuthenticationOptions="InvalidPasskeyAuthenticationOptions",oe.RelyingPartyMismatch="RelyingPartyMismatch",oe.PasskeyRegistrationFailed="PasskeyRegistrationFailed",oe.PasskeyRetrievalFailed="PasskeyRetrievalFailed",oe.PasskeyRegistrationCanceled="PasskeyRegistrationCanceled",oe.PasskeyAuthenticationCanceled="PasskeyAuthenticationCanceled",oe.PasskeyOperationAborted="PasskeyOperationAborted";const ie="User may have canceled the ceremony or another interruption has occurred. Check underlying error for details.",se="Ensure your user pool is configured to support the WEB_AUTHN as an authentication factor.",re={[ne.PasskeyNotSupported]:{message:"Passkeys may not be supported on this device.",recoverySuggestion:ee},[ne.InvalidPasskeyRegistrationOptions]:{message:"Invalid passkey registration options.",recoverySuggestion:se},[ne.InvalidPasskeyAuthenticationOptions]:{message:"Invalid passkey authentication options.",recoverySuggestion:se},[ne.PasskeyRegistrationFailed]:{message:"Device failed to create passkey.",recoverySuggestion:ee},[ne.PasskeyRetrievalFailed]:{message:"Device failed to retrieve passkey.",recoverySuggestion:"Passkeys may not be available on this device. Try an alternative authentication factor like PASSWORD, EMAIL_OTP, or SMS_OTP."},[ne.PasskeyAlreadyExists]:{message:"Passkey already exists in authenticator.",recoverySuggestion:"Proceed with existing passkey or try again after deleting the credential."},[ne.PasskeyRegistrationCanceled]:{message:"Passkey registration ceremony has been canceled.",recoverySuggestion:ie},[ne.PasskeyAuthenticationCanceled]:{message:"Passkey authentication ceremony has been canceled.",recoverySuggestion:ie},[ne.PasskeyOperationAborted]:{message:"Passkey operation has been aborted.",recoverySuggestion:ie},[ne.RelyingPartyMismatch]:{message:"Relying party does not match current domain.",recoverySuggestion:"Ensure relying party identifier matches current domain."}},ae=(0,X.p)(re,te);var ce=n(4435);var de=n(6594),ue=n(9495);const le=e=>ue.Y.convert(new Uint8Array(e),{urlSafe:!0,skipPadding:!0});var pe=n(4473);const ge=e=>Uint8Array.from(pe.m.convert(e,{urlSafe:!0}),e=>e.charCodeAt(0)).buffer,he=async e=>{try{const t=(0,de.B)()&&window.isSecureContext&&"credentials"in navigator&&"function"==typeof window.PublicKeyCredential;ae(t,ne.PasskeyNotSupported);const n=(e=>{const t=ge(e.challenge),n=(e.allowCredentials||[]).map(e=>({...e,id:ge(e.id)}));return{...e,challenge:t,allowCredentials:n}})(e),o=await navigator.credentials.get({publicKey:n});return function(e){ae(e&&e instanceof PublicKeyCredential&&e.response instanceof AuthenticatorAssertionResponse,ne.PasskeyRetrievalFailed)}(o),(e=>{const t={clientDataJSON:le(e.response.clientDataJSON),authenticatorData:le(e.response.authenticatorData),signature:le(e.response.signature)};e.response.userHandle&&(t.userHandle=le(e.response.userHandle));const n={id:e.id,rawId:le(e.rawId),type:e.type,clientExtensionResults:e.getClientExtensionResults(),response:t};return e.authenticatorAttachment&&(n.authenticatorAttachment=e.authenticatorAttachment),n})(o)}catch(e){throw(e=>{if(e instanceof te)return e;if(e instanceof Error&&"NotAllowedError"===e.name){const{message:t,recoverySuggestion:n}=re[ne.PasskeyAuthenticationCanceled];return new te({name:ne.PasskeyAuthenticationCanceled,message:t,recoverySuggestion:n,underlyingError:e})}return(e=>{if(e instanceof Error){if("AbortError"===e.name){const{message:t,recoverySuggestion:n}=re[ne.PasskeyOperationAborted];return new te({name:ne.PasskeyOperationAborted,message:t,recoverySuggestion:n,underlyingError:e})}if("SecurityError"===e.name){const{message:t,recoverySuggestion:n}=re[ne.RelyingPartyMismatch];return new te({name:ne.RelyingPartyMismatch,message:t,recoverySuggestion:n,underlyingError:e})}}return new te({name:ce.m.Unknown,message:"An unknown error has occurred.",underlyingError:e})})(e)})(e)}};var me=n(631),fe=n(435),ye=n(1030),we=n(7796),ve=n(2062),Ee=(n(8532),n(8379)),Ae=n(7286),Ie=n(2735);const xe="userAttributes.";async function Se({challengeResponse:e,clientMetadata:t,session:n,username:o,config:i,tokenOrchestrator:s}){const{userPoolId:r,userPoolClientId:a,userPoolEndpoint:c}=i,d={USERNAME:o,ANSWER:e},u=await(s?.getDeviceMetadata(o));u&&u.deviceKey&&(d.DEVICE_KEY=u.deviceKey);const l={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:d,Session:n,ClientMetadata:t,ClientId:a,UserContextData:(0,ye.d)({username:o,userPoolId:r,userPoolClientId:a})},p=(0,$.H)({endpointResolver:(0,W.o)({endpointOverride:c})}),g=await p({region:(0,G.J)(r),userAgentValue:(0,F.A)(_.BM.ConfirmSignIn)},l);return"DEVICE_SRP_AUTH"===g.ChallengeName?(0,Ie.O)({username:o,config:i,clientMetadata:t,session:g.Session,tokenOrchestrator:s}):g}async function Ce(e,t,n,o,i){const{userPoolClientId:s,userPoolId:r,userPoolEndpoint:a}=o,c={USERNAME:e,PASSWORD:t},d=await i.getDeviceMetadata(e);d&&d.deviceKey&&(c.DEVICE_KEY=d.deviceKey);const u={AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:c,ClientMetadata:n,ClientId:s,UserContextData:(0,ye.d)({username:e,userPoolId:r,userPoolClientId:s})},l=(0,L.R)({endpointResolver:(0,W.o)({endpointOverride:a})}),p=await l({region:(0,G.J)(r),userAgentValue:(0,F.A)(_.BM.SignIn)},u),g=p.ChallengeParameters?.USERNAME??p.ChallengeParameters?.USER_ID_FOR_SRP??e;return(0,we.d)(g),"DEVICE_SRP_AUTH"===p.ChallengeName?(0,Ie.O)({username:g,config:o,clientMetadata:n,session:p.Session,tokenOrchestrator:i}):p}async function be(e,t,n,o,i){return(0,fe.L)({username:e,password:t,clientMetadata:n,config:o,tokenOrchestrator:i,authFlow:"USER_SRP_AUTH"})}async function Pe(e,t,n,o){const{userPoolClientId:i,userPoolId:s,userPoolEndpoint:r}=n,a={USERNAME:e},c=await o.getDeviceMetadata(e);c&&c.deviceKey&&(a.DEVICE_KEY=c.deviceKey);const d={AuthFlow:"CUSTOM_AUTH",AuthParameters:a,ClientMetadata:t,ClientId:i,UserContextData:(0,ye.d)({username:e,userPoolId:s,userPoolClientId:i})},u=(0,L.R)({endpointResolver:(0,W.o)({endpointOverride:r})}),l=await u({region:(0,G.J)(s),userAgentValue:(0,F.A)(_.BM.SignIn)},d),p=l.ChallengeParameters?.USERNAME??e;return(0,we.d)(p),"DEVICE_SRP_AUTH"===l.ChallengeName?(0,Ie.O)({username:p,config:n,clientMetadata:t,session:l.Session,tokenOrchestrator:o}):l}async function _e(e,t,n,o,i){(0,T.$y)(o);const{userPoolId:s,userPoolClientId:r,userPoolEndpoint:a}=o,c=s?.split("_")[1]||"",d=await(0,ve.H)(c),u={AuthFlow:"CUSTOM_AUTH",AuthParameters:{USERNAME:e,SRP_A:d.A.toString(16),CHALLENGE_NAME:"SRP_A"},ClientMetadata:n,ClientId:r,UserContextData:(0,ye.d)({username:e,userPoolId:s,userPoolClientId:r})},l=(0,L.R)({endpointResolver:(0,W.o)({endpointOverride:a})}),{ChallengeParameters:p,Session:g}=await l({region:(0,G.J)(s),userAgentValue:(0,F.A)(_.BM.SignIn)},u),h=p?.USERNAME??e;return(0,we.d)(h),(0,Ee.i)(Ae.f,[t,p,n,g,d,o,i],h,i)}async function Te(e){const{challengeName:t,challengeParameters:n,availableChallenges:o}=e,i=P.H.getConfig().Auth?.Cognito;switch((0,T.$y)(i),t){case"CUSTOM_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE",additionalInfo:n}};case"MFA_SETUP":{const{signInSession:e,username:t}=Q.c$.getState(),o=Fe(Le(n.MFAS_CAN_SETUP))||[],s=o.filter(e=>"EMAIL"===e||"TOTP"===e),r=s.includes("TOTP"),a=s.includes("EMAIL");if(r&&a)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SETUP_SELECTION",allowedMFATypes:s}};if(a)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_EMAIL_SETUP"}};if(r){const n=z({endpointResolver:(0,W.o)({endpointOverride:i.userPoolEndpoint})}),{Session:o,SecretCode:s}=await n({region:(0,G.J)(i.userPoolId)},{Session:e});return Q.c$.dispatch({type:"SET_SIGN_IN_SESSION",value:o}),{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_TOTP_SETUP",totpSetupDetails:Re(s,t)}}}throw new N.l({name:k.nC.SignInException,message:`Cannot initiate MFA setup from available types: ${o}`})}case"NEW_PASSWORD_REQUIRED":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED",missingAttributes:ke(n.requiredAttributes)}};case"SELECT_MFA_TYPE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SELECTION",allowedMFATypes:Fe(Le(n.MFAS_CAN_CHOOSE))}};case"SMS_OTP":case"SMS_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_SMS_CODE",codeDeliveryDetails:{deliveryMedium:n.CODE_DELIVERY_DELIVERY_MEDIUM,destination:n.CODE_DELIVERY_DESTINATION}}};case"SOFTWARE_TOKEN_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_TOTP_CODE"}};case"EMAIL_OTP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_EMAIL_CODE",codeDeliveryDetails:{deliveryMedium:n.CODE_DELIVERY_DELIVERY_MEDIUM,destination:n.CODE_DELIVERY_DESTINATION}}};case"WEB_AUTHN":{const e=await async function(e){const t=P.H.getConfig().Auth?.Cognito;(0,T.$y)(t);const{username:n,signInSession:o,signInDetails:i,challengeName:s}=Q.c$.getState();if("WEB_AUTHN"!==s||!n)throw new N.l({name:k.nC.SignInException,message:"Unable to proceed due to invalid sign in state."});const{CREDENTIAL_REQUEST_OPTIONS:r}=e;ae(!!r,ne.InvalidPasskeyAuthenticationOptions);const a=await he(JSON.parse(r)),c=(0,$.H)({endpointResolver:(0,W.o)({endpointOverride:t.userPoolEndpoint})}),{ChallengeName:d,ChallengeParameters:u,AuthenticationResult:l,Session:p}=await c({region:(0,G.J)(t.userPoolId),userAgentValue:(0,F.A)(_.BM.ConfirmSignIn)},{ChallengeName:"WEB_AUTHN",ChallengeResponses:{USERNAME:n,CREDENTIAL:JSON.stringify(a)},ClientId:t.userPoolClientId,Session:o});if((0,Q.wr)({signInSession:p,username:n,challengeName:d,signInDetails:i}),l)return await(0,Y.i)({...l,username:n,NewDeviceMetadata:await(0,me.i)({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:l.NewDeviceMetadata,accessToken:l.AccessToken}),signInDetails:i}),Q.c$.dispatch({type:"RESET_STATE"}),await(0,J.Q)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};if("WEB_AUTHN"===d)throw new N.l({name:k.nC.SignInException,message:"Sequential WEB_AUTHN challenges returned from underlying service cannot be handled."});return{challengeName:d,challengeParameters:u}}(n);return function(e){return"isSignedIn"in e&&"nextStep"in e}(e)?e:Te(e)}case"PASSWORD":case"PASSWORD_SRP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_PASSWORD"}};case"SELECT_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_FIRST_FACTOR_SELECTION",availableChallenges:o}}}throw new N.l({name:k.nC.SignInException,message:`An error occurred during the sign in process. ${t} challengeName returned by the underlying service was not addressed.`})}function Re(e,t){return{sharedSecret:e,getSetupUri:(n,o)=>{const i=`otpauth://totp/${n}:${o??t}?secret=${e}&issuer=${n}`;return new R.o(i)}}}function Ne(e){return e===y.PasswordResetRequiredException?{isSignedIn:!1,nextStep:{signInStep:"RESET_PASSWORD"}}:e===y.UserNotConfirmedException?{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_UP"}}:void 0}function ke(e){return e?JSON.parse(e).map(e=>e.includes(xe)?e.replace(xe,""):e):[]}function Ue(e){if(!e)return{};const t={};return Object.entries(e).forEach(([e,n])=>{n&&(t[`${xe}${e}`]=n)}),t}async function Me(e,t,n,o,i,s,r,a){const c=a?.userAttributes,d=a?.friendlyDeviceName;switch(t){case"WEB_AUTHN":case"SELECT_CHALLENGE":return"PASSWORD_SRP"===o||"PASSWORD"===o?{ChallengeName:o,Session:n,$metadata:{}}:async function({username:e,session:t,selectedChallenge:n,config:o,clientMetadata:i}){return(0,$.H)({endpointResolver:(0,W.o)({endpointOverride:o.userPoolEndpoint})})({region:(0,G.J)(o.userPoolId),userAgentValue:(0,F.A)(_.BM.ConfirmSignIn)},{ChallengeName:"SELECT_CHALLENGE",ChallengeResponses:{USERNAME:e,ANSWER:n},ClientId:o.userPoolClientId,Session:t,ClientMetadata:i})}({username:e,session:n,selectedChallenge:o,config:i,clientMetadata:r});case"SELECT_MFA_TYPE":return async function({challengeResponse:e,username:t,clientMetadata:n,session:o,config:i}){const{userPoolId:s,userPoolClientId:r,userPoolEndpoint:a}=i;(0,M.M)("TOTP"===e||"SMS"===e||"EMAIL"===e,U.P.IncorrectMFAMethod);const c={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:{USERNAME:t,ANSWER:De(e)},Session:o,ClientMetadata:n,ClientId:r,UserContextData:(0,ye.d)({username:t,userPoolId:s,userPoolClientId:r})};return(0,$.H)({endpointResolver:(0,W.o)({endpointOverride:a})})({region:(0,G.J)(s),userAgentValue:(0,F.A)(_.BM.ConfirmSignIn)},c)}({challengeResponse:o,clientMetadata:r,session:n,username:e,config:i});case"MFA_SETUP":return async function({challengeResponse:e,username:t,clientMetadata:n,session:o,deviceName:i,config:s}){const{userPoolId:r,userPoolClientId:a,userPoolEndpoint:c}=s;if("EMAIL"===e)return{ChallengeName:"MFA_SETUP",Session:o,ChallengeParameters:{MFAS_CAN_SETUP:'["EMAIL_OTP"]'},$metadata:{}};if("TOTP"===e)return{ChallengeName:"MFA_SETUP",Session:o,ChallengeParameters:{MFAS_CAN_SETUP:'["SOFTWARE_TOKEN_MFA"]'},$metadata:{}};const d={USERNAME:t};if(/^\d+$/.test(e)){const t=K({endpointResolver:(0,W.o)({endpointOverride:c})}),{Session:s}=await t({region:(0,G.J)(r),userAgentValue:(0,F.A)(_.BM.ConfirmSignIn)},{UserCode:e,Session:o,FriendlyDeviceName:i});Q.c$.dispatch({type:"SET_SIGN_IN_SESSION",value:s});const u={ChallengeName:"MFA_SETUP",ChallengeResponses:d,Session:s,ClientMetadata:n,ClientId:a};return(0,$.H)({endpointResolver:(0,W.o)({endpointOverride:c})})({region:(0,G.J)(r),userAgentValue:(0,F.A)(_.BM.ConfirmSignIn)},u)}if(e.includes("@")){d.EMAIL=e;const t={ChallengeName:"MFA_SETUP",ChallengeResponses:d,Session:o,ClientMetadata:n,ClientId:a};return(0,$.H)({endpointResolver:(0,W.o)({endpointOverride:c})})({region:(0,G.J)(r),userAgentValue:(0,F.A)(_.BM.ConfirmSignIn)},t)}throw new N.l({name:k.nC.SignInException,message:`Cannot proceed with MFA setup using challengeResponse: ${e}`,recoverySuggestion:'Try passing "EMAIL", "TOTP", a valid email, or OTP code as the challengeResponse.'})}({challengeResponse:o,clientMetadata:r,session:n,username:e,deviceName:d,config:i});case"NEW_PASSWORD_REQUIRED":return async function({challengeResponse:e,clientMetadata:t,session:n,username:o,requiredAttributes:i,config:s}){const{userPoolId:r,userPoolClientId:a,userPoolEndpoint:c}=s,d={ChallengeName:"NEW_PASSWORD_REQUIRED",ChallengeResponses:{...Ue(i),NEW_PASSWORD:e,USERNAME:o},ClientMetadata:t,Session:n,ClientId:a,UserContextData:(0,ye.d)({username:o,userPoolId:r,userPoolClientId:a})};return(0,$.H)({endpointResolver:(0,W.o)({endpointOverride:c})})({region:(0,G.J)(r),userAgentValue:(0,F.A)(_.BM.ConfirmSignIn)},d)}({challengeResponse:o,clientMetadata:r,session:n,username:e,requiredAttributes:c,config:i});case"CUSTOM_CHALLENGE":return(0,Ee.i)(Se,[{challengeResponse:o,clientMetadata:r,session:n,username:e,config:i,tokenOrchestrator:s}],e,s);case"SMS_MFA":case"SOFTWARE_TOKEN_MFA":case"SMS_OTP":case"EMAIL_OTP":return async function({challengeName:e,challengeResponse:t,clientMetadata:n,session:o,username:i,config:s}){const{userPoolId:r,userPoolClientId:a,userPoolEndpoint:c}=s,d={USERNAME:i};"EMAIL_OTP"===e&&(d.EMAIL_OTP_CODE=t),"SMS_MFA"===e&&(d.SMS_MFA_CODE=t),"SMS_OTP"===e&&(d.SMS_OTP_CODE=t),"SOFTWARE_TOKEN_MFA"===e&&(d.SOFTWARE_TOKEN_MFA_CODE=t);const u={ChallengeName:e,ChallengeResponses:d,Session:o,ClientMetadata:n,ClientId:a,UserContextData:(0,ye.d)({username:i,userPoolId:r,userPoolClientId:a})};return(0,$.H)({endpointResolver:(0,W.o)({endpointOverride:c})})({region:(0,G.J)(r),userAgentValue:(0,F.A)(_.BM.ConfirmSignIn)},u)}({challengeName:t,challengeResponse:o,clientMetadata:r,session:n,username:e,config:i});case"PASSWORD":return async function(e,t,n,o,i){const{userPoolId:s,userPoolClientId:r,userPoolEndpoint:a}=o,c={ANSWER:"PASSWORD",USERNAME:e,PASSWORD:t},d=(0,ye.d)({username:e,userPoolId:s,userPoolClientId:r}),u=(0,$.H)({endpointResolver:(0,W.o)({endpointOverride:a})}),l=await u({region:(0,G.J)(s),userAgentValue:(0,F.A)(_.BM.ConfirmSignIn)},{ChallengeName:"SELECT_CHALLENGE",ChallengeResponses:c,ClientId:r,ClientMetadata:n,Session:i,UserContextData:d}),p=l.ChallengeParameters?.USERNAME??e;return(0,we.d)(p),l}(e,o,r,i,n);case"PASSWORD_SRP":return async function(e,t,n,o,i,s){const{userPoolId:r,userPoolClientId:a,userPoolEndpoint:c}=o,d=r.split("_")[1]||"",u=await(0,ve.H)(d),l={ANSWER:"PASSWORD_SRP",USERNAME:e,SRP_A:u.A.toString(16)},p=(0,ye.d)({username:e,userPoolId:r,userPoolClientId:a}),g=(0,$.H)({endpointResolver:(0,W.o)({endpointOverride:c})}),h=await g({region:(0,G.J)(r),userAgentValue:(0,F.A)(_.BM.ConfirmSignIn)},{ChallengeName:"SELECT_CHALLENGE",ChallengeResponses:l,ClientId:a,ClientMetadata:n,Session:i,UserContextData:p}),m=h.ChallengeParameters?.USERNAME??e;return(0,we.d)(m),"PASSWORD_VERIFIER"===h.ChallengeName?(0,Ee.i)(Ae.f,[t,h.ChallengeParameters,n,h.Session,u,o,s],m,s):h}(e,o,r,i,n,s)}throw new N.l({name:k.nC.SignInException,message:`An error occurred during the sign in process.\n\t\t${t} challengeName returned by the underlying service was not addressed.`})}function De(e){let t="SMS_MFA";return"TOTP"===e&&(t="SOFTWARE_TOKEN_MFA"),"EMAIL"===e&&(t="EMAIL_OTP"),t}function Oe(e){return"SMS_MFA"===e?"SMS":"SOFTWARE_TOKEN_MFA"===e?"TOTP":"EMAIL_OTP"===e?"EMAIL":void 0}function Fe(e){if(e)return e.map(Oe).filter(Boolean)}function Le(e){return e?JSON.parse(e):[]}async function $e(){let e;try{e=await(0,O.H)()}catch(e){}if(e&&e.userId&&e.username)throw new N.l({name:D.z0,message:"There is already a signed in user.",recoverySuggestion:"Call signOut before calling signIn again."})}function qe(e){return Q.c$.getState().username??e}},6917:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var o=n(8221),i=n(1414),s=n(9251);const r=new i.C("ChatAuthTokenMessageHandler");class a extends o.kY{validate(e){return super.validate(e)&&"chat_auth_token"===e.type}async handle(){return r.info("Getting ChatKit authentication token"),await async function(){try{const e=await(0,s.$)(),t=e.tokens?.idToken?.toString();if(!t)return r.warn("No Cognito ID token available for ChatKit authentication"),{token:null};let n;return e.tokens?.idToken?.payload?.exp&&(n=1e3*e.tokens.idToken.payload.exp),{token:t,expiresAt:n}}catch(e){return r.error("Failed to get Cognito ID token:",e),{token:null}}}()}}},6984:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var o=n(8221),i=n(1414),s=n(5049);const r=new i.C("OnDraftSelectedMessageHandler");class a extends o.kY{validate(e){return super.validate(e)&&"on_draft_selected"===e.type}async handle(e){r.info(e);const t=e.draftId,n=new s.Cw("currentDraftId",{maxAge:{minutes:30}});void 0===t?await n.delete():await n.set(t)}}},6986:(e,t,n)=>{"use strict";n.d(t,{J:()=>d});var o=n(8221),i=n(1414),s=n(8260),r=n(6160),a=n(5933);const c=new i.C("GetListRefreshMessageHandler");class d extends o.kY{validate(e){return super.validate(e)&&"get_list_refresh"===e.type}async handle(e){c.info(e);const t=await a.c.send(new r.S);return await s.a.setLists(t),t}}},7032:(e,t,n)=>{"use strict";n.d(t,{o:()=>d});var o=n(3131),i=n.n(o),s=n(135),r=n(1414);class a{async get(e){const t=await i().storage.local.get(e);return t?.[e]??void 0}async set(e,t){await i().storage.local.set({[e]:t})}async remove(e){await i().storage.local.remove(e)}}function c(e){return new Promise(t=>setTimeout(t,e))}const d=new class{token;apiBase;maxRetries;backoffBaseMs;storagePrefix;storage;getNow;distinctId;superProps={};optedOut=!1;initialized=!1;initPromise;KEYS={distinctId:"distinctId",superProps:"superProps",optedOut:"optedOut"};logger;constructor(e){this.token=e.token,this.apiBase=e.apiBase??"https://api.mixpanel.com",this.maxRetries=Math.max(0,e.maxRetries??2),this.backoffBaseMs=Math.max(0,e.backoffBaseMs??300),this.storagePrefix=e.storagePrefix??"mpw:",this.storage=e.storage??new a,this.getNow=e.getNow??(()=>Date.now()),this.logger=new r.C("MixpanelWorkerService")}async init(){this.initialized||(this.initPromise??=(async()=>{const[e,t,n]=await Promise.all([this.getStorage(this.KEYS.distinctId),this.getStorage(this.KEYS.superProps),this.getStorage(this.KEYS.optedOut)]);this.distinctId=e??await this.generateAndPersistDistinctId(),this.superProps=t??{},this.optedOut=n??!1;const o=i().runtime.getManifest?.();this.registerSuperProps({$lib:"mixpanel-worker-service",$lib_version:"1.0.0",$app_version:o?.version??null,extension_id:i().runtime.id,extension_name:o?.name??null,extension_version:o?.version??null,environment:this.inferEnvironment()??null,browser_vendor:this.inferBrowserVendor(),application:"extension"}),this.initialized=!0})(),await this.initPromise)}async ensureInit(){this.initialized||await this.init()}async identify(e){this.distinctId=e,await this.setStorage(this.KEYS.distinctId,e),this.logger.info("identify",{distinctId:e})}registerSuperProps(e){this.superProps={...this.superProps,...e},this.setStorage(this.KEYS.superProps,this.superProps).catch(()=>{}),this.logger.info("registerSuperProps",e)}async setOptOut(e){this.optedOut=e,await this.setStorage(this.KEYS.optedOut,e),this.logger.info("setOptOut",{optOut:e})}async track(e,t){if(this.optedOut)return;await this.ensureInit();const n={token:this.token,distinct_id:this.distinctId??null,time:Math.floor(this.getNow()/1e3),...this.superProps,...t??{}};this.logger.info("[MPW] track",{event:e,distinctId:this.distinctId,props:n}),await this.sendWithRetry([{event:e,properties:n}])||this.logger.warn("[MPW] track failed permanently",{event:e,props:n})}async reset(){await Promise.all([this.removeStorage(this.KEYS.distinctId),this.removeStorage(this.KEYS.superProps),this.removeStorage(this.KEYS.optedOut)]),this.distinctId=await this.generateAndPersistDistinctId(),this.superProps={},this.optedOut=!1,this.logger.info("[MPW] reset done",{distinctId:this.distinctId})}inferEnvironment(){try{return!1===("undefined"!=typeof navigator?navigator.onLine:void 0)?"offline":"online"}catch{return}}inferBrowserVendor(){try{const e=globalThis?.navigator?.userAgent??"";return/Firefox/i.test(e)?"firefox":/Edg\//i.test(e)?"edge":/Chrome/i.test(e)?"chrome":/Safari/i.test(e)?"safari":null}catch{return null}}isFirefox(){try{return/Firefox/i.test(globalThis?.navigator?.userAgent??"")}catch{return!1}}async sendWithRetry(e){const t=this.apiBase.replace(/\/$/,""),n=this.isFirefox(),o=function(e){const t=(new TextEncoder).encode(e);let n="";for(let e=0;e<t.length;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(JSON.stringify(e));let i=0;for(;;){try{if(n){const e=`${t}/track?ip=1&img=1&data=${encodeURIComponent(o)}`;return await fetch(e,{method:"GET",mode:"no-cors"}),!0}{const e=new URLSearchParams;e.set("data",o),e.set("verbose","1");const n=await fetch(`${t}/track?ip=1`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.toString()});if(n.ok){const e=await n.json().catch(()=>({}));if(1===e?.status)return!0;this.logger.warn("[MPW] Mixpanel verbose error",e)}else if(this.logger.warn("[MPW] HTTP error",n.status),n.status>=400&&n.status<500)return!1}}catch(e){this.logger.warn("[MPW] fetch failed",e)}if(i>=this.maxRetries)return!1;i+=1;const e=this.backoffBaseMs*2**(i-1);await c(e)}}async generateAndPersistDistinctId(){const e=()=>Math.floor(65536*(1+Math.random())).toString(16).slice(1),t=`${e()}${e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`;return await this.setStorage(this.KEYS.distinctId,t),t}k(e){return`${this.storagePrefix}${e}`}async getStorage(e){return this.storage.get(this.k(e))}async setStorage(e,t){return this.storage.set(this.k(e),t)}async removeStorage(e){return this.storage.remove(this.k(e))}}({apiBase:"https://api-eu.mixpanel.com",token:s.ZF,maxRetries:2,backoffBaseMs:300,storagePrefix:"pp:"})},7114:(e,t,n)=>{"use strict";n.d(t,{V:()=>w});var o=n(1243),i=n(5999),s=n(3391),r=n(6491),a=n(5933),c=n(6341),d=n(1017),u=n(3131),l=n.n(u),p=n(1414),g=(n(7835),n(2694)),h=(n(5164),n(4923),n(8260)),m=n(135);const f=new s.Ay(1),y=new p.C("CommandQueue");class w{static instance;static getInstance(){return void 0===w.instance&&(w.instance=new w),w.instance}state=c.O.Idle;currentCommand;queue=[];constructor(){}async appendToQueue(e,t){y.info("append to queue",e._internalName);const n=await f.acquire();this.state===c.O.Processing?this.queue.push({command:e,callback:t}):(this.state=c.O.Processing,this.process({command:e,callback:t})),n()}async emitQueueState(){const e=["https://app.perfectpost.fr/*","https://beta.perfectpost.fr/*"];try{const t=m.jq.replace(/\/$/,""),{protocol:n,host:o}=new URL(t),i=`${n}//${o}/*`;e.includes(i)||e.push(i)}catch(e){y.error("SAAS_URL mal formé",e)}const t=await l().tabs.query({url:e}),n={type:"queue_state",source:"perfectpost",payload:{state:this.state,currentCommandId:this.currentCommand?._id??this.currentCommand?._internalName,commandStack:this.queue.map(e=>e.command._id??e.command._internalName)}};return y.info("emitQueueState",n),Promise.allSettled(t.map(e=>e.id).filter(e=>void 0!==e).map(async e=>l().tabs.sendMessage(e,n))).then(e=>{y.info(`QueueState change emitted to ${e.length} 'tabs`)})}async sendFollowUpProcessCommand(e,t={}){try{const n=await a.c.send(new d.F({_internalName:e._internalName,data:t.data??{},_id:e._id,error:t.error}));void 0!==n&&this.appendToQueue(n)}catch(e){if(y.error("Erreur lors de l'envoi du ProcessCommand de suivi",e),e instanceof TypeError&&"Failed to fetch"===e.message||"object"==typeof e&&null!==e&&"status"in e&&"number"==typeof e.status)return}}async process({command:e,callback:t}){y.info("process",e._internalName),this.currentCommand=e,this.emitQueueState();try{const n=await h.a.getCsrfToken();if(void 0===n)y.warn("CSRF token is not found"),await this.sendFollowUpProcessCommand(e,{error:"unauthenticated"}),this.queue=[],this.currentCommand=void 0,this.state=c.O.Idle;else{const s=new o.u({csrf:n,locale:(0,r.B)()}),a=await s.send(e);y.debug("result",a,a.error instanceof i.Vv),a.error instanceof i.Vv?(y.error("CSRF token is not valid"),await this.sendFollowUpProcessCommand(e,{error:"unauthenticated"}),this.queue=[],this.currentCommand=void 0,this.state=c.O.Idle,await h.a.setCsrfToken(void 0)):a.error instanceof Error?(y.error(a),await this.sendFollowUpProcessCommand(e,{error:a.error.message})):(y.info("forward result",e._internalName,a),await this.sendFollowUpProcessCommand(e,{data:a.response}),void 0!==t&&t())}}catch(t){y.error(t),await this.sendFollowUpProcessCommand(e,{error:t instanceof Error?t.message:String(t)}),t instanceof g.v&&"unauthenticated ln user"===t.message&&await h.a.setCsrfToken(void 0)}finally{const e=this.queue.shift();y.debug("nextCommand",e),void 0!==e?this.process(e):(this.state=c.O.Idle,this.currentCommand=void 0,this.emitQueueState())}}}},7151:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});var o=n(8221),i=n(1414),s=n(4729),r=n(5933);const a=new i.C("DeleteFirstCommentMessageHandler");class c extends o.kY{validate(e){return super.validate(e)&&"delete_first_comment"===e.type}async handle(e){a.info(e),await r.c.send(new s.e(e.draftId))}}},7229:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});var o=n(8532),i=n(4473),s=n(9495),r=n(2098);const a=({userPoolName:e,username:t,challengeParameters:n,dateNow:i,hkdf:a})=>{const d=r.U.convert(e),u=r.U.convert(t),l=c(n.SECRET_BLOCK),p=r.U.convert(i),g=new Uint8Array(d.byteLength+u.byteLength+l.byteLength+p.byteLength);g.set(d,0),g.set(u,d.byteLength),g.set(l,d.byteLength+u.byteLength),g.set(p,d.byteLength+u.byteLength+l.byteLength);const h=new o.I(a);h.update(g);const m=h.digestSync();return s.Y.convert(m)},c=e=>{const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=i.m.convert(t),o=new Uint8Array(n.length);for(let e=0;e<n.length;++e)o[e]=n.charCodeAt(e);return o}},7258:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){super(o.Jt,{path:`/draft/${e}`})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},7286:(e,t,n)=>{"use strict";n.d(t,{f:()=>p});var o=n(5811),i=n(7303),s=n(6209),r=n(456),a=n(9427),c=(n(8532),n(4311)),d=n(7229),u=n(1030),l=n(2735);async function p(e,t,n,p,g,h,m){const{userPoolId:f,userPoolClientId:y,userPoolEndpoint:w}=h,v=f?.split("_")[1]||"",E=new a.A(t?.SRP_B,16),A=new a.A(t?.SALT,16),I=t?.USER_ID_FOR_SRP;if(!I)throw new o.l({name:"EmptyUserIdForSRPException",message:"USER_ID_FOR_SRP was not found in challengeParameters"});const x=await g.getPasswordAuthenticationKey({username:I,password:e,serverBValue:E,salt:A}),S=(0,c.q)(),C={USERNAME:I,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:S,PASSWORD_CLAIM_SIGNATURE:(0,d.I)({username:I,userPoolName:v,challengeParameters:t,dateNow:S,hkdf:x})},b=await m.getDeviceMetadata(I);b&&b.deviceKey&&(C.DEVICE_KEY=b.deviceKey);const P={ChallengeName:"PASSWORD_VERIFIER",ChallengeResponses:C,ClientMetadata:n,Session:p,ClientId:y,UserContextData:(0,u.d)({username:I,userPoolId:f,userPoolClientId:y})},_=(0,i.H)({endpointResolver:(0,s.o)({endpointOverride:w})}),T=await _({region:(0,r.J)(f)},P);return"DEVICE_SRP_AUTH"===T.ChallengeName?(0,l.O)({username:I,config:h,clientMetadata:n,session:T.Session,tokenOrchestrator:m}):T}},7303:(e,t,n)=>{"use strict";n.d(t,{H:()=>c});var o=n(914),i=n(4337),s=n(8106),r=n(915),a=n(2250);const c=e=>(0,o.A)(i.e,(0,s._)("RespondToAuthChallenge"),(0,r.T)(),{...a.C,...e})},7349:(e,t,n)=>{"use strict";n.d(t,{O:()=>d});var o=n(8221),i=n(1414),s=n(4112),r=n(5933),a=n(6491);const c=new i.C("GetCtaMessageHandler");class d extends o.kY{validate(e){return super.validate(e)&&"get_cta"===e.type}async handle(e){return c.info(e),r.c.send(new s.G({page:e.page,locale:(0,a.B)()}))}}},7474:(e,t,n)=>{"use strict";n.d(t,{r:()=>f});var o=n(12),i=n(2441),s=n(1746),r=n(5811),a=n(6863),c=n(4520),d=n(6794),u=n(582),l=n(1978),p=n(627),g=n(4627),h=n(1816),m=n(631);async function f(e){const{challengeResponse:t,options:n}=e,{username:f,challengeName:y,signInSession:w,signInDetails:v}=s.c$.getState(),E=o.H.getConfig().Auth?.Cognito;(0,i.$y)(E);const A=n?.clientMetadata;if((0,d.M)(!!t,u.P.EmptyChallengeResponse),!f||!y||!w)throw new r.l({name:l.nC.SignInException,message:"\n\t\t\tAn error occurred during the sign in process.\n\n\t\t\tThis most likely occurred due to:\n\t\t\t1. signIn was not called before confirmSignIn.\n\t\t\t2. signIn threw an exception.\n\t\t\t3. page was refreshed during the sign in flow and session has expired.\n\t\t\t",recoverySuggestion:"Make sure a successful call to signIn is made before calling confirmSignInand that the session has not expired."});try{const{Session:e,ChallengeName:o,AuthenticationResult:i,ChallengeParameters:r}=await(0,a.XE)(f,y,w,t,E,g.o,A,n);return(0,s.wr)({signInSession:e,username:f,challengeName:o,signInDetails:v}),i?(await(0,p.i)({username:f,...i,NewDeviceMetadata:await(0,m.i)({userPoolId:E.userPoolId,userPoolEndpoint:E.userPoolEndpoint,newDeviceMetadata:i.NewDeviceMetadata,accessToken:i.AccessToken}),signInDetails:v}),(0,s.jN)(),await(0,h.Q)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):(0,a.q2)({challengeName:o,challengeParameters:r})}catch(e){(0,c.e)(e);const t=(0,a.m$)(e.name);if(t)return t;throw e}}},7488:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){const{draftId:t,content:n,title:i,programmingDate:s,sharing:r,organization:a,person:c,urn:d,firstComment:u,firstCommentContent:l,objective:p,categories:g,review:h}=e,m={};if(void 0!==n&&(m.content=n),void 0!==i&&(m.title=i),void 0!==s&&(m.programmingDate=s),void 0!==r&&(m.sharing=r),void 0!==a&&(m.organization=a),void 0!==c&&(m.person=c),void 0!==d&&(m.urn=d),void 0!==u&&(m.firstComment=u),void 0!==l&&(m.firstCommentContent=l),void 0!==p&&(m.objective=p),void 0!==g&&(m.categories=g),void 0!==h&&(m.review=h),0===Object.keys(m).length)throw new Error("No parameters to update");super(o.bE,{path:`/draft/${t}`,options:{body:m}})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},7522:(e,t,n)=>{"use strict";n.d(t,{p:()=>c});var o=n(8221),i=n(1414),s=n(2146),r=n(5933);const a=new i.C("GetCustomCtaMessageHandler");class c extends o.kY{validate(e){return super.validate(e)&&"get_custom_cta"===e.type}async handle(e){return a.info(e),r.c.send(new s.w)}}},7563:(e,t,n)=>{"use strict";var o,i,s,r,a,c,d,u,l,p,g,h,m,f;n.d(t,{BM:()=>c,b7:()=>i,dT:()=>o}),function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"}(o||(o={})),function(e){e.AI="ai",e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"}(i||(i={})),function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnMessage="7",e.Generation="8",e.UpdateConversation="9"}(s||(s={})),function(e){e.Record="1",e.IdentifyUser="2"}(r||(r={})),function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"}(a||(a={})),function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36",e.StartWebAuthnRegistration="37",e.CompleteWebAuthnRegistration="38",e.ListWebAuthnCredentials="39",e.DeleteWebAuthnCredential="40"}(c||(c={})),function(e){e.Subscribe="1",e.GraphQl="2"}(d||(d={})),function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"}(u||(u={})),function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"}(l||(l={})),function(e){e.None="0"}(p||(p={})),function(e){e.Convert="1",e.Identify="2",e.Interpret="3"}(g||(g={})),function(e){e.Subscribe="1"}(h||(h={})),function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"}(m||(m={})),function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7",e.GetDataAccess="8",e.ListCallerAccessGrants="9"}(f||(f={}))},7737:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){super(o.Jt,{path:`/canva/get-export-job-status/${e.exportId}`})}async deserialize(e){const{body:t}=await e.response;return await t.json()}}},7791:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor(e){super(o.Jt,{path:`/extension/command-status/${e}`})}async deserialize(e){const{body:t,statusCode:n}=await e.response;if(404!==n)return await t.json()}}},7796:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var o=n(1746);function i(e){const{dispatch:t}=o.c$;t({type:"SET_USERNAME",value:e})}},7835:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var o=n(2694);class i extends o.v{constructor(e={}){super({name:"CanceledError",message:"Request is canceled by user",...e}),this.constructor=i,Object.setPrototypeOf(this,i.prototype)}}},7884:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});const o=(e,t)=>(n,o)=>{const i={};let s=t=>e(t,o);for(let e=t.length-1;e>=0;e--)s=(0,t[e])(o)(s,i);return s(n)}},7954:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor({id:e,name:t,picture:n,urn:i,isOrganization:s}){super(o.bE,{path:`/list/${e}/addtolist`,options:{body:{urn:i,name:t,picture:n,isOrganization:s??!1}}})}async deserialize(e){await e.response}}},8106:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});const o=e=>(t,n)=>{const o=i(e),r=JSON.stringify(t);return s(n,o,r)},i=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),s=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"})},8221:(e,t,n)=>{"use strict";n.d(t,{Lr:()=>s,kY:()=>r});var o=n(3131),i=n.n(o);function s(e){return function(t,n,o){if("object"==typeof t&&null!==t&&"type"in t){const i=t;if("string"==typeof i.type){const t=e[i.type];if(t){const e=new t;if(e.validate(i)){const t=e.handle(i,n);return o?(t.then(e=>{o(e)}).catch(e=>{console.error("Error handling message:",e),o(void 0)}),!0):t}}}}return o&&o(void 0),!0}}class r{validate(e){return"object"==typeof e&&null!==e&&"type"in e&&"string"==typeof e.type}}class a{response;constructor(e){this.response=e}}Error,new class{async send(e){const t=await i().runtime.sendMessage(e.message),n=e.deserialize(t);return new a(n)}}},8260:(e,t,n)=>{"use strict";n.d(t,{a:()=>u});var o=n(5049),i=n(3394),s=n.n(i),r=n(3391),a=n(9251),c=n(7032);const d=new r.Ay(1);class u{static async isAuthenticated(){return(0,a.$)().then(e=>void 0!==e.userSub).catch(()=>!1)}static async get(){return new o.Cw("session").get()}static async login(e,t){const n=await d.acquire(),i=new o.Cw("session"),s=await i.set({user:e,lists:t});return c.o.identify(e._id),n(),s}static async setUser(e){const t=await d.acquire(),n=new o.Cw("session"),i=await n.get();let r;return r=void 0===i?await n.set({user:e,lists:[]}):await n.set(s()(i,{user:{$set:e}})),c.o.identify(e._id),t(),r}static async setLists(e){const t=await d.acquire(),n=new o.Cw("session"),i=await n.get();let r;if(void 0===i)throw new Error("Session not found");return r=await n.set(s()(i,{lists:{$set:e}})),t(),r}static async getCsrfToken(){return new o.Cw("csrf").get()}static async setCsrfToken(e){const t=new o.Cw("csrf",{maxAge:{days:7}});void 0===e?await t.delete():await t.set(e)}}},8376:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var o=n(4721);function i(e){return function(e,t){const n=(0,o.a)(e,t?.in);return n.setHours(23,59,59,999),n}(Date.now(),e)}},8379:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var o=n(5811);async function i(e,t,n,i){try{return await e(...t)}catch(s){if(s instanceof o.l&&"ResourceNotFoundException"===s.name&&s.message.includes("Device does not exist."))return await i.clearDeviceMetadata(n),e(...t);throw s}}},8446:(e,t,n)=>{"use strict";n.d(t,{L:()=>g});var o=n(1414),i=n(5999);class s extends i.es{constructor(e,t){let n="";!0===e.includeWebMetadata&&(n="includeWebMetadata=true&");let o="";void 0!==e.variables&&(o=`variables=${e.variables}&`);let i="";void 0!==e.action&&(i=`action=${e.action}&`),super(void 0===t?"GET":"POST",`https://www.linkedin.com/voyager/api/graphql?${i}${n}${o}queryId=${e.queryId}`,t)}}var r=n(1243),a=n(9136),c=n(8221),d=n(8260),u=n(6491);const l=new o.C("SearchTypeaheadMessageHandler");class p extends s{constructor({keyword:e,typeaheadUseCase:t,queryId:n}){super({variables:`(keywords:${e},query:(typeaheadUseCase:${t}))`,includeWebMetadata:!0,queryId:n})}}class g extends c.kY{validate(e){return!!super.validate(e)&&(0,a.Qi)(e)}async handle(e,t){l.debug("Handling search typeahead request",{requestId:e.queryId});const n=await d.a.getCsrfToken();if(void 0===n)return l.warn("Missing CSRF token for search typeahead request"),{status:"error",type:"search_typeahead_response",source:"perfectpost",error:"Missing CSRF token",code:"UNAUTHENTICATED"};const o=new r.u({csrf:n,locale:(0,u.B)()}),s=new p({keyword:e.searchKeyword,typeaheadUseCase:"MENTIONS",queryId:e.queryId});try{const e=await o.send(s);if(e.error instanceof i.Vv)return l.warn("LinkedIn CSRF token invalid for search typeahead request"),await d.a.setCsrfToken(void 0),{type:"search_typeahead_response",source:"perfectpost",status:"error",error:"LinkedIn CSRF token invalid",code:"CSRF"};if(e.error instanceof Error)return l.error("LinkedIn request failed for search typeahead request",e.error),{type:"search_typeahead_response",source:"perfectpost",status:"error",error:e.error.message,code:"LINKEDIN"};l.debug("LinkedIn request succeeded for search typeahead request",{hasResponse:void 0!==e.response});const t=e.response,n=t?.data.data.searchDashReusableTypeaheadByBlended.elements.map(e=>{const t=e.target?.["*profile"]??e.target?.["*company"];if(void 0===t)return;const n=e.image?.attributes.map(e=>e.detailData?.nonEntityProfilePicture?.vectorImage??e.detailData?.nonEntityCompanyLogo?.vectorImage).find(e=>null!=e);let o;if(void 0!==n){const e=n.artifacts.find(e=>100===e.width);o=`${n.rootUrl}${e?.fileIdentifyingUrlPathSegment}`}return{entityUrn:t,picture:o,value:e.title.text,objectUrn:e.trackingUrn}}).filter(e=>void 0!==e);return{type:"search_typeahead_response",source:"perfectpost",status:"success",payload:n??[]}}catch(e){const t=e instanceof Error?e.message:"Unexpected error";return l.error("Unexpected error while processing search typeahead request",e),e instanceof i.Vv&&await d.a.setCsrfToken(void 0),{type:"search_typeahead_response",source:"perfectpost",status:"error",error:t,code:"UNEXPECTED"}}}}},8508:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});var o=n(1288),i=n(1496);class s extends i.u{constructor({id:e,urn:t}){super(o.bE,{path:`/list/${e}/removefromlist`,options:{body:{urn:t}}})}async deserialize(e){await e.response}}},8532:(e,t,n)=>{"use strict";n.d(t,{I:()=>u}),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var o=64,i=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],r=Math.pow(2,53)-1,a=function(){function e(){this.state=Int32Array.from(s),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===o&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%o>=56){for(var i=this.bufferLength;i<o;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<56;i++)t.setUint8(i,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}var s=new Uint8Array(32);for(i=0;i<8;i++)s[4*i]=this.state[i]>>>24&255,s[4*i+1]=this.state[i]>>>16&255,s[4*i+2]=this.state[i]>>>8&255,s[4*i+3]=this.state[i]>>>0&255;return s},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],s=t[1],r=t[2],a=t[3],c=t[4],d=t[5],u=t[6],l=t[7],p=0;p<o;p++){if(p<16)this.temp[p]=(255&e[4*p])<<24|(255&e[4*p+1])<<16|(255&e[4*p+2])<<8|255&e[4*p+3];else{var g=this.temp[p-2],h=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,m=((g=this.temp[p-15])>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;this.temp[p]=(h+this.temp[p-7]|0)+(m+this.temp[p-16]|0)}var f=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&d^~c&u)|0)+(l+(i[p]+this.temp[p]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&s^n&r^s&r)|0;l=u,u=d,d=c,c=a+f|0,a=r,r=s,s=n,n=f+y|0}t[0]+=n,t[1]+=s,t[2]+=r,t[3]+=a,t[4]+=c,t[5]+=d,t[6]+=u,t[7]+=l},e}(),c="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:e=>(new TextEncoder).encode(e);function d(e){return e instanceof Uint8Array?e:"string"==typeof e?c(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var u=function(){function e(e){this.secret=e,this.hash=new a,this.reset()}return e.prototype.update=function(e){var t;if(("string"==typeof(t=e)?0!==t.length:0!==t.byteLength)&&!this.error)try{this.hash.update(d(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return e=this,t=void 0,o=function(){return function(e,t){var n,o,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return r.next=a(0),r.throw=a(1),r.return=a(2),"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,function(e){return[2,this.digestSync()]})},new((n=void 0)||(n=Promise))(function(i,s){function r(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,a)}c((o=o.apply(e,t||[])).next())});var e,t,n,o},e.prototype.reset=function(){if(this.hash=new a,this.secret){this.outer=new a;var e=function(e){var t=d(e);if(t.byteLength>o){var n=new a;n.update(t),t=n.digest()}var i=new Uint8Array(o);return i.set(t),i}(this.secret),t=new Uint8Array(o);t.set(e);for(var n=0;n<o;n++)e[n]^=54,t[n]^=92;for(this.hash.update(e),this.outer.update(t),n=0;n<e.byteLength;n++)e[n]=0}},e}()},8625:(e,t,n)=>{"use strict";n.d(t,{C:()=>l});var o=n(8221),i=n(1414),s=n(1642),r=n(5049),a=n(5620),c=n(3634),d=n(7032);const u=new i.C("LogoutMessageHandler");class l extends o.kY{validate(e){return super.validate(e)&&"logout"===e.type}async handle(e){u.info(e);const t=await(0,s.C)();u.info(t),await r.Eb.clear(),await a.T.getInstance().clearActivityCache(),d.o.track("logout"),d.o.reset(),c.N.updateBadge()}}},8635:(e,t,n)=>{"use strict";function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}var i=function e(t,n){function i(e,i,s){if("undefined"!=typeof document){"number"==typeof(s=o({},n,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var a in s)s[a]&&(r+="; "+a,!0!==s[a]&&(r+="="+s[a].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+r}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],o={},i=0;i<n.length;i++){var s=n[i].split("="),r=s.slice(1).join("=");try{var a=decodeURIComponent(s[0]);if(o[a]=t.read(r,a),e===a)break}catch(e){}}return e?o[e]:o}},remove:function(e,t){i(e,"",o({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,o({},this.attributes,t))},withConverter:function(t){return e(o({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class s{constructor(e={}){const{path:t,domain:n,expires:o,sameSite:i,secure:s}=e;if(this.domain=n,this.path=t||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?o:365,this.secure=!Object.prototype.hasOwnProperty.call(e,"secure")||s,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!i||!["strict","lax","none"].includes(i))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===i&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=i}}async setItem(e,t){i.set(e,t,this.getData())}async getItem(e){return i.get(e)??null}async removeItem(e){i.remove(e,this.getData())}async clear(){const e=i.get(),t=Object.keys(e).map(e=>this.removeItem(e));await Promise.all(t)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}var r=n(3541),a=n(12),c=n(4216),d=n(1414),u=(n(8532),n(4424),n(3939)),l=n(4780),p=n(1007),g=n(914),h=n(4665),m=n(6301);const f="cognito-identity",y={service:f,retryDecider:(0,m.D)(p.F),computeDelay:h.y,cache:"no-store"};var w=n(1527);const v=(0,n(7884).q)(w.F,[()=>e=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),E=e=>(t,n)=>{const o=A(e),i=JSON.stringify(t);return I(n,o,i)},A=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),I=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}),x=e=>(0,g.A)(v,E("GetCredentialsForIdentity"),S,{...y,...e,userAgentValue:(0,u.fE)()}),S=async e=>{if(e.statusCode>=300)throw await(0,p.F)(e);const t=await(0,p.Y)(e);return{IdentityId:t.IdentityId,Credentials:C(t.Credentials),$metadata:(0,l.j)(e)}},C=({Expiration:e,...t}={})=>({...t,Expiration:e&&new Date(1e3*e)});var b=n(2441),P=n(5811),_=n(4520),T=n(456),R=n(2331),N=n(4498),k=n(5368);const U=({endpointOverride:e})=>t=>e?{url:new k.o(e)}:(({region:e})=>({url:new k.o(`https://${f}.${e}.${(0,N.R)(e)}`)}))(t),M=async e=>{if(e.statusCode>=300)throw await(0,p.F)(e);return{IdentityId:(await(0,p.Y)(e)).IdentityId,$metadata:(0,l.j)(e)}};function D(e){const t=(0,b.Cq)(e).payload.iss,n={};if(!t)throw new P.l({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return n[t.replace(/(^\w+:|^)\/\//,"")]=e,n}const O=new d.C("CognitoCredentialsProvider"),F=3e6;class L{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){O.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){O.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){const t=e.authenticated,{tokens:n}=e,{authConfig:o}=e;try{(0,b.Eh)(o?.Cognito)}catch{return}if(!t&&!o.Cognito.allowGuestAccess)return;const{forceRefresh:i}=e,s=this.hasTokenChanged(n),r=await async function({tokens:e,authConfig:t,identityIdStore:n}){n.setAuthConfig({Cognito:t});const o=await n.loadIdentityId();if(o)return o.id;const i=e?.idToken?D(e.idToken.toString()):{},s=await async function(e,t){const n=t?.identityPoolId,o=(0,T.C)(n),i=(e=>(0,g.A)(v,E("GetId"),M,{...y,...e,userAgentValue:(0,u.fE)()}))({endpointResolver:U({endpointOverride:t.identityPoolEndpoint})});let s;try{s=(await i({region:o},{IdentityPoolId:n,Logins:e})).IdentityId}catch(e){throw(0,_.e)(e),new P.l(e)}if(!s)throw new P.l({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return s}(i,t);return n.storeIdentityId({id:s,type:e?"primary":"guest"}),s}({tokens:n,authConfig:o.Cognito,identityIdStore:this._identityIdStore});return(i||s)&&this.clearCredentials(),t?((0,R.OW)(n),this.credsForOIDCTokens(o.Cognito,n,r)):this.getGuestCredentials(r,o.Cognito)}async getGuestCredentials(e,t){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return O.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const n=(0,T.C)(t.identityPoolId),o=x({endpointResolver:U({endpointOverride:t.identityPoolEndpoint})});let i;try{i=await o({region:n},{IdentityId:e})}catch(e){throw(0,_.e)(e),new P.l(e)}if(i?.Credentials?.AccessKeyId&&i?.Credentials?.SecretKey){this._nextCredentialsRefresh=(new Date).getTime()+F;const t={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:e};return i.IdentityId&&(t.identityId=i.IdentityId,this._identityIdStore.storeIdentityId({id:i.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!1},t}throw new P.l({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return O.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const o=t.idToken?D(t.idToken.toString()):{},i=(0,T.C)(e.identityPoolId),s=x({endpointResolver:U({endpointOverride:e.identityPoolEndpoint})});let r;try{r=await s({region:i},{IdentityId:n,Logins:o})}catch(e){throw(0,_.e)(e),new P.l(e)}if(r?.Credentials?.AccessKeyId&&r?.Credentials?.SecretKey){this._nextCredentialsRefresh=(new Date).getTime()+F;const e={credentials:{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration},identityId:n};return r.IdentityId&&(e.identityId=r.IdentityId,this._identityIdStore.storeIdentityId({id:r.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!0,associatedIdToken:t.idToken?.toString()},e}throw new P.l({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}var $=n(5648);const q={identityId:"identityId"},j=new d.C("DefaultIdentityIdStore");class V{setAuthConfig(e){(0,b.Eh)(e.Cognito),this.authConfig=e,this._authKeys=B("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){(0,b.Eh)(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const e=await this.keyValueStorage.getItem(this._authKeys.identityId);return e?(this._hasGuestIdentityId=!0,{id:e,type:"guest"}):null}}catch(e){return j.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){(0,b.Eh)(this.authConfig?.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}const B=(e,t)=>(0,$.Qm)(q)(`com.amplify.${e}`,t),H=new L(new V(r.ZL));var K=n(4627);const z={configure(e,t){const n=(0,c.M)(e),o=new s({sameSite:"lax"}),i=t?.ssr?o:r.ZL,d=t?.ssr?new L(new V(o)):H;if(n.Auth)if(t?.Auth)a.H.configure(n,t);else{if(!a.H.libraryOptions.Auth)return K.Q.setAuthConfig(n.Auth),K.Q.setKeyValueStorage(i),void a.H.configure(n,{...t,Auth:{tokenProvider:K.Q,credentialsProvider:d}});if(t){const e=a.H.libraryOptions.Auth;return void 0!==t.ssr&&(K.Q.setKeyValueStorage(i),e.credentialsProvider=d),void a.H.configure(n,{Auth:e,...t})}a.H.configure(n)}else a.H.configure(n,t)},getConfig:()=>a.H.getConfig()};var W=n(9280),G=n(3131),Y=n.n(G),J=n(135),Q=n(3331),Z=n(3634),X=n(4984),ee=n(2020),te=n(3023),ne=n(6370),oe=n(9116),ie=n(9244),se=n(6040);d.C.LOG_LEVEL=J.E$;const re=new d.C("background");z.configure({Auth:{Cognito:{identityPoolId:J.s6,userPoolId:J.V7,userPoolClientId:J.Cz}},API:{REST:{[J.FZ]:{endpoint:J.xE,region:"eu-west-3"},chatkit:{endpoint:J.Do,region:"eu-west-3"}}}}),K.Q.setKeyValueStorage(Q.D),globalThis.addEventListener("unhandledrejection",()=>{}),globalThis.addEventListener("error",()=>{}),W.YZ.listen("auth",({payload:e})=>{switch(e.event){case"signedIn":re.debug("user have been signedIn successfully."),Z.N.updateBadge();break;case"signedOut":re.debug("user have been signedOut successfully."),Z.N.updateBadge();break;case"tokenRefresh":re.debug("auth tokens have been refreshed.");break;case"tokenRefresh_failure":re.error("failure while refreshing auth tokens."),Z.N.updateBadge()}}),Y().storage.onChanged.addListener((e,t)=>{re.debug("Storage changed",{areaName:t,changes:e})}),Y().runtime.onInstalled.addListener(te._),Y().runtime.onStartup.addListener(ee.d),Y().runtime.onMessage.addListener(ne.x),Y().alarms.onAlarm.addListener(X.$),Y().webRequest.onBeforeRequest.addListener(oe.Tn,oe.vf,se.n?void 0:["requestBody"]),Y().webRequest.onCompleted.addListener(oe.W$,oe.vf,["responseHeaders"]),Y().webRequest.onBeforeRequest.addListener(ie.$,ie.d,se.n?void 0:["requestBody"])},8865:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var o=n(1288),i=n(1496),s=n(5999);class r extends i.u{constructor(){super(o.Jt,{path:"/extension/next-command"})}async deserialize(e){const{body:t,statusCode:n}=await e.response;if(204===n)return;const o=await t.json();return null===o||"object"!=typeof o||Array.isArray(o)?void 0:Object.assign(new s.es("GET",""),o)}}},9056:(e,t,n)=>{"use strict";n.d(t,{F:()=>w});var o=n(8221),i=n(1414),s=n(1971),r=n(1642),a=n(5933),c=n(6160),d=n(3339),u=n(8260),l=n(6166),p=n(3188),g=n(3131),h=n.n(g),m=n(7032),f=n(3385);const y=new i.C("LoginMessageHandler");class w extends o.kY{validate(e){return super.validate(e)&&"login"===e.type}async handle(e){y.info(e);const{email:t,password:n,csrf:o,miniProfile:i}=e;let g,w;await(0,r.C)();try{({nextStep:w}=await(0,s.J)({username:t,password:n}))}catch(e){if(y.error("Login failed",e),(0,f.$)(e))return{authenticated:!1,error:"INVALID_CREDENTIALS",message:(0,f.u)(e)};throw e}if("CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED"===w.signInStep)return g={challengeName:"NEW_PASSWORD_REQUIRED"},g;const v=await a.c.send(new d.s(h().runtime.getManifest().version)),E=await a.c.send(new c.S),A=await u.a.login(v,E),I=i?.entityUrn?.replace("urn:li:fs_miniProfile:","");return void 0===v.vanityName?(y.warn("LinkedIn account not associated with an vanityName"),g={authenticated:!0,error:"MISSING_ACCOUNT_ASSOCIATION"},g):void 0!==v.entityUrn&&v.entityUrn!==I||void 0===v.entityUrn&&v.vanityName!==i.publicIdentifier?(y.warn("LinkedIn account mismatch"),g={authenticated:!0,error:"ACCOUNT_MISMATCH",vanityName:v.vanityName},g):(await u.a.setCsrfToken(o),l.F.start(),m.o.track("login",{source:"extension"}),g=await(0,p.v)(A.user),g)}}},9116:(e,t,n)=>{"use strict";n.d(t,{Tn:()=>h,W$:()=>m,vf:()=>g});var o=n(8260),i=n(5049),s=n(2643),r=n(1414),a=n(7488),c=n(4537),d=n(3614),u=n(5933),l=n(6166);const p=new r.C("onBeforeRequestPublishPost"),g={urls:["https://www.linkedin.com/voyager/api/graphql?*queryId=voyagerContentcreationDashShares.*"]};async function h(e){if(p.info("onBeforeRequest",e),!1===await o.a.isAuthenticated())return{};const t=new i.Cw("currentDraftId"),n=new i.Cw("currentRequestId"),r=await t.get();if(p.info("currentDraftId",r),void 0===r)return{};n.set(e.requestId);const a=e.requestBody?.raw?.map(e=>String.fromCharCode.apply(null,Array.from(new Uint8Array(e.bytes)))).join("")??"{}",c=JSON.parse(a);if((0,s.R)(c))if("SCHEDULED"===c.variables.post.intendedShareLifeCycleState&&void 0!==c.variables.post.scheduledAt){const e=new i.Cw("scheduledAt",{maxAge:{minutes:5}});await e.set(new Date(parseInt(c.variables.post.scheduledAt)).getTime())}else{const e=new i.Cw("publisehdAt",{maxAge:{minutes:5}});await e.set((new Date).getTime())}return{}}async function m(e){if(p.info("onCompleted",e),!1===await o.a.isAuthenticated())return;const t=new i.Cw("currentDraftId"),n=new i.Cw("scheduledAt"),s=new i.Cw("currentRequestId"),r=new i.Cw("publisehdAt"),g=await s.get(),h=await t.get(),m=await n.get(),f=await r.get();p.info({currentDraftId:h,scheduledAt:m,publisehdAt:f,currentRequestId:g}),g===e.requestId&&void 0!==h&&(void 0!==m?(await u.c.send(new a.E({draftId:h,urn:"urn:li:share:-1",programmingDate:new Date(m).toISOString()})),await u.c.send(new d.a)):void 0!==f&&(await u.c.send(new a.E({draftId:h,urn:"urn:li:share:-1",programmingDate:new Date(f).toISOString()})),await u.c.send(new c.Z)),t.delete(),n.delete(),r.delete(),s.delete(),setTimeout(()=>{l.F.onQueueServiceAlarm()},300))}},9136:(e,t,n)=>{"use strict";function o(e){if("object"!=typeof e||null===e)return!1;const t=e;return"search_typeahead"===t.type&&"string"==typeof t.searchKeyword&&"string"==typeof t.queryId}n.d(t,{Qi:()=>o})},9217:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var o=n(12),i=n(2441),s=n(2331);const r=async()=>(async e=>{const t=e.getConfig().Auth?.Cognito;(0,i.$y)(t);const n=await e.Auth.getTokens({forceRefresh:!1});(0,s.H0)(n);const{"cognito:username":o,sub:r}=n.idToken?.payload??{},a={username:o,userId:r},c=function(e){return e?.signInDetails}(n);return c&&(a.signInDetails=c),a})(o.H)},9244:(e,t,n)=>{"use strict";n.d(t,{$:()=>l,d:()=>u});var o=n(8260),i=n(1414),s=n(5933),r=n(4201),a=n(5620),c=n(2272);const d=new i.C("onBeforeRequestActivity"),u={urls:["https://www.linkedin.com/voyager/api/voyagerSocialDashNormComments*","https://www.linkedin.com/voyager/api/voyagerSocialDashReactions*","https://www.linkedin.com/voyager/api/graphql?*queryId=voyagerSocialDashReactions.*"]};async function l(e){if(!1===await o.a.isAuthenticated())return{};d.info(e);const t=await a.T.getInstance().getActivity();d.info(t);const n=t?.objectifComment??3,i=t?.objectifLike??10;if(void 0===t||"string"==typeof t||Array.isArray(t))return await a.T.getInstance().reloadActivity(),{};if(e.url.startsWith("https://www.linkedin.com/voyager/api/graphql")&&"POST"===e.method){const n=e.requestBody?.raw?.map(e=>String.fromCharCode.apply(null,Array.from(new Uint8Array(e.bytes)))).join("")??"{}";d.info(n);const o=JSON.parse(n);(0,c.I)(o)?(t.like+=1,await s.c.send(new r.q({mode:"inc",item:"like"}))):t.like>0&&(t.like-=1,await s.c.send(new r.q({mode:"dec",item:"like"})))}else e.url.startsWith("https://www.linkedin.com/voyager/api/voyagerSocialDashNormComments")?(t.comment+=1,await s.c.send(new r.q({mode:"inc",item:"comment"}))):e.url.startsWith("https://www.linkedin.com/voyager/api/voyagerSocialDashReactions")&&(e.url.startsWith("https://www.linkedin.com/voyager/api/voyagerSocialDashReactions?threadUrn=urn%3Ali%3Aactivity")||e.url.startsWith("https://www.linkedin.com/voyager/api/voyagerSocialDashReactions?threadUrn=urn%3Ali%3AugcPost")?(t.like+=1,await s.c.send(new r.q({mode:"inc",item:"like"}))):"https://www.linkedin.com/voyager/api/voyagerSocialDashReactions?action=deleteReaction"===e.url&&(t.like-=1,await s.c.send(new r.q({mode:"dec",item:"like"})),t.like<0&&(t.like=0)));return await a.T.getInstance().setActivity({...t,objectifComment:n,objectifLike:i}),{}}},9251:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});var o=n(12);const i=e=>((e,t)=>e.Auth.fetchAuthSession(t))(o.H,e)},9256:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var o=n(8221),i=n(7032);const s=new(n(1414).C)("TrackingMessageHandler");class r extends o.kY{validate(e){if(!super.validate(e))return!1;const t=e;return"tracking"===t.type&&"string"==typeof t.event&&(!("properties"in t)||void 0===t.properties||"object"==typeof(n=t.properties)&&null!==n&&Object.getPrototypeOf(n)===Object.prototype);var n}handle(e){s.info(e);const t=e.properties??{};return i.o.track(e.event,t),Promise.resolve()}}},9280:(e,t,n)=>{"use strict";n.d(t,{U9:()=>r,YZ:()=>d});var o=n(1414),i=n(1083),s=n(757);const r="undefined"!=typeof Symbol?Symbol("amplify_default"):"@@amplify_default",a=new o.C("Hub");class c{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,t){const n=this.listeners.get(e);n?this.listeners.set(e,[...n.filter(({callback:e})=>e!==t)]):a.warn(`No listeners for ${e}`)}dispatch(e,t,n,o){"string"==typeof e&&this.protectedChannels.indexOf(e)>-1&&(o===r||a.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`));const i={channel:e,payload:{...t},source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){a.error(e)}}listen(e,t,n="noname"){let o;if("function"!=typeof t)throw new s.x({name:i.d1,message:"No callback supplied to Hub"});o=t;let r=this.listeners.get(e);return r||(r=[],this.listeners.set(e,r)),r.push({name:n,callback:o}),()=>{this._remove(e,o)}}_toListeners(e){const{channel:t,payload:n}=e,o=this.listeners.get(t);o&&o.forEach(o=>{a.debug(`Dispatching to ${t} with `,n);try{o.callback(e)}catch(e){a.error(e)}})}}const d=new c("__default__");new c("internal-hub")},9427:(e,t,n)=>{"use strict";function o(e,t){null!=e&&this.fromString(e,t)}function i(){return new o(null,null)}let s;n.d(t,{A:()=>o});const r="undefined"!=typeof navigator;r&&"Microsoft Internet Explorer"===navigator.appName?(o.prototype.am=function(e,t,n,o,i,s){const r=32767&t,a=t>>15;for(;--s>=0;){let t=32767&this[e];const s=this[e++]>>15,c=a*t+s*r;t=r*t+((32767&c)<<15)+n[o]+(1073741823&i),i=(t>>>30)+(c>>>15)+a*s+(i>>>30),n[o++]=1073741823&t}return i},s=30):r&&"Netscape"!==navigator.appName?(o.prototype.am=function(e,t,n,o,i,s){for(;--s>=0;){const s=t*this[e++]+n[o]+i;i=Math.floor(s/67108864),n[o++]=67108863&s}return i},s=26):(o.prototype.am=function(e,t,n,o,i,s){const r=16383&t,a=t>>14;for(;--s>=0;){let t=16383&this[e];const s=this[e++]>>14,c=a*t+s*r;t=r*t+((16383&c)<<14)+n[o]+i,i=(t>>28)+(c>>14)+a*s,n[o++]=268435455&t}return i},s=28),o.prototype.DB=s,o.prototype.DM=(1<<s)-1,o.prototype.DV=1<<s,o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-s,o.prototype.F2=2*s-52;const a=[];let c,d;for(c="0".charCodeAt(0),d=0;d<=9;++d)a[c++]=d;for(c="a".charCodeAt(0),d=10;d<36;++d)a[c++]=d;for(c="A".charCodeAt(0),d=10;d<36;++d)a[c++]=d;function u(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function l(e,t){const n=a[e.charCodeAt(t)];return null==n?-1:n}function p(e){const t=i();return t.fromInt(e),t}function g(e){let t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function h(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}h.prototype.convert=function(e){const t=i();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(o.ZERO)>0&&this.m.subTo(t,t),t},h.prototype.revert=function(e){const t=i();return e.copyTo(t),this.reduce(t),t},h.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(let t=0;t<this.m.t;++t){let n=32767&e[t];const o=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,o,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},h.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},h.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},o.prototype.copyTo=function(e){for(let t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},o.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},o.prototype.fromString=function(e,t){let n;if(16===t)n=4;else if(8===t)n=3;else if(2===t)n=1;else if(32===t)n=5;else{if(4!==t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;let i=e.length,s=!1,r=0;for(;--i>=0;){const t=l(e,i);t<0?"-"===e.charAt(i)&&(s=!0):(s=!1,0===r?this[this.t++]=t:r+n>this.DB?(this[this.t-1]|=(t&(1<<this.DB-r)-1)<<r,this[this.t++]=t>>this.DB-r):this[this.t-1]|=t<<r,r+=n,r>=this.DB&&(r-=this.DB))}this.clamp(),s&&o.ZERO.subTo(this,this)},o.prototype.clamp=function(){const e=this.s&this.DM;for(;this.t>0&&this[this.t-1]==e;)--this.t},o.prototype.dlShiftTo=function(e,t){let n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},o.prototype.drShiftTo=function(e,t){for(let n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},o.prototype.lShiftTo=function(e,t){const n=e%this.DB,o=this.DB-n,i=(1<<o)-1,s=Math.floor(e/this.DB);let r,a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+s+1]=this[r]>>o|a,a=(this[r]&i)<<n;for(r=s-1;r>=0;--r)t[r]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},o.prototype.rShiftTo=function(e,t){t.s=this.s;const n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);const o=e%this.DB,i=this.DB-o,s=(1<<o)-1;t[0]=this[n]>>o;for(let e=n+1;e<this.t;++e)t[e-n-1]|=(this[e]&s)<<i,t[e-n]=this[e]>>o;o>0&&(t[this.t-n-1]|=(this.s&s)<<i),t.t=this.t-n,t.clamp()},o.prototype.subTo=function(e,t){let n=0,o=0;const i=Math.min(e.t,this.t);for(;n<i;)o+=this[n]-e[n],t[n++]=o&this.DM,o>>=this.DB;if(e.t<this.t){for(o-=e.s;n<this.t;)o+=this[n],t[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<e.t;)o-=e[n],t[n++]=o&this.DM,o>>=this.DB;o-=e.s}t.s=o<0?-1:0,o<-1?t[n++]=this.DV+o:o>0&&(t[n++]=o),t.t=n,t.clamp()},o.prototype.multiplyTo=function(e,t){const n=this.abs(),i=e.abs();let s=n.t;for(t.t=s+i.t;--s>=0;)t[s]=0;for(s=0;s<i.t;++s)t[s+n.t]=n.am(0,i[s],t,s,0,n.t);t.s=0,t.clamp(),this.s!==e.s&&o.ZERO.subTo(t,t)},o.prototype.squareTo=function(e){const t=this.abs();let n=e.t=2*t.t;for(;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){const o=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,o,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},o.prototype.divRemTo=function(e,t,n){const s=e.abs();if(s.t<=0)return;const r=this.abs();if(r.t<s.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null===n&&(n=i());const a=i(),c=this.s,d=e.s,u=this.DB-g(s[s.t-1]);u>0?(s.lShiftTo(u,a),r.lShiftTo(u,n)):(s.copyTo(a),r.copyTo(n));const l=a.t,p=a[l-1];if(0===p)return;const h=p*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),m=this.FV/h,f=(1<<this.F1)/h,y=1<<this.F2;let w=n.t,v=w-l;const E=null===t?i():t;for(a.dlShiftTo(v,E),n.compareTo(E)>=0&&(n[n.t++]=1,n.subTo(E,n)),o.ONE.dlShiftTo(l,E),E.subTo(a,a);a.t<l;)a[a.t++]=0;for(;--v>=0;){let e=n[--w]===p?this.DM:Math.floor(n[w]*m+(n[w-1]+y)*f);if((n[w]+=a.am(0,e,n,v,0,l))<e)for(a.dlShiftTo(v,E),n.subTo(E,n);n[w]<--e;)n.subTo(E,n)}null!==t&&(n.drShiftTo(l,t),c!==d&&o.ZERO.subTo(t,t)),n.t=l,n.clamp(),u>0&&n.rShiftTo(u,n),c<0&&o.ZERO.subTo(n,n)},o.prototype.invDigit=function(){if(this.t<1)return 0;const e=this[0];if(!(1&e))return 0;let t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t},o.prototype.addTo=function(e,t){let n=0,o=0;const i=Math.min(e.t,this.t);for(;n<i;)o+=this[n]+e[n],t[n++]=o&this.DM,o>>=this.DB;if(e.t<this.t){for(o+=e.s;n<this.t;)o+=this[n],t[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<e.t;)o+=e[n],t[n++]=o&this.DM,o>>=this.DB;o+=e.s}t.s=o<0?-1:0,o>0?t[n++]=o:o<-1&&(t[n++]=this.DV+o),t.t=n,t.clamp()},o.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);let t;if(16==e)t=4;else if(8===e)t=3;else if(2===e)t=1;else if(32===e)t=5;else{if(4!==e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}const n=(1<<t)-1;let o,i=!1,s="",r=this.t,a=this.DB-r*this.DB%t;if(r-- >0)for(a<this.DB&&(o=this[r]>>a)>0&&(i=!0,s=u(o));r>=0;)a<t?(o=(this[r]&(1<<a)-1)<<t-a,o|=this[--r]>>(a+=this.DB-t)):(o=this[r]>>(a-=t)&n,a<=0&&(a+=this.DB,--r)),o>0&&(i=!0),i&&(s+=u(o));return i?s:"0"},o.prototype.negate=function(){const e=i();return o.ZERO.subTo(this,e),e},o.prototype.abs=function(){return this.s<0?this.negate():this},o.prototype.compareTo=function(e){let t=this.s-e.s;if(0!=t)return t;let n=this.t;if(t=n-e.t,0!=t)return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},o.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+g(this[this.t-1]^this.s&this.DM)},o.prototype.mod=function(e){const t=i();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(o.ZERO)>0&&e.subTo(t,t),t},o.prototype.equals=function(e){return 0===this.compareTo(e)},o.prototype.add=function(e){const t=i();return this.addTo(e,t),t},o.prototype.subtract=function(e){const t=i();return this.subTo(e,t),t},o.prototype.multiply=function(e){const t=i();return this.multiplyTo(e,t),t},o.prototype.divide=function(e){const t=i();return this.divRemTo(e,t,null),t},o.prototype.modPow=function(e,t,n){let o,s=e.bitLength(),r=p(1);const a=new h(t);if(s<=0)return r;o=s<18?1:s<48?3:s<144?4:s<768?5:6;const c=[];let d=3;const u=o-1,l=(1<<o)-1;if(c[1]=a.convert(this),o>1){const e=i();for(a.sqrTo(c[1],e);d<=l;)c[d]=i(),a.mulTo(e,c[d-2],c[d]),d+=2}let m,f,y=e.t-1,w=!0,v=i();for(s=g(e[y])-1;y>=0;){for(s>=u?m=e[y]>>s-u&l:(m=(e[y]&(1<<s+1)-1)<<u-s,y>0&&(m|=e[y-1]>>this.DB+s-u)),d=o;!(1&m);)m>>=1,--d;if((s-=d)<0&&(s+=this.DB,--y),w)c[m].copyTo(r),w=!1;else{for(;d>1;)a.sqrTo(r,v),a.sqrTo(v,r),d-=2;d>0?a.sqrTo(r,v):(f=r,r=v,v=f),a.mulTo(v,c[m],r)}for(;y>=0&&!(e[y]&1<<s);)a.sqrTo(r,v),f=r,r=v,v=f,--s<0&&(s=this.DB-1,--y)}const E=a.revert(r);return n(null,E),E},o.ZERO=p(0),o.ONE=p(1)},9428:(e,t,n)=>{"use strict";n.d(t,{v:()=>c});var o=n(8221),i=n(1414),s=n(8260),r=n(9251);const a=new i.C("GetProfileMessageHandler");class c extends o.kY{validate(e){return super.validate(e)&&"get_profile"===e.type}async handle(e){return a.info(e),(0,r.$)().then(async()=>s.a.get().then(e=>e?.user)).catch(()=>{})}}},9484:(e,t,n)=>{"use strict";n.d(t,{J:()=>y});var o=n(8221),i=n(1414),s=n(1971),r=n(7474),a=n(5933),c=n(6160),d=n(3339),u=n(8260),l=n(6166),p=n(3188),g=n(3131),h=n.n(g),m=n(7032);const f=new i.C("ChangePasswordMessageHandler");class y extends o.kY{validate(e){return super.validate(e)&&"change_password"===e.type}async handle(e){f.info(e);const{email:t,newPassword:n,oldPassword:o,miniProfile:i,csrf:g}=e;let y;const{nextStep:w}=await(0,s.J)({username:t,password:o});if("CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED"!==w.signInStep)return y={authenticated:!1,error:"WRONG_PROFILE_STATE"},y;const{nextStep:v,...E}=await(0,r.r)({challengeResponse:n});f.info(E,v);const A=i?.entityUrn?.replace("urn:li:fs_miniProfile:",""),I=await a.c.send(new d.s(h().runtime.getManifest().version));if(void 0===I.vanityName)return f.warn("LinkedIn account not associated with an vanityName"),y={authenticated:!0,error:"MISSING_ACCOUNT_ASSOCIATION"},y;if(void 0!==I.entityUrn&&I.entityUrn!==A||void 0===I.entityUrn&&I.vanityName!==i.publicIdentifier)return f.warn("LinkedIn account mismatch"),y={authenticated:!0,error:"ACCOUNT_MISMATCH",vanityName:I.vanityName},y;const x=await a.c.send(new c.S),S=await u.a.login(I,x);return await u.a.setCsrfToken(g),l.F.start(),m.o.track("reset-password"),y=await(0,p.v)(S.user),y}}},9495:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var o=n(1963);const i={convert(e,t={urlSafe:!1,skipPadding:!1}){const n="string"==typeof e?e:function(e){return Array.from(e,e=>String.fromCodePoint(e)).join("")}(e);let i=(0,o.xA)()(n);return t.urlSafe&&(i=i.replace(/\+/g,"-").replace(/\//g,"_")),t.skipPadding&&(i=i.replace(/=/g,"")),i}}},9593:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var o=n(757),i=n(4435);const s=e=>{let t;return()=>(t||(t=e()),t)},r=e=>!["HEAD","GET"].includes(e.toUpperCase()),a=async({url:e,method:t,headers:n,body:a},{abortSignal:c,cache:d,withCrossDomainCredentials:u})=>{let l;try{l=await fetch(e,{method:t,headers:n,body:r(t)?a:void 0,signal:c,cache:d,credentials:u?"include":"same-origin"})}catch(e){if(e instanceof TypeError)throw new o.x({name:i.m.NetworkError,message:"A network error has occurred.",underlyingError:e});throw e}const p={};return l.headers?.forEach((e,t)=>{p[t.toLowerCase()]=e}),{statusCode:l.status,headers:p,body:null,body:Object.assign(l.body??{},{text:s(()=>l.text()),blob:s(()=>l.blob()),json:s(()=>l.json())})}}},9821:(e,t,n)=>{"use strict";n.d(t,{R:()=>c});var o=n(914),i=n(8106),s=n(915),r=n(4337),a=n(2250);const c=e=>(0,o.A)(r.e,(0,i._)("InitiateAuth"),(0,s.T)(),{...a.C,...e})}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(8635)})()})();
//# sourceMappingURL=background.js.map